var pl=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Gh=pl((Hr,hl)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function qr(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}function Kr(e){if(Te(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=rt(i)?vl(i):Kr(i);if(r)for(const o in r)t[o]=r[o]}return t}else{if(rt(e))return e;if(We(e))return e}}const ml=/;(?![^(]*\))/g,gl=/:([^]+)/,yl=/\/\*.*?\*\//gs;function vl(e){const t={};return e.replace(yl,"").split(ml).forEach(n=>{if(n){const i=n.split(gl);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Wr(e){let t="";if(rt(e))t=e;else if(Te(e))for(let n=0;n<e.length;n++){const i=Wr(e[n]);i&&(t+=i+" ")}else if(We(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const bl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",El=qr(bl);function Po(e){return!!e||e===""}function Sl(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=Gi(e[i],t[i]);return n}function Gi(e,t){if(e===t)return!0;let n=Ts(e),i=Ts(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=Xn(e),i=Xn(t),n||i)return e===t;if(n=Te(e),i=Te(t),n||i)return n&&i?Sl(e,t):!1;if(n=We(e),i=We(t),n||i){if(!n||!i)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const a in e){const u=e.hasOwnProperty(a),f=t.hasOwnProperty(a);if(u&&!f||!u&&f||!Gi(e[a],t[a]))return!1}}return String(e)===String(t)}function Do(e,t){return e.findIndex(n=>Gi(n,t))}const Hn=e=>rt(e)?e:e==null?"":Te(e)||We(e)&&(e.toString===xo||!De(e.toString))?JSON.stringify(e,Io,2):String(e),Io=(e,t)=>t&&t.__v_isRef?Io(e,t.value):An(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r])=>(n[`${i} =>`]=r,n),{})}:Hi(t)?{[`Set(${t.size})`]:[...t.values()]}:We(t)&&!Te(t)&&!Mo(t)?String(t):t,Je={},Sn=[],Tt=()=>{},Al=()=>!1,Rl=/^on[^a-z]/,zi=e=>Rl.test(e),$r=e=>e.startsWith("onUpdate:"),pt=Object.assign,Jr=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},wl=Object.prototype.hasOwnProperty,Ue=(e,t)=>wl.call(e,t),Te=Array.isArray,An=e=>ui(e)==="[object Map]",Hi=e=>ui(e)==="[object Set]",Ts=e=>ui(e)==="[object Date]",De=e=>typeof e=="function",rt=e=>typeof e=="string",Xn=e=>typeof e=="symbol",We=e=>e!==null&&typeof e=="object",Bo=e=>We(e)&&De(e.then)&&De(e.catch),xo=Object.prototype.toString,ui=e=>xo.call(e),Tl=e=>ui(e).slice(8,-1),Mo=e=>ui(e)==="[object Object]",Yr=e=>rt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ei=qr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qi=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Cl=/-(\w)/g,It=qi(e=>e.replace(Cl,(t,n)=>n?n.toUpperCase():"")),Ll=/\B([A-Z])/g,Dn=qi(e=>e.replace(Ll,"-$1").toLowerCase()),Ki=qi(e=>e.charAt(0).toUpperCase()+e.slice(1)),hr=qi(e=>e?`on${Ki(e)}`:""),Qn=(e,t)=>!Object.is(e,t),Si=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Pi=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Di=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Cs;const Ol=()=>Cs||(Cs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let yt;class Uo{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=yt,!t&&yt&&(this.index=(yt.scopes||(yt.scopes=[])).push(this)-1)}run(t){if(this.active){const n=yt;try{return yt=this,t()}finally{yt=n}}}on(){yt=this}off(){yt=this.parent}stop(t){if(this.active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}}}function No(e){return new Uo(e)}function kl(e,t=yt){t&&t.active&&t.effects.push(e)}function Pl(){return yt}function Dl(e){yt&&yt.cleanups.push(e)}const Xr=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Fo=e=>(e.w&rn)>0,jo=e=>(e.n&rn)>0,Il=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=rn},Bl=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const r=t[i];Fo(r)&&!jo(r)?r.delete(e):t[n++]=r,r.w&=~rn,r.n&=~rn}t.length=n}},Rr=new WeakMap;let zn=0,rn=1;const wr=30;let Rt;const _n=Symbol(""),Tr=Symbol("");class Qr{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,kl(this,i)}run(){if(!this.active)return this.fn();let t=Rt,n=Zt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Rt,Rt=this,Zt=!0,rn=1<<++zn,zn<=wr?Il(this):Ls(this),this.fn()}finally{zn<=wr&&Bl(this),rn=1<<--zn,Rt=this.parent,Zt=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Rt===this?this.deferStop=!0:this.active&&(Ls(this),this.onStop&&this.onStop(),this.active=!1)}}function Ls(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Zt=!0;const Vo=[];function In(){Vo.push(Zt),Zt=!1}function Bn(){const e=Vo.pop();Zt=e===void 0?!0:e}function St(e,t,n){if(Zt&&Rt){let i=Rr.get(e);i||Rr.set(e,i=new Map);let r=i.get(n);r||i.set(n,r=Xr()),Go(r)}}function Go(e,t){let n=!1;zn<=wr?jo(e)||(e.n|=rn,n=!Fo(e)):n=!e.has(Rt),n&&(e.add(Rt),Rt.deps.push(e))}function jt(e,t,n,i,r,o){const a=Rr.get(e);if(!a)return;let u=[];if(t==="clear")u=[...a.values()];else if(n==="length"&&Te(e)){const f=Di(i);a.forEach((h,_)=>{(_==="length"||_>=f)&&u.push(h)})}else switch(n!==void 0&&u.push(a.get(n)),t){case"add":Te(e)?Yr(n)&&u.push(a.get("length")):(u.push(a.get(_n)),An(e)&&u.push(a.get(Tr)));break;case"delete":Te(e)||(u.push(a.get(_n)),An(e)&&u.push(a.get(Tr)));break;case"set":An(e)&&u.push(a.get(_n));break}if(u.length===1)u[0]&&Cr(u[0]);else{const f=[];for(const h of u)h&&f.push(...h);Cr(Xr(f))}}function Cr(e,t){const n=Te(e)?e:[...e];for(const i of n)i.computed&&Os(i);for(const i of n)i.computed||Os(i)}function Os(e,t){(e!==Rt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const xl=qr("__proto__,__v_isRef,__isVue"),zo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Xn)),Ml=Zr(),Ul=Zr(!1,!0),Nl=Zr(!0),ks=Fl();function Fl(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=Ve(this);for(let o=0,a=this.length;o<a;o++)St(i,"get",o+"");const r=i[t](...n);return r===-1||r===!1?i[t](...n.map(Ve)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){In();const i=Ve(this)[t].apply(this,n);return Bn(),i}}),e}function Zr(e=!1,t=!1){return function(i,r,o){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&o===(e?t?tu:$o:t?Wo:Ko).get(i))return i;const a=Te(i);if(!e&&a&&Ue(ks,r))return Reflect.get(ks,r,o);const u=Reflect.get(i,r,o);return(Xn(r)?zo.has(r):xl(r))||(e||St(i,"get",r),t)?u:tt(u)?a&&Yr(r)?u:u.value:We(u)?e?Jo(u):xn(u):u}}const jl=Ho(),Vl=Ho(!0);function Ho(e=!1){return function(n,i,r,o){let a=n[i];if(Tn(a)&&tt(a)&&!tt(r))return!1;if(!e&&(!Ii(r)&&!Tn(r)&&(a=Ve(a),r=Ve(r)),!Te(n)&&tt(a)&&!tt(r)))return a.value=r,!0;const u=Te(n)&&Yr(i)?Number(i)<n.length:Ue(n,i),f=Reflect.set(n,i,r,o);return n===Ve(o)&&(u?Qn(r,a)&&jt(n,"set",i,r):jt(n,"add",i,r)),f}}function Gl(e,t){const n=Ue(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&jt(e,"delete",t,void 0),i}function zl(e,t){const n=Reflect.has(e,t);return(!Xn(t)||!zo.has(t))&&St(e,"has",t),n}function Hl(e){return St(e,"iterate",Te(e)?"length":_n),Reflect.ownKeys(e)}const qo={get:Ml,set:jl,deleteProperty:Gl,has:zl,ownKeys:Hl},ql={get:Nl,set(e,t){return!0},deleteProperty(e,t){return!0}},Kl=pt({},qo,{get:Ul,set:Vl}),es=e=>e,Wi=e=>Reflect.getPrototypeOf(e);function _i(e,t,n=!1,i=!1){e=e.__v_raw;const r=Ve(e),o=Ve(t);n||(t!==o&&St(r,"get",t),St(r,"get",o));const{has:a}=Wi(r),u=i?es:n?is:Zn;if(a.call(r,t))return u(e.get(t));if(a.call(r,o))return u(e.get(o));e!==r&&e.get(t)}function pi(e,t=!1){const n=this.__v_raw,i=Ve(n),r=Ve(e);return t||(e!==r&&St(i,"has",e),St(i,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function mi(e,t=!1){return e=e.__v_raw,!t&&St(Ve(e),"iterate",_n),Reflect.get(e,"size",e)}function Ps(e){e=Ve(e);const t=Ve(this);return Wi(t).has.call(t,e)||(t.add(e),jt(t,"add",e,e)),this}function Ds(e,t){t=Ve(t);const n=Ve(this),{has:i,get:r}=Wi(n);let o=i.call(n,e);o||(e=Ve(e),o=i.call(n,e));const a=r.call(n,e);return n.set(e,t),o?Qn(t,a)&&jt(n,"set",e,t):jt(n,"add",e,t),this}function Is(e){const t=Ve(this),{has:n,get:i}=Wi(t);let r=n.call(t,e);r||(e=Ve(e),r=n.call(t,e)),i&&i.call(t,e);const o=t.delete(e);return r&&jt(t,"delete",e,void 0),o}function Bs(){const e=Ve(this),t=e.size!==0,n=e.clear();return t&&jt(e,"clear",void 0,void 0),n}function gi(e,t){return function(i,r){const o=this,a=o.__v_raw,u=Ve(a),f=t?es:e?is:Zn;return!e&&St(u,"iterate",_n),a.forEach((h,_)=>i.call(r,f(h),f(_),o))}}function yi(e,t,n){return function(...i){const r=this.__v_raw,o=Ve(r),a=An(o),u=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,h=r[e](...i),_=n?es:t?is:Zn;return!t&&St(o,"iterate",f?Tr:_n),{next(){const{value:m,done:w}=h.next();return w?{value:m,done:w}:{value:u?[_(m[0]),_(m[1])]:_(m),done:w}},[Symbol.iterator](){return this}}}}function Kt(e){return function(...t){return e==="delete"?!1:this}}function Wl(){const e={get(o){return _i(this,o)},get size(){return mi(this)},has:pi,add:Ps,set:Ds,delete:Is,clear:Bs,forEach:gi(!1,!1)},t={get(o){return _i(this,o,!1,!0)},get size(){return mi(this)},has:pi,add:Ps,set:Ds,delete:Is,clear:Bs,forEach:gi(!1,!0)},n={get(o){return _i(this,o,!0)},get size(){return mi(this,!0)},has(o){return pi.call(this,o,!0)},add:Kt("add"),set:Kt("set"),delete:Kt("delete"),clear:Kt("clear"),forEach:gi(!0,!1)},i={get(o){return _i(this,o,!0,!0)},get size(){return mi(this,!0)},has(o){return pi.call(this,o,!0)},add:Kt("add"),set:Kt("set"),delete:Kt("delete"),clear:Kt("clear"),forEach:gi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=yi(o,!1,!1),n[o]=yi(o,!0,!1),t[o]=yi(o,!1,!0),i[o]=yi(o,!0,!0)}),[e,n,t,i]}const[$l,Jl,Yl,Xl]=Wl();function ts(e,t){const n=t?e?Xl:Yl:e?Jl:$l;return(i,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(Ue(n,r)&&r in i?n:i,r,o)}const Ql={get:ts(!1,!1)},Zl={get:ts(!1,!0)},eu={get:ts(!0,!1)},Ko=new WeakMap,Wo=new WeakMap,$o=new WeakMap,tu=new WeakMap;function nu(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function iu(e){return e.__v_skip||!Object.isExtensible(e)?0:nu(Tl(e))}function xn(e){return Tn(e)?e:ns(e,!1,qo,Ql,Ko)}function ru(e){return ns(e,!1,Kl,Zl,Wo)}function Jo(e){return ns(e,!0,ql,eu,$o)}function ns(e,t,n,i,r){if(!We(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const a=iu(e);if(a===0)return e;const u=new Proxy(e,a===2?i:n);return r.set(e,u),u}function en(e){return Tn(e)?en(e.__v_raw):!!(e&&e.__v_isReactive)}function Tn(e){return!!(e&&e.__v_isReadonly)}function Ii(e){return!!(e&&e.__v_isShallow)}function Yo(e){return en(e)||Tn(e)}function Ve(e){const t=e&&e.__v_raw;return t?Ve(t):e}function Cn(e){return Pi(e,"__v_skip",!0),e}const Zn=e=>We(e)?xn(e):e,is=e=>We(e)?Jo(e):e;function Xo(e){Zt&&Rt&&(e=Ve(e),Go(e.dep||(e.dep=Xr())))}function Qo(e,t){e=Ve(e),e.dep&&Cr(e.dep)}function tt(e){return!!(e&&e.__v_isRef===!0)}function it(e){return Zo(e,!1)}function su(e){return Zo(e,!0)}function Zo(e,t){return tt(e)?e:new ou(e,t)}class ou{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ve(t),this._value=n?t:Zn(t)}get value(){return Xo(this),this._value}set value(t){const n=this.__v_isShallow||Ii(t)||Tn(t);t=n?t:Ve(t),Qn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Zn(t),Qo(this))}}function tn(e){return tt(e)?e.value:e}const au={get:(e,t,n)=>tn(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return tt(r)&&!tt(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function ea(e){return en(e)?e:new Proxy(e,au)}function lu(e){const t=Te(e)?new Array(e.length):{};for(const n in e)t[n]=cu(e,n);return t}class uu{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function cu(e,t,n){const i=e[t];return tt(i)?i:new uu(e,t,n)}var ta;class du{constructor(t,n,i,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[ta]=!1,this._dirty=!0,this.effect=new Qr(t,()=>{this._dirty||(this._dirty=!0,Qo(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const t=Ve(this);return Xo(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}ta="__v_isReadonly";function fu(e,t,n=!1){let i,r;const o=De(e);return o?(i=e,r=Tt):(i=e.get,r=e.set),new du(i,r,o||!r,n)}function nn(e,t,n,i){let r;try{r=i?e(...i):e()}catch(o){$i(o,t,n)}return r}function Ct(e,t,n,i){if(De(e)){const o=nn(e,t,n,i);return o&&Bo(o)&&o.catch(a=>{$i(a,t,n)}),o}const r=[];for(let o=0;o<e.length;o++)r.push(Ct(e[o],t,n,i));return r}function $i(e,t,n,i=!0){const r=t?t.vnode:null;if(t){let o=t.parent;const a=t.proxy,u=n;for(;o;){const h=o.ec;if(h){for(let _=0;_<h.length;_++)if(h[_](e,a,u)===!1)return}o=o.parent}const f=t.appContext.config.errorHandler;if(f){nn(f,null,10,[e,a,u]);return}}hu(e,n,r,i)}function hu(e,t,n,i=!0){console.error(e)}let ei=!1,Lr=!1;const ct=[];let Dt=0;const Rn=[];let Mt=null,cn=0;const na=Promise.resolve();let rs=null;function ss(e){const t=rs||na;return e?t.then(this?e.bind(this):e):t}function _u(e){let t=Dt+1,n=ct.length;for(;t<n;){const i=t+n>>>1;ti(ct[i])<e?t=i+1:n=i}return t}function os(e){(!ct.length||!ct.includes(e,ei&&e.allowRecurse?Dt+1:Dt))&&(e.id==null?ct.push(e):ct.splice(_u(e.id),0,e),ia())}function ia(){!ei&&!Lr&&(Lr=!0,rs=na.then(sa))}function pu(e){const t=ct.indexOf(e);t>Dt&&ct.splice(t,1)}function mu(e){Te(e)?Rn.push(...e):(!Mt||!Mt.includes(e,e.allowRecurse?cn+1:cn))&&Rn.push(e),ia()}function xs(e,t=ei?Dt+1:0){for(;t<ct.length;t++){const n=ct[t];n&&n.pre&&(ct.splice(t,1),t--,n())}}function ra(e){if(Rn.length){const t=[...new Set(Rn)];if(Rn.length=0,Mt){Mt.push(...t);return}for(Mt=t,Mt.sort((n,i)=>ti(n)-ti(i)),cn=0;cn<Mt.length;cn++)Mt[cn]();Mt=null,cn=0}}const ti=e=>e.id==null?1/0:e.id,gu=(e,t)=>{const n=ti(e)-ti(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function sa(e){Lr=!1,ei=!0,ct.sort(gu);const t=Tt;try{for(Dt=0;Dt<ct.length;Dt++){const n=ct[Dt];n&&n.active!==!1&&nn(n,null,14)}}finally{Dt=0,ct.length=0,ra(),ei=!1,rs=null,(ct.length||Rn.length)&&sa()}}function yu(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Je;let r=n;const o=t.startsWith("update:"),a=o&&t.slice(7);if(a&&a in i){const _=`${a==="modelValue"?"model":a}Modifiers`,{number:m,trim:w}=i[_]||Je;w&&(r=n.map(T=>rt(T)?T.trim():T)),m&&(r=n.map(Di))}let u,f=i[u=hr(t)]||i[u=hr(It(t))];!f&&o&&(f=i[u=hr(Dn(t))]),f&&Ct(f,e,6,r);const h=i[u+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Ct(h,e,6,r)}}function oa(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const o=e.emits;let a={},u=!1;if(!De(e)){const f=h=>{const _=oa(h,t,!0);_&&(u=!0,pt(a,_))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!o&&!u?(We(e)&&i.set(e,null),null):(Te(o)?o.forEach(f=>a[f]=null):pt(a,o),We(e)&&i.set(e,a),a)}function Ji(e,t){return!e||!zi(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ue(e,t[0].toLowerCase()+t.slice(1))||Ue(e,Dn(t))||Ue(e,t))}let bt=null,Yi=null;function Bi(e){const t=bt;return bt=e,Yi=e&&e.type.__scopeId||null,t}function vu(e){Yi=e}function bu(){Yi=null}function Eu(e,t=bt,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&qs(-1);const o=Bi(t);let a;try{a=e(...r)}finally{Bi(o),i._d&&qs(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function _r(e){const{type:t,vnode:n,proxy:i,withProxy:r,props:o,propsOptions:[a],slots:u,attrs:f,emit:h,render:_,renderCache:m,data:w,setupState:T,ctx:P,inheritAttrs:D}=e;let ne,J;const Z=Bi(e);try{if(n.shapeFlag&4){const C=r||i;ne=Pt(_.call(C,C,m,o,T,w,P)),J=f}else{const C=t;ne=Pt(C.length>1?C(o,{attrs:f,slots:u,emit:h}):C(o,null)),J=t.props?f:Su(f)}}catch(C){Wn.length=0,$i(C,e,1),ne=Et(ii)}let ee=ne;if(J&&D!==!1){const C=Object.keys(J),{shapeFlag:Y}=ee;C.length&&Y&7&&(a&&C.some($r)&&(J=Au(J,a)),ee=Ln(ee,J))}return n.dirs&&(ee=Ln(ee),ee.dirs=ee.dirs?ee.dirs.concat(n.dirs):n.dirs),n.transition&&(ee.transition=n.transition),ne=ee,Bi(Z),ne}const Su=e=>{let t;for(const n in e)(n==="class"||n==="style"||zi(n))&&((t||(t={}))[n]=e[n]);return t},Au=(e,t)=>{const n={};for(const i in e)(!$r(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function Ru(e,t,n){const{props:i,children:r,component:o}=e,{props:a,children:u,patchFlag:f}=t,h=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?Ms(i,a,h):!!a;if(f&8){const _=t.dynamicProps;for(let m=0;m<_.length;m++){const w=_[m];if(a[w]!==i[w]&&!Ji(h,w))return!0}}}else return(r||u)&&(!u||!u.$stable)?!0:i===a?!1:i?a?Ms(i,a,h):!0:!!a;return!1}function Ms(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(t[o]!==e[o]&&!Ji(n,o))return!0}return!1}function wu({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Tu=e=>e.__isSuspense;function Cu(e,t){t&&t.pendingBranch?Te(e)?t.effects.push(...e):t.effects.push(e):mu(e)}function Ai(e,t){if(st){let n=st.provides;const i=st.parent&&st.parent.provides;i===n&&(n=st.provides=Object.create(i)),n[e]=t}}function Lt(e,t,n=!1){const i=st||bt;if(i){const r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&De(t)?t.call(i.proxy):t}}const vi={};function qn(e,t,n){return aa(e,t,n)}function aa(e,t,{immediate:n,deep:i,flush:r,onTrack:o,onTrigger:a}=Je){const u=st;let f,h=!1,_=!1;if(tt(e)?(f=()=>e.value,h=Ii(e)):en(e)?(f=()=>e,i=!0):Te(e)?(_=!0,h=e.some(ee=>en(ee)||Ii(ee)),f=()=>e.map(ee=>{if(tt(ee))return ee.value;if(en(ee))return hn(ee);if(De(ee))return nn(ee,u,2)})):De(e)?t?f=()=>nn(e,u,2):f=()=>{if(!(u&&u.isUnmounted))return m&&m(),Ct(e,u,3,[w])}:f=Tt,t&&i){const ee=f;f=()=>hn(ee())}let m,w=ee=>{m=J.onStop=()=>{nn(ee,u,4)}},T;if(si)if(w=Tt,t?n&&Ct(t,u,3,[f(),_?[]:void 0,w]):f(),r==="sync"){const ee=Ac();T=ee.__watcherHandles||(ee.__watcherHandles=[])}else return Tt;let P=_?new Array(e.length).fill(vi):vi;const D=()=>{if(!!J.active)if(t){const ee=J.run();(i||h||(_?ee.some((C,Y)=>Qn(C,P[Y])):Qn(ee,P)))&&(m&&m(),Ct(t,u,3,[ee,P===vi?void 0:_&&P[0]===vi?[]:P,w]),P=ee)}else J.run()};D.allowRecurse=!!t;let ne;r==="sync"?ne=D:r==="post"?ne=()=>gt(D,u&&u.suspense):(D.pre=!0,u&&(D.id=u.uid),ne=()=>os(D));const J=new Qr(f,ne);t?n?D():P=J.run():r==="post"?gt(J.run.bind(J),u&&u.suspense):J.run();const Z=()=>{J.stop(),u&&u.scope&&Jr(u.scope.effects,J)};return T&&T.push(Z),Z}function Lu(e,t,n){const i=this.proxy,r=rt(e)?e.includes(".")?la(i,e):()=>i[e]:e.bind(i,i);let o;De(t)?o=t:(o=t.handler,n=t);const a=st;On(this);const u=aa(r,o.bind(i),n);return a?On(a):pn(),u}function la(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function hn(e,t){if(!We(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),tt(e))hn(e.value,t);else if(Te(e))for(let n=0;n<e.length;n++)hn(e[n],t);else if(Hi(e)||An(e))e.forEach(n=>{hn(n,t)});else if(Mo(e))for(const n in e)hn(e[n],t);return e}function gn(e){return De(e)?{setup:e,name:e.name}:e}const Ri=e=>!!e.type.__asyncLoader,ua=e=>e.type.__isKeepAlive;function Ou(e,t){ca(e,"a",t)}function ku(e,t){ca(e,"da",t)}function ca(e,t,n=st){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Xi(t,i,n),n){let r=n.parent;for(;r&&r.parent;)ua(r.parent.vnode)&&Pu(i,t,n,r),r=r.parent}}function Pu(e,t,n,i){const r=Xi(t,e,i,!0);da(()=>{Jr(i[t],r)},n)}function Xi(e,t,n=st,i=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;In(),On(n);const u=Ct(t,n,e,a);return pn(),Bn(),u});return i?r.unshift(o):r.push(o),o}}const Vt=e=>(t,n=st)=>(!si||e==="sp")&&Xi(e,(...i)=>t(...i),n),Du=Vt("bm"),as=Vt("m"),Iu=Vt("bu"),Bu=Vt("u"),xu=Vt("bum"),da=Vt("um"),Mu=Vt("sp"),Uu=Vt("rtg"),Nu=Vt("rtc");function Fu(e,t=st){Xi("ec",e,t)}function ni(e,t){const n=bt;if(n===null)return e;const i=er(n)||n.proxy,r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[a,u,f,h=Je]=t[o];a&&(De(a)&&(a={mounted:a,updated:a}),a.deep&&hn(u),r.push({dir:a,instance:i,value:u,oldValue:void 0,arg:f,modifiers:h}))}return e}function an(e,t,n,i){const r=e.dirs,o=t&&t.dirs;for(let a=0;a<r.length;a++){const u=r[a];o&&(u.oldValue=o[a].value);let f=u.dir[i];f&&(In(),Ct(f,n,8,[e.el,u,e,t]),Bn())}}const fa="components";function ju(e,t){return Gu(fa,e,!0,t)||e}const Vu=Symbol();function Gu(e,t,n=!0,i=!1){const r=bt||st;if(r){const o=r.type;if(e===fa){const u=bc(o,!1);if(u&&(u===t||u===It(t)||u===Ki(It(t))))return o}const a=Us(r[e]||o[e],t)||Us(r.appContext[e],t);return!a&&i?o:a}}function Us(e,t){return e&&(e[t]||e[It(t)]||e[Ki(It(t))])}function Ns(e,t,n,i){let r;const o=n&&n[i];if(Te(e)||rt(e)){r=new Array(e.length);for(let a=0,u=e.length;a<u;a++)r[a]=t(e[a],a,void 0,o&&o[a])}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,o&&o[a])}else if(We(e))if(e[Symbol.iterator])r=Array.from(e,(a,u)=>t(a,u,void 0,o&&o[u]));else{const a=Object.keys(e);r=new Array(a.length);for(let u=0,f=a.length;u<f;u++){const h=a[u];r[u]=t(e[h],h,u,o&&o[u])}}else r=[];return n&&(n[i]=r),r}const Or=e=>e?Aa(e)?er(e)||e.proxy:Or(e.parent):null,Kn=pt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Or(e.parent),$root:e=>Or(e.root),$emit:e=>e.emit,$options:e=>ls(e),$forceUpdate:e=>e.f||(e.f=()=>os(e.update)),$nextTick:e=>e.n||(e.n=ss.bind(e.proxy)),$watch:e=>Lu.bind(e)}),pr=(e,t)=>e!==Je&&!e.__isScriptSetup&&Ue(e,t),zu={get({_:e},t){const{ctx:n,setupState:i,data:r,props:o,accessCache:a,type:u,appContext:f}=e;let h;if(t[0]!=="$"){const T=a[t];if(T!==void 0)switch(T){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(pr(i,t))return a[t]=1,i[t];if(r!==Je&&Ue(r,t))return a[t]=2,r[t];if((h=e.propsOptions[0])&&Ue(h,t))return a[t]=3,o[t];if(n!==Je&&Ue(n,t))return a[t]=4,n[t];kr&&(a[t]=0)}}const _=Kn[t];let m,w;if(_)return t==="$attrs"&&St(e,"get",t),_(e);if((m=u.__cssModules)&&(m=m[t]))return m;if(n!==Je&&Ue(n,t))return a[t]=4,n[t];if(w=f.config.globalProperties,Ue(w,t))return w[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:o}=e;return pr(r,t)?(r[t]=n,!0):i!==Je&&Ue(i,t)?(i[t]=n,!0):Ue(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:o}},a){let u;return!!n[a]||e!==Je&&Ue(e,a)||pr(t,a)||(u=o[0])&&Ue(u,a)||Ue(i,a)||Ue(Kn,a)||Ue(r.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ue(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let kr=!0;function Hu(e){const t=ls(e),n=e.proxy,i=e.ctx;kr=!1,t.beforeCreate&&Fs(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:a,watch:u,provide:f,inject:h,created:_,beforeMount:m,mounted:w,beforeUpdate:T,updated:P,activated:D,deactivated:ne,beforeDestroy:J,beforeUnmount:Z,destroyed:ee,unmounted:C,render:Y,renderTracked:I,renderTriggered:E,errorCaptured:b,serverPrefetch:R,expose:O,inheritAttrs:M,components:N,directives:ce,filters:ye}=t;if(h&&qu(h,i,null,e.appContext.config.unwrapInjectedRef),a)for(const x in a){const v=a[x];De(v)&&(i[x]=v.bind(n))}if(r){const x=r.call(n,n);We(x)&&(e.data=xn(x))}if(kr=!0,o)for(const x in o){const v=o[x],L=De(v)?v.bind(n,n):De(v.get)?v.get.bind(n,n):Tt,U=!De(v)&&De(v.set)?v.set.bind(n):Tt,he=vt({get:L,set:U});Object.defineProperty(i,x,{enumerable:!0,configurable:!0,get:()=>he.value,set:Ee=>he.value=Ee})}if(u)for(const x in u)ha(u[x],i,n,x);if(f){const x=De(f)?f.call(n):f;Reflect.ownKeys(x).forEach(v=>{Ai(v,x[v])})}_&&Fs(_,e,"c");function we(x,v){Te(v)?v.forEach(L=>x(L.bind(n))):v&&x(v.bind(n))}if(we(Du,m),we(as,w),we(Iu,T),we(Bu,P),we(Ou,D),we(ku,ne),we(Fu,b),we(Nu,I),we(Uu,E),we(xu,Z),we(da,C),we(Mu,R),Te(O))if(O.length){const x=e.exposed||(e.exposed={});O.forEach(v=>{Object.defineProperty(x,v,{get:()=>n[v],set:L=>n[v]=L})})}else e.exposed||(e.exposed={});Y&&e.render===Tt&&(e.render=Y),M!=null&&(e.inheritAttrs=M),N&&(e.components=N),ce&&(e.directives=ce)}function qu(e,t,n=Tt,i=!1){Te(e)&&(e=Pr(e));for(const r in e){const o=e[r];let a;We(o)?"default"in o?a=Lt(o.from||r,o.default,!0):a=Lt(o.from||r):a=Lt(o),tt(a)&&i?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:u=>a.value=u}):t[r]=a}}function Fs(e,t,n){Ct(Te(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function ha(e,t,n,i){const r=i.includes(".")?la(n,i):()=>n[i];if(rt(e)){const o=t[e];De(o)&&qn(r,o)}else if(De(e))qn(r,e.bind(n));else if(We(e))if(Te(e))e.forEach(o=>ha(o,t,n,i));else{const o=De(e.handler)?e.handler.bind(n):t[e.handler];De(o)&&qn(r,o,e)}}function ls(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,u=o.get(t);let f;return u?f=u:!r.length&&!n&&!i?f=t:(f={},r.length&&r.forEach(h=>xi(f,h,a,!0)),xi(f,t,a)),We(t)&&o.set(t,f),f}function xi(e,t,n,i=!1){const{mixins:r,extends:o}=t;o&&xi(e,o,n,!0),r&&r.forEach(a=>xi(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const u=Ku[a]||n&&n[a];e[a]=u?u(e[a],t[a]):t[a]}return e}const Ku={data:js,props:un,emits:un,methods:un,computed:un,beforeCreate:ht,created:ht,beforeMount:ht,mounted:ht,beforeUpdate:ht,updated:ht,beforeDestroy:ht,beforeUnmount:ht,destroyed:ht,unmounted:ht,activated:ht,deactivated:ht,errorCaptured:ht,serverPrefetch:ht,components:un,directives:un,watch:$u,provide:js,inject:Wu};function js(e,t){return t?e?function(){return pt(De(e)?e.call(this,this):e,De(t)?t.call(this,this):t)}:t:e}function Wu(e,t){return un(Pr(e),Pr(t))}function Pr(e){if(Te(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ht(e,t){return e?[...new Set([].concat(e,t))]:t}function un(e,t){return e?pt(pt(Object.create(null),e),t):t}function $u(e,t){if(!e)return t;if(!t)return e;const n=pt(Object.create(null),e);for(const i in t)n[i]=ht(e[i],t[i]);return n}function Ju(e,t,n,i=!1){const r={},o={};Pi(o,Zi,1),e.propsDefaults=Object.create(null),_a(e,t,r,o);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);n?e.props=i?r:ru(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function Yu(e,t,n,i){const{props:r,attrs:o,vnode:{patchFlag:a}}=e,u=Ve(r),[f]=e.propsOptions;let h=!1;if((i||a>0)&&!(a&16)){if(a&8){const _=e.vnode.dynamicProps;for(let m=0;m<_.length;m++){let w=_[m];if(Ji(e.emitsOptions,w))continue;const T=t[w];if(f)if(Ue(o,w))T!==o[w]&&(o[w]=T,h=!0);else{const P=It(w);r[P]=Dr(f,u,P,T,e,!1)}else T!==o[w]&&(o[w]=T,h=!0)}}}else{_a(e,t,r,o)&&(h=!0);let _;for(const m in u)(!t||!Ue(t,m)&&((_=Dn(m))===m||!Ue(t,_)))&&(f?n&&(n[m]!==void 0||n[_]!==void 0)&&(r[m]=Dr(f,u,m,void 0,e,!0)):delete r[m]);if(o!==u)for(const m in o)(!t||!Ue(t,m)&&!0)&&(delete o[m],h=!0)}h&&jt(e,"set","$attrs")}function _a(e,t,n,i){const[r,o]=e.propsOptions;let a=!1,u;if(t)for(let f in t){if(Ei(f))continue;const h=t[f];let _;r&&Ue(r,_=It(f))?!o||!o.includes(_)?n[_]=h:(u||(u={}))[_]=h:Ji(e.emitsOptions,f)||(!(f in i)||h!==i[f])&&(i[f]=h,a=!0)}if(o){const f=Ve(n),h=u||Je;for(let _=0;_<o.length;_++){const m=o[_];n[m]=Dr(r,f,m,h[m],e,!Ue(h,m))}}return a}function Dr(e,t,n,i,r,o){const a=e[n];if(a!=null){const u=Ue(a,"default");if(u&&i===void 0){const f=a.default;if(a.type!==Function&&De(f)){const{propsDefaults:h}=r;n in h?i=h[n]:(On(r),i=h[n]=f.call(null,t),pn())}else i=f}a[0]&&(o&&!u?i=!1:a[1]&&(i===""||i===Dn(n))&&(i=!0))}return i}function pa(e,t,n=!1){const i=t.propsCache,r=i.get(e);if(r)return r;const o=e.props,a={},u=[];let f=!1;if(!De(e)){const _=m=>{f=!0;const[w,T]=pa(m,t,!0);pt(a,w),T&&u.push(...T)};!n&&t.mixins.length&&t.mixins.forEach(_),e.extends&&_(e.extends),e.mixins&&e.mixins.forEach(_)}if(!o&&!f)return We(e)&&i.set(e,Sn),Sn;if(Te(o))for(let _=0;_<o.length;_++){const m=It(o[_]);Vs(m)&&(a[m]=Je)}else if(o)for(const _ in o){const m=It(_);if(Vs(m)){const w=o[_],T=a[m]=Te(w)||De(w)?{type:w}:Object.assign({},w);if(T){const P=Hs(Boolean,T.type),D=Hs(String,T.type);T[0]=P>-1,T[1]=D<0||P<D,(P>-1||Ue(T,"default"))&&u.push(m)}}}const h=[a,u];return We(e)&&i.set(e,h),h}function Vs(e){return e[0]!=="$"}function Gs(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function zs(e,t){return Gs(e)===Gs(t)}function Hs(e,t){return Te(t)?t.findIndex(n=>zs(n,e)):De(t)&&zs(t,e)?0:-1}const ma=e=>e[0]==="_"||e==="$stable",us=e=>Te(e)?e.map(Pt):[Pt(e)],Xu=(e,t,n)=>{if(t._n)return t;const i=Eu((...r)=>us(t(...r)),n);return i._c=!1,i},ga=(e,t,n)=>{const i=e._ctx;for(const r in e){if(ma(r))continue;const o=e[r];if(De(o))t[r]=Xu(r,o,i);else if(o!=null){const a=us(o);t[r]=()=>a}}},ya=(e,t)=>{const n=us(t);e.slots.default=()=>n},Qu=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ve(t),Pi(t,"_",n)):ga(t,e.slots={})}else e.slots={},t&&ya(e,t);Pi(e.slots,Zi,1)},Zu=(e,t,n)=>{const{vnode:i,slots:r}=e;let o=!0,a=Je;if(i.shapeFlag&32){const u=t._;u?n&&u===1?o=!1:(pt(r,t),!n&&u===1&&delete r._):(o=!t.$stable,ga(t,r)),a=t}else t&&(ya(e,t),a={default:1});if(o)for(const u in r)!ma(u)&&!(u in a)&&delete r[u]};function va(){return{app:null,config:{isNativeTag:Al,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ec=0;function tc(e,t){return function(i,r=null){De(i)||(i=Object.assign({},i)),r!=null&&!We(r)&&(r=null);const o=va(),a=new Set;let u=!1;const f=o.app={_uid:ec++,_component:i,_props:r,_container:null,_context:o,_instance:null,version:Rc,get config(){return o.config},set config(h){},use(h,..._){return a.has(h)||(h&&De(h.install)?(a.add(h),h.install(f,..._)):De(h)&&(a.add(h),h(f,..._))),f},mixin(h){return o.mixins.includes(h)||o.mixins.push(h),f},component(h,_){return _?(o.components[h]=_,f):o.components[h]},directive(h,_){return _?(o.directives[h]=_,f):o.directives[h]},mount(h,_,m){if(!u){const w=Et(i,r);return w.appContext=o,_&&t?t(w,h):e(w,h,m),u=!0,f._container=h,h.__vue_app__=f,er(w.component)||w.component.proxy}},unmount(){u&&(e(null,f._container),delete f._container.__vue_app__)},provide(h,_){return o.provides[h]=_,f}};return f}}function Ir(e,t,n,i,r=!1){if(Te(e)){e.forEach((w,T)=>Ir(w,t&&(Te(t)?t[T]:t),n,i,r));return}if(Ri(i)&&!r)return;const o=i.shapeFlag&4?er(i.component)||i.component.proxy:i.el,a=r?null:o,{i:u,r:f}=e,h=t&&t.r,_=u.refs===Je?u.refs={}:u.refs,m=u.setupState;if(h!=null&&h!==f&&(rt(h)?(_[h]=null,Ue(m,h)&&(m[h]=null)):tt(h)&&(h.value=null)),De(f))nn(f,u,12,[a,_]);else{const w=rt(f),T=tt(f);if(w||T){const P=()=>{if(e.f){const D=w?Ue(m,f)?m[f]:_[f]:f.value;r?Te(D)&&Jr(D,o):Te(D)?D.includes(o)||D.push(o):w?(_[f]=[o],Ue(m,f)&&(m[f]=_[f])):(f.value=[o],e.k&&(_[e.k]=f.value))}else w?(_[f]=a,Ue(m,f)&&(m[f]=a)):T&&(f.value=a,e.k&&(_[e.k]=a))};a?(P.id=-1,gt(P,n)):P()}}}const gt=Cu;function nc(e){return ic(e)}function ic(e,t){const n=Ol();n.__VUE__=!0;const{insert:i,remove:r,patchProp:o,createElement:a,createText:u,createComment:f,setText:h,setElementText:_,parentNode:m,nextSibling:w,setScopeId:T=Tt,insertStaticContent:P}=e,D=(S,k,G,q=null,Q=null,le=null,_e=!1,oe=null,ue=!!k.dynamicChildren)=>{if(S===k)return;S&&!jn(S,k)&&(q=B(S),Ee(S,Q,le,!0),S=null),k.patchFlag===-2&&(ue=!1,k.dynamicChildren=null);const{type:ie,ref:Se,shapeFlag:ve}=k;switch(ie){case Qi:ne(S,k,G,q);break;case ii:J(S,k,G,q);break;case mr:S==null&&Z(k,G,q,_e);break;case _t:N(S,k,G,q,Q,le,_e,oe,ue);break;default:ve&1?Y(S,k,G,q,Q,le,_e,oe,ue):ve&6?ce(S,k,G,q,Q,le,_e,oe,ue):(ve&64||ve&128)&&ie.process(S,k,G,q,Q,le,_e,oe,ue,re)}Se!=null&&Q&&Ir(Se,S&&S.ref,le,k||S,!k)},ne=(S,k,G,q)=>{if(S==null)i(k.el=u(k.children),G,q);else{const Q=k.el=S.el;k.children!==S.children&&h(Q,k.children)}},J=(S,k,G,q)=>{S==null?i(k.el=f(k.children||""),G,q):k.el=S.el},Z=(S,k,G,q)=>{[S.el,S.anchor]=P(S.children,k,G,q,S.el,S.anchor)},ee=({el:S,anchor:k},G,q)=>{let Q;for(;S&&S!==k;)Q=w(S),i(S,G,q),S=Q;i(k,G,q)},C=({el:S,anchor:k})=>{let G;for(;S&&S!==k;)G=w(S),r(S),S=G;r(k)},Y=(S,k,G,q,Q,le,_e,oe,ue)=>{_e=_e||k.type==="svg",S==null?I(k,G,q,Q,le,_e,oe,ue):R(S,k,Q,le,_e,oe,ue)},I=(S,k,G,q,Q,le,_e,oe)=>{let ue,ie;const{type:Se,props:ve,shapeFlag:Ae,transition:Le,dirs:ke}=S;if(ue=S.el=a(S.type,le,ve&&ve.is,ve),Ae&8?_(ue,S.children):Ae&16&&b(S.children,ue,null,q,Q,le&&Se!=="foreignObject",_e,oe),ke&&an(S,null,q,"created"),ve){for(const Fe in ve)Fe!=="value"&&!Ei(Fe)&&o(ue,Fe,null,ve[Fe],le,S.children,q,Q,te);"value"in ve&&o(ue,"value",null,ve.value),(ie=ve.onVnodeBeforeMount)&&kt(ie,q,S)}E(ue,S,S.scopeId,_e,q),ke&&an(S,null,q,"beforeMount");const ze=(!Q||Q&&!Q.pendingBranch)&&Le&&!Le.persisted;ze&&Le.beforeEnter(ue),i(ue,k,G),((ie=ve&&ve.onVnodeMounted)||ze||ke)&&gt(()=>{ie&&kt(ie,q,S),ze&&Le.enter(ue),ke&&an(S,null,q,"mounted")},Q)},E=(S,k,G,q,Q)=>{if(G&&T(S,G),q)for(let le=0;le<q.length;le++)T(S,q[le]);if(Q){let le=Q.subTree;if(k===le){const _e=Q.vnode;E(S,_e,_e.scopeId,_e.slotScopeIds,Q.parent)}}},b=(S,k,G,q,Q,le,_e,oe,ue=0)=>{for(let ie=ue;ie<S.length;ie++){const Se=S[ie]=oe?Jt(S[ie]):Pt(S[ie]);D(null,Se,k,G,q,Q,le,_e,oe)}},R=(S,k,G,q,Q,le,_e)=>{const oe=k.el=S.el;let{patchFlag:ue,dynamicChildren:ie,dirs:Se}=k;ue|=S.patchFlag&16;const ve=S.props||Je,Ae=k.props||Je;let Le;G&&ln(G,!1),(Le=Ae.onVnodeBeforeUpdate)&&kt(Le,G,k,S),Se&&an(k,S,G,"beforeUpdate"),G&&ln(G,!0);const ke=Q&&k.type!=="foreignObject";if(ie?O(S.dynamicChildren,ie,oe,G,q,ke,le):_e||v(S,k,oe,null,G,q,ke,le,!1),ue>0){if(ue&16)M(oe,k,ve,Ae,G,q,Q);else if(ue&2&&ve.class!==Ae.class&&o(oe,"class",null,Ae.class,Q),ue&4&&o(oe,"style",ve.style,Ae.style,Q),ue&8){const ze=k.dynamicProps;for(let Fe=0;Fe<ze.length;Fe++){const Ke=ze[Fe],mt=ve[Ke],lt=Ae[Ke];(lt!==mt||Ke==="value")&&o(oe,Ke,mt,lt,Q,S.children,G,q,te)}}ue&1&&S.children!==k.children&&_(oe,k.children)}else!_e&&ie==null&&M(oe,k,ve,Ae,G,q,Q);((Le=Ae.onVnodeUpdated)||Se)&&gt(()=>{Le&&kt(Le,G,k,S),Se&&an(k,S,G,"updated")},q)},O=(S,k,G,q,Q,le,_e)=>{for(let oe=0;oe<k.length;oe++){const ue=S[oe],ie=k[oe],Se=ue.el&&(ue.type===_t||!jn(ue,ie)||ue.shapeFlag&70)?m(ue.el):G;D(ue,ie,Se,null,q,Q,le,_e,!0)}},M=(S,k,G,q,Q,le,_e)=>{if(G!==q){if(G!==Je)for(const oe in G)!Ei(oe)&&!(oe in q)&&o(S,oe,G[oe],null,_e,k.children,Q,le,te);for(const oe in q){if(Ei(oe))continue;const ue=q[oe],ie=G[oe];ue!==ie&&oe!=="value"&&o(S,oe,ie,ue,_e,k.children,Q,le,te)}"value"in q&&o(S,"value",G.value,q.value)}},N=(S,k,G,q,Q,le,_e,oe,ue)=>{const ie=k.el=S?S.el:u(""),Se=k.anchor=S?S.anchor:u("");let{patchFlag:ve,dynamicChildren:Ae,slotScopeIds:Le}=k;Le&&(oe=oe?oe.concat(Le):Le),S==null?(i(ie,G,q),i(Se,G,q),b(k.children,G,Se,Q,le,_e,oe,ue)):ve>0&&ve&64&&Ae&&S.dynamicChildren?(O(S.dynamicChildren,Ae,G,Q,le,_e,oe),(k.key!=null||Q&&k===Q.subTree)&&ba(S,k,!0)):v(S,k,G,Se,Q,le,_e,oe,ue)},ce=(S,k,G,q,Q,le,_e,oe,ue)=>{k.slotScopeIds=oe,S==null?k.shapeFlag&512?Q.ctx.activate(k,G,q,_e,ue):ye(k,G,q,Q,le,_e,ue):Re(S,k,ue)},ye=(S,k,G,q,Q,le,_e)=>{const oe=S.component=_c(S,q,Q);if(ua(S)&&(oe.ctx.renderer=re),mc(oe),oe.asyncDep){if(Q&&Q.registerDep(oe,we),!S.el){const ue=oe.subTree=Et(ii);J(null,ue,k,G)}return}we(oe,S,k,G,Q,le,_e)},Re=(S,k,G)=>{const q=k.component=S.component;if(Ru(S,k,G))if(q.asyncDep&&!q.asyncResolved){x(q,k,G);return}else q.next=k,pu(q.update),q.update();else k.el=S.el,q.vnode=k},we=(S,k,G,q,Q,le,_e)=>{const oe=()=>{if(S.isMounted){let{next:Se,bu:ve,u:Ae,parent:Le,vnode:ke}=S,ze=Se,Fe;ln(S,!1),Se?(Se.el=ke.el,x(S,Se,_e)):Se=ke,ve&&Si(ve),(Fe=Se.props&&Se.props.onVnodeBeforeUpdate)&&kt(Fe,Le,Se,ke),ln(S,!0);const Ke=_r(S),mt=S.subTree;S.subTree=Ke,D(mt,Ke,m(mt.el),B(mt),S,Q,le),Se.el=Ke.el,ze===null&&wu(S,Ke.el),Ae&&gt(Ae,Q),(Fe=Se.props&&Se.props.onVnodeUpdated)&&gt(()=>kt(Fe,Le,Se,ke),Q)}else{let Se;const{el:ve,props:Ae}=k,{bm:Le,m:ke,parent:ze}=S,Fe=Ri(k);if(ln(S,!1),Le&&Si(Le),!Fe&&(Se=Ae&&Ae.onVnodeBeforeMount)&&kt(Se,ze,k),ln(S,!0),ve&&se){const Ke=()=>{S.subTree=_r(S),se(ve,S.subTree,S,Q,null)};Fe?k.type.__asyncLoader().then(()=>!S.isUnmounted&&Ke()):Ke()}else{const Ke=S.subTree=_r(S);D(null,Ke,G,q,S,Q,le),k.el=Ke.el}if(ke&&gt(ke,Q),!Fe&&(Se=Ae&&Ae.onVnodeMounted)){const Ke=k;gt(()=>kt(Se,ze,Ke),Q)}(k.shapeFlag&256||ze&&Ri(ze.vnode)&&ze.vnode.shapeFlag&256)&&S.a&&gt(S.a,Q),S.isMounted=!0,k=G=q=null}},ue=S.effect=new Qr(oe,()=>os(ie),S.scope),ie=S.update=()=>ue.run();ie.id=S.uid,ln(S,!0),ie()},x=(S,k,G)=>{k.component=S;const q=S.vnode.props;S.vnode=k,S.next=null,Yu(S,k.props,q,G),Zu(S,k.children,G),In(),xs(),Bn()},v=(S,k,G,q,Q,le,_e,oe,ue=!1)=>{const ie=S&&S.children,Se=S?S.shapeFlag:0,ve=k.children,{patchFlag:Ae,shapeFlag:Le}=k;if(Ae>0){if(Ae&128){U(ie,ve,G,q,Q,le,_e,oe,ue);return}else if(Ae&256){L(ie,ve,G,q,Q,le,_e,oe,ue);return}}Le&8?(Se&16&&te(ie,Q,le),ve!==ie&&_(G,ve)):Se&16?Le&16?U(ie,ve,G,q,Q,le,_e,oe,ue):te(ie,Q,le,!0):(Se&8&&_(G,""),Le&16&&b(ve,G,q,Q,le,_e,oe,ue))},L=(S,k,G,q,Q,le,_e,oe,ue)=>{S=S||Sn,k=k||Sn;const ie=S.length,Se=k.length,ve=Math.min(ie,Se);let Ae;for(Ae=0;Ae<ve;Ae++){const Le=k[Ae]=ue?Jt(k[Ae]):Pt(k[Ae]);D(S[Ae],Le,G,null,Q,le,_e,oe,ue)}ie>Se?te(S,Q,le,!0,!1,ve):b(k,G,q,Q,le,_e,oe,ue,ve)},U=(S,k,G,q,Q,le,_e,oe,ue)=>{let ie=0;const Se=k.length;let ve=S.length-1,Ae=Se-1;for(;ie<=ve&&ie<=Ae;){const Le=S[ie],ke=k[ie]=ue?Jt(k[ie]):Pt(k[ie]);if(jn(Le,ke))D(Le,ke,G,null,Q,le,_e,oe,ue);else break;ie++}for(;ie<=ve&&ie<=Ae;){const Le=S[ve],ke=k[Ae]=ue?Jt(k[Ae]):Pt(k[Ae]);if(jn(Le,ke))D(Le,ke,G,null,Q,le,_e,oe,ue);else break;ve--,Ae--}if(ie>ve){if(ie<=Ae){const Le=Ae+1,ke=Le<Se?k[Le].el:q;for(;ie<=Ae;)D(null,k[ie]=ue?Jt(k[ie]):Pt(k[ie]),G,ke,Q,le,_e,oe,ue),ie++}}else if(ie>Ae)for(;ie<=ve;)Ee(S[ie],Q,le,!0),ie++;else{const Le=ie,ke=ie,ze=new Map;for(ie=ke;ie<=Ae;ie++){const dt=k[ie]=ue?Jt(k[ie]):Pt(k[ie]);dt.key!=null&&ze.set(dt.key,ie)}let Fe,Ke=0;const mt=Ae-ke+1;let lt=!1,Un=0;const sn=new Array(mt);for(ie=0;ie<mt;ie++)sn[ie]=0;for(ie=Le;ie<=ve;ie++){const dt=S[ie];if(Ke>=mt){Ee(dt,Q,le,!0);continue}let d;if(dt.key!=null)d=ze.get(dt.key);else for(Fe=ke;Fe<=Ae;Fe++)if(sn[Fe-ke]===0&&jn(dt,k[Fe])){d=Fe;break}d===void 0?Ee(dt,Q,le,!0):(sn[d-ke]=ie+1,d>=Un?Un=d:lt=!0,D(dt,k[d],G,null,Q,le,_e,oe,ue),Ke++)}const nt=lt?rc(sn):Sn;for(Fe=nt.length-1,ie=mt-1;ie>=0;ie--){const dt=ke+ie,d=k[dt],l=dt+1<Se?k[dt+1].el:q;sn[ie]===0?D(null,d,G,l,Q,le,_e,oe,ue):lt&&(Fe<0||ie!==nt[Fe]?he(d,G,l,2):Fe--)}}},he=(S,k,G,q,Q=null)=>{const{el:le,type:_e,transition:oe,children:ue,shapeFlag:ie}=S;if(ie&6){he(S.component.subTree,k,G,q);return}if(ie&128){S.suspense.move(k,G,q);return}if(ie&64){_e.move(S,k,G,re);return}if(_e===_t){i(le,k,G);for(let ve=0;ve<ue.length;ve++)he(ue[ve],k,G,q);i(S.anchor,k,G);return}if(_e===mr){ee(S,k,G);return}if(q!==2&&ie&1&&oe)if(q===0)oe.beforeEnter(le),i(le,k,G),gt(()=>oe.enter(le),Q);else{const{leave:ve,delayLeave:Ae,afterLeave:Le}=oe,ke=()=>i(le,k,G),ze=()=>{ve(le,()=>{ke(),Le&&Le()})};Ae?Ae(le,ke,ze):ze()}else i(le,k,G)},Ee=(S,k,G,q=!1,Q=!1)=>{const{type:le,props:_e,ref:oe,children:ue,dynamicChildren:ie,shapeFlag:Se,patchFlag:ve,dirs:Ae}=S;if(oe!=null&&Ir(oe,null,G,S,!0),Se&256){k.ctx.deactivate(S);return}const Le=Se&1&&Ae,ke=!Ri(S);let ze;if(ke&&(ze=_e&&_e.onVnodeBeforeUnmount)&&kt(ze,k,S),Se&6)$(S.component,G,q);else{if(Se&128){S.suspense.unmount(G,q);return}Le&&an(S,null,k,"beforeUnmount"),Se&64?S.type.remove(S,k,G,Q,re,q):ie&&(le!==_t||ve>0&&ve&64)?te(ie,k,G,!1,!0):(le===_t&&ve&384||!Q&&Se&16)&&te(ue,k,G),q&&Be(S)}(ke&&(ze=_e&&_e.onVnodeUnmounted)||Le)&&gt(()=>{ze&&kt(ze,k,S),Le&&an(S,null,k,"unmounted")},G)},Be=S=>{const{type:k,el:G,anchor:q,transition:Q}=S;if(k===_t){Xe(G,q);return}if(k===mr){C(S);return}const le=()=>{r(G),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(S.shapeFlag&1&&Q&&!Q.persisted){const{leave:_e,delayLeave:oe}=Q,ue=()=>_e(G,le);oe?oe(S.el,le,ue):ue()}else le()},Xe=(S,k)=>{let G;for(;S!==k;)G=w(S),r(S),S=G;r(k)},$=(S,k,G)=>{const{bum:q,scope:Q,update:le,subTree:_e,um:oe}=S;q&&Si(q),Q.stop(),le&&(le.active=!1,Ee(_e,S,k,G)),oe&&gt(oe,k),gt(()=>{S.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},te=(S,k,G,q=!1,Q=!1,le=0)=>{for(let _e=le;_e<S.length;_e++)Ee(S[_e],k,G,q,Q)},B=S=>S.shapeFlag&6?B(S.component.subTree):S.shapeFlag&128?S.suspense.next():w(S.anchor||S.el),z=(S,k,G)=>{S==null?k._vnode&&Ee(k._vnode,null,null,!0):D(k._vnode||null,S,k,null,null,null,G),xs(),ra(),k._vnode=S},re={p:D,um:Ee,m:he,r:Be,mt:ye,mc:b,pc:v,pbc:O,n:B,o:e};let me,se;return t&&([me,se]=t(re)),{render:z,hydrate:me,createApp:tc(z,me)}}function ln({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function ba(e,t,n=!1){const i=e.children,r=t.children;if(Te(i)&&Te(r))for(let o=0;o<i.length;o++){const a=i[o];let u=r[o];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=r[o]=Jt(r[o]),u.el=a.el),n||ba(a,u)),u.type===Qi&&(u.el=a.el)}}function rc(e){const t=e.slice(),n=[0];let i,r,o,a,u;const f=e.length;for(i=0;i<f;i++){const h=e[i];if(h!==0){if(r=n[n.length-1],e[r]<h){t[i]=r,n.push(i);continue}for(o=0,a=n.length-1;o<a;)u=o+a>>1,e[n[u]]<h?o=u+1:a=u;h<e[n[o]]&&(o>0&&(t[i]=n[o-1]),n[o]=i)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=t[a];return n}const sc=e=>e.__isTeleport,_t=Symbol(void 0),Qi=Symbol(void 0),ii=Symbol(void 0),mr=Symbol(void 0),Wn=[];let wt=null;function Ut(e=!1){Wn.push(wt=e?null:[])}function oc(){Wn.pop(),wt=Wn[Wn.length-1]||null}let ri=1;function qs(e){ri+=e}function Ea(e){return e.dynamicChildren=ri>0?wt||Sn:null,oc(),ri>0&&wt&&wt.push(e),e}function Qt(e,t,n,i,r,o){return Ea(xe(e,t,n,i,r,o,!0))}function ac(e,t,n,i,r){return Ea(Et(e,t,n,i,r,!0))}function Br(e){return e?e.__v_isVNode===!0:!1}function jn(e,t){return e.type===t.type&&e.key===t.key}const Zi="__vInternal",Sa=({key:e})=>e!=null?e:null,wi=({ref:e,ref_key:t,ref_for:n})=>e!=null?rt(e)||tt(e)||De(e)?{i:bt,r:e,k:t,f:!!n}:e:null;function xe(e,t=null,n=null,i=0,r=null,o=e===_t?0:1,a=!1,u=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Sa(t),ref:t&&wi(t),scopeId:Yi,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:bt};return u?(cs(f,n),o&128&&e.normalize(f)):n&&(f.shapeFlag|=rt(n)?8:16),ri>0&&!a&&wt&&(f.patchFlag>0||o&6)&&f.patchFlag!==32&&wt.push(f),f}const Et=lc;function lc(e,t=null,n=null,i=0,r=null,o=!1){if((!e||e===Vu)&&(e=ii),Br(e)){const u=Ln(e,t,!0);return n&&cs(u,n),ri>0&&!o&&wt&&(u.shapeFlag&6?wt[wt.indexOf(e)]=u:wt.push(u)),u.patchFlag|=-2,u}if(Ec(e)&&(e=e.__vccOpts),t){t=uc(t);let{class:u,style:f}=t;u&&!rt(u)&&(t.class=Wr(u)),We(f)&&(Yo(f)&&!Te(f)&&(f=pt({},f)),t.style=Kr(f))}const a=rt(e)?1:Tu(e)?128:sc(e)?64:We(e)?4:De(e)?2:0;return xe(e,t,n,i,r,a,o,!0)}function uc(e){return e?Yo(e)||Zi in e?pt({},e):e:null}function Ln(e,t,n=!1){const{props:i,ref:r,patchFlag:o,children:a}=e,u=t?dc(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Sa(u),ref:t&&t.ref?n&&r?Te(r)?r.concat(wi(t)):[r,wi(t)]:wi(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==_t?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ln(e.ssContent),ssFallback:e.ssFallback&&Ln(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function cc(e=" ",t=0){return Et(Qi,null,e,t)}function Pt(e){return e==null||typeof e=="boolean"?Et(ii):Te(e)?Et(_t,null,e.slice()):typeof e=="object"?Jt(e):Et(Qi,null,String(e))}function Jt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ln(e)}function cs(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Te(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),cs(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(Zi in t)?t._ctx=bt:r===3&&bt&&(bt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else De(t)?(t={default:t,_ctx:bt},n=32):(t=String(t),i&64?(n=16,t=[cc(t)]):n=8);e.children=t,e.shapeFlag|=n}function dc(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=Wr([t.class,i.class]));else if(r==="style")t.style=Kr([t.style,i.style]);else if(zi(r)){const o=t[r],a=i[r];a&&o!==a&&!(Te(o)&&o.includes(a))&&(t[r]=o?[].concat(o,a):a)}else r!==""&&(t[r]=i[r])}return t}function kt(e,t,n,i=null){Ct(e,t,7,[n,i])}const fc=va();let hc=0;function _c(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||fc,o={uid:hc++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Uo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pa(i,r),emitsOptions:oa(i,r),emit:null,emitted:null,propsDefaults:Je,inheritAttrs:i.inheritAttrs,ctx:Je,data:Je,props:Je,attrs:Je,slots:Je,refs:Je,setupState:Je,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=yu.bind(null,o),e.ce&&e.ce(o),o}let st=null;const pc=()=>st||bt,On=e=>{st=e,e.scope.on()},pn=()=>{st&&st.scope.off(),st=null};function Aa(e){return e.vnode.shapeFlag&4}let si=!1;function mc(e,t=!1){si=t;const{props:n,children:i}=e.vnode,r=Aa(e);Ju(e,n,r,t),Qu(e,i);const o=r?gc(e,t):void 0;return si=!1,o}function gc(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Cn(new Proxy(e.ctx,zu));const{setup:i}=n;if(i){const r=e.setupContext=i.length>1?vc(e):null;On(e),In();const o=nn(i,e,0,[e.props,r]);if(Bn(),pn(),Bo(o)){if(o.then(pn,pn),t)return o.then(a=>{Ks(e,a,t)}).catch(a=>{$i(a,e,0)});e.asyncDep=o}else Ks(e,o,t)}else Ra(e,t)}function Ks(e,t,n){De(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:We(t)&&(e.setupState=ea(t)),Ra(e,n)}let Ws;function Ra(e,t,n){const i=e.type;if(!e.render){if(!t&&Ws&&!i.render){const r=i.template||ls(e).template;if(r){const{isCustomElement:o,compilerOptions:a}=e.appContext.config,{delimiters:u,compilerOptions:f}=i,h=pt(pt({isCustomElement:o,delimiters:u},a),f);i.render=Ws(r,h)}}e.render=i.render||Tt}On(e),In(),Hu(e),Bn(),pn()}function yc(e){return new Proxy(e.attrs,{get(t,n){return St(e,"get","$attrs"),t[n]}})}function vc(e){const t=i=>{e.exposed=i||{}};let n;return{get attrs(){return n||(n=yc(e))},slots:e.slots,emit:e.emit,expose:t}}function er(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ea(Cn(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Kn)return Kn[n](e)},has(t,n){return n in t||n in Kn}}))}function bc(e,t=!0){return De(e)?e.displayName||e.name:e.name||t&&e.__name}function Ec(e){return De(e)&&"__vccOpts"in e}const vt=(e,t)=>fu(e,t,si);function wa(e,t,n){const i=arguments.length;return i===2?We(t)&&!Te(t)?Br(t)?Et(e,null,[t]):Et(e,t):Et(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Br(n)&&(n=[n]),Et(e,t,n))}const Sc=Symbol(""),Ac=()=>Lt(Sc),Rc="3.2.45",wc="http://www.w3.org/2000/svg",dn=typeof document<"u"?document:null,$s=dn&&dn.createElement("template"),Tc={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t?dn.createElementNS(wc,e):dn.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>dn.createTextNode(e),createComment:e=>dn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>dn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,o){const a=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{$s.innerHTML=i?`<svg>${e}</svg>`:e;const u=$s.content;if(i){const f=u.firstChild;for(;f.firstChild;)u.appendChild(f.firstChild);u.removeChild(f)}t.insertBefore(u,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Cc(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Lc(e,t,n){const i=e.style,r=rt(n);if(n&&!r){for(const o in n)xr(i,o,n[o]);if(t&&!rt(t))for(const o in t)n[o]==null&&xr(i,o,"")}else{const o=i.display;r?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=o)}}const Js=/\s*!important$/;function xr(e,t,n){if(Te(n))n.forEach(i=>xr(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=Oc(e,t);Js.test(n)?e.setProperty(Dn(i),n.replace(Js,""),"important"):e[i]=n}}const Ys=["Webkit","Moz","ms"],gr={};function Oc(e,t){const n=gr[t];if(n)return n;let i=It(t);if(i!=="filter"&&i in e)return gr[t]=i;i=Ki(i);for(let r=0;r<Ys.length;r++){const o=Ys[r]+i;if(o in e)return gr[t]=o}return t}const Xs="http://www.w3.org/1999/xlink";function kc(e,t,n,i,r){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Xs,t.slice(6,t.length)):e.setAttributeNS(Xs,t,n);else{const o=El(t);n==null||o&&!Po(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function Pc(e,t,n,i,r,o,a){if(t==="innerHTML"||t==="textContent"){i&&a(i,r,o),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const f=n==null?"":n;(e.value!==f||e.tagName==="OPTION")&&(e.value=f),n==null&&e.removeAttribute(t);return}let u=!1;if(n===""||n==null){const f=typeof e[t];f==="boolean"?n=Po(n):n==null&&f==="string"?(n="",u=!0):f==="number"&&(n=0,u=!0)}try{e[t]=n}catch{}u&&e.removeAttribute(t)}function fn(e,t,n,i){e.addEventListener(t,n,i)}function Dc(e,t,n,i){e.removeEventListener(t,n,i)}function Ic(e,t,n,i,r=null){const o=e._vei||(e._vei={}),a=o[t];if(i&&a)a.value=i;else{const[u,f]=Bc(t);if(i){const h=o[t]=Uc(i,r);fn(e,u,h,f)}else a&&(Dc(e,u,a,f),o[t]=void 0)}}const Qs=/(?:Once|Passive|Capture)$/;function Bc(e){let t;if(Qs.test(e)){t={};let i;for(;i=e.match(Qs);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Dn(e.slice(2)),t]}let yr=0;const xc=Promise.resolve(),Mc=()=>yr||(xc.then(()=>yr=0),yr=Date.now());function Uc(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Ct(Nc(i,n.value),t,5,[i])};return n.value=e,n.attached=Mc(),n}function Nc(e,t){if(Te(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const Zs=/^on[a-z]/,Fc=(e,t,n,i,r=!1,o,a,u,f)=>{t==="class"?Cc(e,i,r):t==="style"?Lc(e,n,i):zi(t)?$r(t)||Ic(e,t,n,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):jc(e,t,i,r))?Pc(e,t,i,o,a,u,f):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),kc(e,t,i,r))};function jc(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&Zs.test(t)&&De(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Zs.test(t)&&rt(n)?!1:t in e}const Mi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Te(t)?n=>Si(t,n):t};function Vc(e){e.target.composing=!0}function eo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ui={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e._assign=Mi(r);const o=i||r.props&&r.props.type==="number";fn(e,t?"change":"input",a=>{if(a.target.composing)return;let u=e.value;n&&(u=u.trim()),o&&(u=Di(u)),e._assign(u)}),n&&fn(e,"change",()=>{e.value=e.value.trim()}),t||(fn(e,"compositionstart",Vc),fn(e,"compositionend",eo),fn(e,"change",eo))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:r}},o){if(e._assign=Mi(o),e.composing||document.activeElement===e&&e.type!=="range"&&(n||i&&e.value.trim()===t||(r||e.type==="number")&&Di(e.value)===t))return;const a=t==null?"":t;e.value!==a&&(e.value=a)}},Gc={deep:!0,created(e,t,n){e._assign=Mi(n),fn(e,"change",()=>{const i=e._modelValue,r=zc(e),o=e.checked,a=e._assign;if(Te(i)){const u=Do(i,r),f=u!==-1;if(o&&!f)a(i.concat(r));else if(!o&&f){const h=[...i];h.splice(u,1),a(h)}}else if(Hi(i)){const u=new Set(i);o?u.add(r):u.delete(r),a(u)}else a(Ta(e,o))})},mounted:to,beforeUpdate(e,t,n){e._assign=Mi(n),to(e,t,n)}};function to(e,{value:t,oldValue:n},i){e._modelValue=t,Te(t)?e.checked=Do(t,i.props.value)>-1:Hi(t)?e.checked=t.has(i.props.value):t!==n&&(e.checked=Gi(t,Ta(e,!0)))}function zc(e){return"_value"in e?e._value:e.value}function Ta(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Hc=pt({patchProp:Fc},Tc);let no;function qc(){return no||(no=nc(Hc))}const Kc=(...e)=>{const t=qc().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=Wc(i);if(!r)return;const o=t._component;!De(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.innerHTML="";const a=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t};function Wc(e){return rt(e)?document.querySelector(e):e}var $c=!1;/*!
  * pinia v2.0.27
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let Ca;const tr=e=>Ca=e,La=Symbol();function Mr(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var $n;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})($n||($n={}));function Jc(){const e=No(!0),t=e.run(()=>it({}));let n=[],i=[];const r=Cn({install(o){tr(r),r._a=o,o.provide(La,r),o.config.globalProperties.$pinia=r,i.forEach(a=>n.push(a)),i=[]},use(o){return!this._a&&!$c?i.push(o):n.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const Oa=()=>{};function io(e,t,n,i=Oa){e.push(t);const r=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),i())};return!n&&Pl()&&Dl(r),r}function vn(e,...t){e.slice().forEach(n=>{n(...t)})}function Ur(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],r=e[n];Mr(r)&&Mr(i)&&e.hasOwnProperty(n)&&!tt(i)&&!en(i)?e[n]=Ur(r,i):e[n]=i}return e}const Yc=Symbol();function Xc(e){return!Mr(e)||!e.hasOwnProperty(Yc)}const{assign:Yt}=Object;function Qc(e){return!!(tt(e)&&e.effect)}function Zc(e,t,n,i){const{state:r,actions:o,getters:a}=t,u=n.state.value[e];let f;function h(){u||(n.state.value[e]=r?r():{});const _=lu(n.state.value[e]);return Yt(_,o,Object.keys(a||{}).reduce((m,w)=>(m[w]=Cn(vt(()=>{tr(n);const T=n._s.get(e);return a[w].call(T,T)})),m),{}))}return f=ka(e,h,t,n,i,!0),f.$reset=function(){const m=r?r():{};this.$patch(w=>{Yt(w,m)})},f}function ka(e,t,n={},i,r,o){let a;const u=Yt({actions:{}},n),f={deep:!0};let h,_,m=Cn([]),w=Cn([]),T;const P=i.state.value[e];!o&&!P&&(i.state.value[e]={}),it({});let D;function ne(E){let b;h=_=!1,typeof E=="function"?(E(i.state.value[e]),b={type:$n.patchFunction,storeId:e,events:T}):(Ur(i.state.value[e],E),b={type:$n.patchObject,payload:E,storeId:e,events:T});const R=D=Symbol();ss().then(()=>{D===R&&(h=!0)}),_=!0,vn(m,b,i.state.value[e])}const J=Oa;function Z(){a.stop(),m=[],w=[],i._s.delete(e)}function ee(E,b){return function(){tr(i);const R=Array.from(arguments),O=[],M=[];function N(Re){O.push(Re)}function ce(Re){M.push(Re)}vn(w,{args:R,name:E,store:Y,after:N,onError:ce});let ye;try{ye=b.apply(this&&this.$id===e?this:Y,R)}catch(Re){throw vn(M,Re),Re}return ye instanceof Promise?ye.then(Re=>(vn(O,Re),Re)).catch(Re=>(vn(M,Re),Promise.reject(Re))):(vn(O,ye),ye)}}const C={_p:i,$id:e,$onAction:io.bind(null,w),$patch:ne,$reset:J,$subscribe(E,b={}){const R=io(m,E,b.detached,()=>O()),O=a.run(()=>qn(()=>i.state.value[e],M=>{(b.flush==="sync"?_:h)&&E({storeId:e,type:$n.direct,events:T},M)},Yt({},f,b)));return R},$dispose:Z},Y=xn(C);i._s.set(e,Y);const I=i._e.run(()=>(a=No(),a.run(()=>t())));for(const E in I){const b=I[E];if(tt(b)&&!Qc(b)||en(b))o||(P&&Xc(b)&&(tt(b)?b.value=P[E]:Ur(b,P[E])),i.state.value[e][E]=b);else if(typeof b=="function"){const R=ee(E,b);I[E]=R,u.actions[E]=b}}return Yt(Y,I),Yt(Ve(Y),I),Object.defineProperty(Y,"$state",{get:()=>i.state.value[e],set:E=>{ne(b=>{Yt(b,E)})}}),i._p.forEach(E=>{Yt(Y,a.run(()=>E({store:Y,app:i._a,pinia:i,options:u})))}),P&&o&&n.hydrate&&n.hydrate(Y.$state,P),h=!0,_=!0,Y}function ed(e,t,n){let i,r;const o=typeof t=="function";typeof e=="string"?(i=e,r=o?n:t):(r=e,i=e.id);function a(u,f){const h=pc();return u=u||h&&Lt(La),u&&tr(u),u=Ca,u._s.has(i)||(o?ka(i,t,r,u):Zc(i,r,u)),u._s.get(i)}return a.$id=i,a}function Pa(e,t){return function(){return e.apply(t,arguments)}}const{toString:Da}=Object.prototype,{getPrototypeOf:ds}=Object,fs=(e=>t=>{const n=Da.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Gt=e=>(e=e.toLowerCase(),t=>fs(t)===e),nr=e=>t=>typeof t===e,{isArray:Mn}=Array,oi=nr("undefined");function td(e){return e!==null&&!oi(e)&&e.constructor!==null&&!oi(e.constructor)&&mn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ia=Gt("ArrayBuffer");function nd(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ia(e.buffer),t}const id=nr("string"),mn=nr("function"),Ba=nr("number"),hs=e=>e!==null&&typeof e=="object",rd=e=>e===!0||e===!1,Ti=e=>{if(fs(e)!=="object")return!1;const t=ds(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},sd=Gt("Date"),od=Gt("File"),ad=Gt("Blob"),ld=Gt("FileList"),ud=e=>hs(e)&&mn(e.pipe),cd=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||Da.call(e)===t||mn(e.toString)&&e.toString()===t)},dd=Gt("URLSearchParams"),fd=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ci(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,r;if(typeof e!="object"&&(e=[e]),Mn(e))for(i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;let u;for(i=0;i<a;i++)u=o[i],t.call(null,e[u],u,e)}}function xa(e,t){t=t.toLowerCase();const n=Object.keys(e);let i=n.length,r;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Ma=typeof self>"u"?typeof global>"u"?globalThis:global:self,Ua=e=>!oi(e)&&e!==Ma;function Nr(){const{caseless:e}=Ua(this)&&this||{},t={},n=(i,r)=>{const o=e&&xa(t,r)||r;Ti(t[o])&&Ti(i)?t[o]=Nr(t[o],i):Ti(i)?t[o]=Nr({},i):Mn(i)?t[o]=i.slice():t[o]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&ci(arguments[i],n);return t}const hd=(e,t,n,{allOwnKeys:i}={})=>(ci(t,(r,o)=>{n&&mn(r)?e[o]=Pa(r,n):e[o]=r},{allOwnKeys:i}),e),_d=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),pd=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},md=(e,t,n,i)=>{let r,o,a;const u={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),o=r.length;o-- >0;)a=r[o],(!i||i(a,e,t))&&!u[a]&&(t[a]=e[a],u[a]=!0);e=n!==!1&&ds(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},gd=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},yd=e=>{if(!e)return null;if(Mn(e))return e;let t=e.length;if(!Ba(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},vd=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ds(Uint8Array)),bd=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=i.next())&&!r.done;){const o=r.value;t.call(e,o[0],o[1])}},Ed=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},Sd=Gt("HTMLFormElement"),Ad=e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),ro=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Rd=Gt("RegExp"),Na=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};ci(n,(r,o)=>{t(r,o,e)!==!1&&(i[o]=r)}),Object.defineProperties(e,i)},wd=e=>{Na(e,(t,n)=>{if(mn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(!!mn(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Td=(e,t)=>{const n={},i=r=>{r.forEach(o=>{n[o]=!0})};return Mn(e)?i(e):i(String(e).split(t)),n},Cd=()=>{},Ld=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Od=e=>{const t=new Array(10),n=(i,r)=>{if(hs(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[r]=i;const o=Mn(i)?[]:{};return ci(i,(a,u)=>{const f=n(a,r+1);!oi(f)&&(o[u]=f)}),t[r]=void 0,o}}return i};return n(e,0)},X={isArray:Mn,isArrayBuffer:Ia,isBuffer:td,isFormData:cd,isArrayBufferView:nd,isString:id,isNumber:Ba,isBoolean:rd,isObject:hs,isPlainObject:Ti,isUndefined:oi,isDate:sd,isFile:od,isBlob:ad,isRegExp:Rd,isFunction:mn,isStream:ud,isURLSearchParams:dd,isTypedArray:vd,isFileList:ld,forEach:ci,merge:Nr,extend:hd,trim:fd,stripBOM:_d,inherits:pd,toFlatObject:md,kindOf:fs,kindOfTest:Gt,endsWith:gd,toArray:yd,forEachEntry:bd,matchAll:Ed,isHTMLForm:Sd,hasOwnProperty:ro,hasOwnProp:ro,reduceDescriptors:Na,freezeMethods:wd,toObjectSet:Td,toCamelCase:Ad,noop:Cd,toFiniteNumber:Ld,findKey:xa,global:Ma,isContextDefined:Ua,toJSONObject:Od};function Ne(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}X.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Fa=Ne.prototype,ja={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ja[e]={value:e}});Object.defineProperties(Ne,ja);Object.defineProperty(Fa,"isAxiosError",{value:!0});Ne.from=(e,t,n,i,r,o)=>{const a=Object.create(Fa);return X.toFlatObject(e,a,function(f){return f!==Error.prototype},u=>u!=="isAxiosError"),Ne.call(a,e.message,t,n,i,r),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};function kd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pd=typeof self=="object"?self.FormData:window.FormData;const Dd=Pd;function Fr(e){return X.isPlainObject(e)||X.isArray(e)}function Va(e){return X.endsWith(e,"[]")?e.slice(0,-2):e}function so(e,t,n){return e?e.concat(t).map(function(r,o){return r=Va(r),!n&&o?"["+r+"]":r}).join(n?".":""):t}function Id(e){return X.isArray(e)&&!e.some(Fr)}const Bd=X.toFlatObject(X,{},null,function(t){return/^is[A-Z]/.test(t)});function xd(e){return e&&X.isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator]}function ir(e,t,n){if(!X.isObject(e))throw new TypeError("target must be an object");t=t||new(Dd||FormData),n=X.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,ne){return!X.isUndefined(ne[D])});const i=n.metaTokens,r=n.visitor||_,o=n.dots,a=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&xd(t);if(!X.isFunction(r))throw new TypeError("visitor must be a function");function h(P){if(P===null)return"";if(X.isDate(P))return P.toISOString();if(!f&&X.isBlob(P))throw new Ne("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(P)||X.isTypedArray(P)?f&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function _(P,D,ne){let J=P;if(P&&!ne&&typeof P=="object"){if(X.endsWith(D,"{}"))D=i?D:D.slice(0,-2),P=JSON.stringify(P);else if(X.isArray(P)&&Id(P)||X.isFileList(P)||X.endsWith(D,"[]")&&(J=X.toArray(P)))return D=Va(D),J.forEach(function(ee,C){!(X.isUndefined(ee)||ee===null)&&t.append(a===!0?so([D],C,o):a===null?D:D+"[]",h(ee))}),!1}return Fr(P)?!0:(t.append(so(ne,D,o),h(P)),!1)}const m=[],w=Object.assign(Bd,{defaultVisitor:_,convertValue:h,isVisitable:Fr});function T(P,D){if(!X.isUndefined(P)){if(m.indexOf(P)!==-1)throw Error("Circular reference detected in "+D.join("."));m.push(P),X.forEach(P,function(J,Z){(!(X.isUndefined(J)||J===null)&&r.call(t,J,X.isString(Z)?Z.trim():Z,D,w))===!0&&T(J,D?D.concat(Z):[Z])}),m.pop()}}if(!X.isObject(e))throw new TypeError("data must be an object");return T(e),t}function oo(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function _s(e,t){this._pairs=[],e&&ir(e,this,t)}const Ga=_s.prototype;Ga.append=function(t,n){this._pairs.push([t,n])};Ga.toString=function(t){const n=t?function(i){return t.call(this,i,oo)}:oo;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Md(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function za(e,t,n){if(!t)return e;const i=n&&n.encode||Md,r=n&&n.serialize;let o;if(r?o=r(t,n):o=X.isURLSearchParams(t)?t.toString():new _s(t,n).toString(i),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Ud{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){X.forEach(this.handlers,function(i){i!==null&&t(i)})}}const ao=Ud,Ha={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Nd=typeof URLSearchParams<"u"?URLSearchParams:_s,Fd=FormData,jd=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Nt={isBrowser:!0,classes:{URLSearchParams:Nd,FormData:Fd,Blob},isStandardBrowserEnv:jd,protocols:["http","https","file","blob","url","data"]};function Vd(e,t){return ir(e,new Nt.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,o){return Nt.isNode&&X.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function Gd(e){return X.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function zd(e){const t={},n=Object.keys(e);let i;const r=n.length;let o;for(i=0;i<r;i++)o=n[i],t[o]=e[o];return t}function qa(e){function t(n,i,r,o){let a=n[o++];const u=Number.isFinite(+a),f=o>=n.length;return a=!a&&X.isArray(r)?r.length:a,f?(X.hasOwnProp(r,a)?r[a]=[r[a],i]:r[a]=i,!u):((!r[a]||!X.isObject(r[a]))&&(r[a]=[]),t(n,i,r[a],o)&&X.isArray(r[a])&&(r[a]=zd(r[a])),!u)}if(X.isFormData(e)&&X.isFunction(e.entries)){const n={};return X.forEachEntry(e,(i,r)=>{t(Gd(i),r,n,0)}),n}return null}const Hd={"Content-Type":void 0};function qd(e,t,n){if(X.isString(e))try{return(t||JSON.parse)(e),X.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const rr={transitional:Ha,adapter:["xhr","http"],transformRequest:[function(t,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,o=X.isObject(t);if(o&&X.isHTMLForm(t)&&(t=new FormData(t)),X.isFormData(t))return r&&r?JSON.stringify(qa(t)):t;if(X.isArrayBuffer(t)||X.isBuffer(t)||X.isStream(t)||X.isFile(t)||X.isBlob(t))return t;if(X.isArrayBufferView(t))return t.buffer;if(X.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Vd(t,this.formSerializer).toString();if((u=X.isFileList(t))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return ir(u?{"files[]":t}:t,f&&new f,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),qd(t)):t}],transformResponse:[function(t){const n=this.transitional||rr.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(t&&X.isString(t)&&(i&&!this.responseType||r)){const a=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(u){if(a)throw u.name==="SyntaxError"?Ne.from(u,Ne.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nt.classes.FormData,Blob:Nt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};X.forEach(["delete","get","head"],function(t){rr.headers[t]={}});X.forEach(["post","put","patch"],function(t){rr.headers[t]=X.merge(Hd)});const ps=rr,Kd=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wd=e=>{const t={};let n,i,r;return e&&e.split(`
`).forEach(function(a){r=a.indexOf(":"),n=a.substring(0,r).trim().toLowerCase(),i=a.substring(r+1).trim(),!(!n||t[n]&&Kd[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},lo=Symbol("internals");function Vn(e){return e&&String(e).trim().toLowerCase()}function Ci(e){return e===!1||e==null?e:X.isArray(e)?e.map(Ci):String(e)}function $d(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}function Jd(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function uo(e,t,n,i){if(X.isFunction(i))return i.call(this,t,n);if(!!X.isString(t)){if(X.isString(i))return t.indexOf(i)!==-1;if(X.isRegExp(i))return i.test(t)}}function Yd(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function Xd(e,t){const n=X.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(r,o,a){return this[i].call(this,t,r,o,a)},configurable:!0})})}class sr{constructor(t){t&&this.set(t)}set(t,n,i){const r=this;function o(u,f,h){const _=Vn(f);if(!_)throw new Error("header name must be a non-empty string");const m=X.findKey(r,_);(!m||r[m]===void 0||h===!0||h===void 0&&r[m]!==!1)&&(r[m||f]=Ci(u))}const a=(u,f)=>X.forEach(u,(h,_)=>o(h,_,f));return X.isPlainObject(t)||t instanceof this.constructor?a(t,n):X.isString(t)&&(t=t.trim())&&!Jd(t)?a(Wd(t),n):t!=null&&o(n,t,i),this}get(t,n){if(t=Vn(t),t){const i=X.findKey(this,t);if(i){const r=this[i];if(!n)return r;if(n===!0)return $d(r);if(X.isFunction(n))return n.call(this,r,i);if(X.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Vn(t),t){const i=X.findKey(this,t);return!!(i&&(!n||uo(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let r=!1;function o(a){if(a=Vn(a),a){const u=X.findKey(i,a);u&&(!n||uo(i,i[u],u,n))&&(delete i[u],r=!0)}}return X.isArray(t)?t.forEach(o):o(t),r}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(t){const n=this,i={};return X.forEach(this,(r,o)=>{const a=X.findKey(i,o);if(a){n[a]=Ci(r),delete n[o];return}const u=t?Yd(o):String(o).trim();u!==o&&delete n[o],n[u]=Ci(r),i[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return X.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=t&&X.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(r=>i.set(r)),i}static accessor(t){const i=(this[lo]=this[lo]={accessors:{}}).accessors,r=this.prototype;function o(a){const u=Vn(a);i[u]||(Xd(r,a),i[u]=!0)}return X.isArray(t)?t.forEach(o):o(t),this}}sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);X.freezeMethods(sr.prototype);X.freezeMethods(sr);const Ft=sr;function vr(e,t){const n=this||ps,i=t||n,r=Ft.from(i.headers);let o=i.data;return X.forEach(e,function(u){o=u.call(n,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function Ka(e){return!!(e&&e.__CANCEL__)}function di(e,t,n){Ne.call(this,e==null?"canceled":e,Ne.ERR_CANCELED,t,n),this.name="CanceledError"}X.inherits(di,Ne,{__CANCEL__:!0});const Qd=null;function Zd(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new Ne("Request failed with status code "+n.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const ef=Nt.isStandardBrowserEnv?function(){return{write:function(n,i,r,o,a,u){const f=[];f.push(n+"="+encodeURIComponent(i)),X.isNumber(r)&&f.push("expires="+new Date(r).toGMTString()),X.isString(o)&&f.push("path="+o),X.isString(a)&&f.push("domain="+a),u===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(n){const i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function tf(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function nf(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Wa(e,t){return e&&!tf(t)?nf(e,t):t}const rf=Nt.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function r(o){let a=o;return t&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=r(window.location.href),function(a){const u=X.isString(a)?r(a):a;return u.protocol===i.protocol&&u.host===i.host}}():function(){return function(){return!0}}();function sf(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function of(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r=0,o=0,a;return t=t!==void 0?t:1e3,function(f){const h=Date.now(),_=i[o];a||(a=h),n[r]=f,i[r]=h;let m=o,w=0;for(;m!==r;)w+=n[m++],m=m%e;if(r=(r+1)%e,r===o&&(o=(o+1)%e),h-a<t)return;const T=_&&h-_;return T?Math.round(w*1e3/T):void 0}}function co(e,t){let n=0;const i=of(50,250);return r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,u=o-n,f=i(u),h=o<=a;n=o;const _={loaded:o,total:a,progress:a?o/a:void 0,bytes:u,rate:f||void 0,estimated:f&&a&&h?(a-o)/f:void 0,event:r};_[t?"download":"upload"]=!0,e(_)}}const af=typeof XMLHttpRequest<"u",lf=af&&function(e){return new Promise(function(n,i){let r=e.data;const o=Ft.from(e.headers).normalize(),a=e.responseType;let u;function f(){e.cancelToken&&e.cancelToken.unsubscribe(u),e.signal&&e.signal.removeEventListener("abort",u)}X.isFormData(r)&&Nt.isStandardBrowserEnv&&o.setContentType(!1);let h=new XMLHttpRequest;if(e.auth){const T=e.auth.username||"",P=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(T+":"+P))}const _=Wa(e.baseURL,e.url);h.open(e.method.toUpperCase(),za(_,e.params,e.paramsSerializer),!0),h.timeout=e.timeout;function m(){if(!h)return;const T=Ft.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),D={data:!a||a==="text"||a==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:T,config:e,request:h};Zd(function(J){n(J),f()},function(J){i(J),f()},D),h=null}if("onloadend"in h?h.onloadend=m:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(m)},h.onabort=function(){!h||(i(new Ne("Request aborted",Ne.ECONNABORTED,e,h)),h=null)},h.onerror=function(){i(new Ne("Network Error",Ne.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let P=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const D=e.transitional||Ha;e.timeoutErrorMessage&&(P=e.timeoutErrorMessage),i(new Ne(P,D.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,e,h)),h=null},Nt.isStandardBrowserEnv){const T=(e.withCredentials||rf(_))&&e.xsrfCookieName&&ef.read(e.xsrfCookieName);T&&o.set(e.xsrfHeaderName,T)}r===void 0&&o.setContentType(null),"setRequestHeader"in h&&X.forEach(o.toJSON(),function(P,D){h.setRequestHeader(D,P)}),X.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),a&&a!=="json"&&(h.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&h.addEventListener("progress",co(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",co(e.onUploadProgress)),(e.cancelToken||e.signal)&&(u=T=>{!h||(i(!T||T.type?new di(null,e,h):T),h.abort(),h=null)},e.cancelToken&&e.cancelToken.subscribe(u),e.signal&&(e.signal.aborted?u():e.signal.addEventListener("abort",u)));const w=sf(_);if(w&&Nt.protocols.indexOf(w)===-1){i(new Ne("Unsupported protocol "+w+":",Ne.ERR_BAD_REQUEST,e));return}h.send(r||null)})},Li={http:Qd,xhr:lf};X.forEach(Li,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const uf={getAdapter:e=>{e=X.isArray(e)?e:[e];const{length:t}=e;let n,i;for(let r=0;r<t&&(n=e[r],!(i=X.isString(n)?Li[n.toLowerCase()]:n));r++);if(!i)throw i===!1?new Ne(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(X.hasOwnProp(Li,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!X.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:Li};function br(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new di}function fo(e){return br(e),e.headers=Ft.from(e.headers),e.data=vr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),uf.getAdapter(e.adapter||ps.adapter)(e).then(function(i){return br(e),i.data=vr.call(e,e.transformResponse,i),i.headers=Ft.from(i.headers),i},function(i){return Ka(i)||(br(e),i&&i.response&&(i.response.data=vr.call(e,e.transformResponse,i.response),i.response.headers=Ft.from(i.response.headers))),Promise.reject(i)})}const ho=e=>e instanceof Ft?e.toJSON():e;function ai(e,t){t=t||{};const n={};function i(h,_,m){return X.isPlainObject(h)&&X.isPlainObject(_)?X.merge.call({caseless:m},h,_):X.isPlainObject(_)?X.merge({},_):X.isArray(_)?_.slice():_}function r(h,_,m){if(X.isUndefined(_)){if(!X.isUndefined(h))return i(void 0,h,m)}else return i(h,_,m)}function o(h,_){if(!X.isUndefined(_))return i(void 0,_)}function a(h,_){if(X.isUndefined(_)){if(!X.isUndefined(h))return i(void 0,h)}else return i(void 0,_)}function u(h,_,m){if(m in t)return i(h,_);if(m in e)return i(void 0,h)}const f={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u,headers:(h,_)=>r(ho(h),ho(_),!0)};return X.forEach(Object.keys(e).concat(Object.keys(t)),function(_){const m=f[_]||r,w=m(e[_],t[_],_);X.isUndefined(w)&&m!==u||(n[_]=w)}),n}const $a="1.2.0",ms={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ms[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const _o={};ms.transitional=function(t,n,i){function r(o,a){return"[Axios v"+$a+"] Transitional option '"+o+"'"+a+(i?". "+i:"")}return(o,a,u)=>{if(t===!1)throw new Ne(r(a," has been removed"+(n?" in "+n:"")),Ne.ERR_DEPRECATED);return n&&!_o[a]&&(_o[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,a,u):!0}};function cf(e,t,n){if(typeof e!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const o=i[r],a=t[o];if(a){const u=e[o],f=u===void 0||a(u,o,e);if(f!==!0)throw new Ne("option "+o+" must be "+f,Ne.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ne("Unknown option "+o,Ne.ERR_BAD_OPTION)}}const jr={assertOptions:cf,validators:ms},Wt=jr.validators;class Ni{constructor(t){this.defaults=t,this.interceptors={request:new ao,response:new ao}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ai(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:o}=n;i!==void 0&&jr.assertOptions(i,{silentJSONParsing:Wt.transitional(Wt.boolean),forcedJSONParsing:Wt.transitional(Wt.boolean),clarifyTimeoutError:Wt.transitional(Wt.boolean)},!1),r!==void 0&&jr.assertOptions(r,{encode:Wt.function,serialize:Wt.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a;a=o&&X.merge(o.common,o[n.method]),a&&X.forEach(["delete","get","head","post","put","patch","common"],P=>{delete o[P]}),n.headers=Ft.concat(a,o);const u=[];let f=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(n)===!1||(f=f&&D.synchronous,u.unshift(D.fulfilled,D.rejected))});const h=[];this.interceptors.response.forEach(function(D){h.push(D.fulfilled,D.rejected)});let _,m=0,w;if(!f){const P=[fo.bind(this),void 0];for(P.unshift.apply(P,u),P.push.apply(P,h),w=P.length,_=Promise.resolve(n);m<w;)_=_.then(P[m++],P[m++]);return _}w=u.length;let T=n;for(m=0;m<w;){const P=u[m++],D=u[m++];try{T=P(T)}catch(ne){D.call(this,ne);break}}try{_=fo.call(this,T)}catch(P){return Promise.reject(P)}for(m=0,w=h.length;m<w;)_=_.then(h[m++],h[m++]);return _}getUri(t){t=ai(this.defaults,t);const n=Wa(t.baseURL,t.url);return za(n,t.params,t.paramsSerializer)}}X.forEach(["delete","get","head","options"],function(t){Ni.prototype[t]=function(n,i){return this.request(ai(i||{},{method:t,url:n,data:(i||{}).data}))}});X.forEach(["post","put","patch"],function(t){function n(i){return function(o,a,u){return this.request(ai(u||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Ni.prototype[t]=n(),Ni.prototype[t+"Form"]=n(!0)});const Oi=Ni;class gs{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const i=this;this.promise.then(r=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](r);i._listeners=null}),this.promise.then=r=>{let o;const a=new Promise(u=>{i.subscribe(u),o=u}).then(r);return a.cancel=function(){i.unsubscribe(o)},a},t(function(o,a,u){i.reason||(i.reason=new di(o,a,u),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new gs(function(r){t=r}),cancel:t}}}const df=gs;function ff(e){return function(n){return e.apply(null,n)}}function hf(e){return X.isObject(e)&&e.isAxiosError===!0}function Ja(e){const t=new Oi(e),n=Pa(Oi.prototype.request,t);return X.extend(n,Oi.prototype,t,{allOwnKeys:!0}),X.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return Ja(ai(e,r))},n}const at=Ja(ps);at.Axios=Oi;at.CanceledError=di;at.CancelToken=df;at.isCancel=Ka;at.VERSION=$a;at.toFormData=ir;at.AxiosError=Ne;at.Cancel=at.CanceledError;at.all=function(t){return Promise.all(t)};at.spread=ff;at.isAxiosError=hf;at.AxiosHeaders=Ft;at.formToJSON=e=>qa(X.isHTMLForm(e)?new FormData(e):e);at.default=at;const wn=at;function Fi(e){return Fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fi(e)}function ki(e,t){if(!e.vueAxiosInstalled){var n=Ya(t)?mf(t):t;if(gf(n)){var i=yf(e);if(i){var r=i<3?_f:pf;Object.keys(n).forEach(function(o){r(e,o,n[o])}),e.vueAxiosInstalled=!0}else console.error("[vue-axios] unknown Vue version")}else console.error("[vue-axios] configuration is invalid, expected options are either <axios_instance> or { <registration_key>: <axios_instance> }")}}function _f(e,t,n){Object.defineProperty(e.prototype,t,{get:function(){return n}}),e[t]=n}function pf(e,t,n){e.config.globalProperties[t]=n,e[t]=n}function Ya(e){return e&&typeof e.get=="function"&&typeof e.post=="function"}function mf(e){return{axios:e,$http:e}}function gf(e){return Fi(e)==="object"&&Object.keys(e).every(function(t){return Ya(e[t])})}function yf(e){return e&&e.version&&Number(e.version.split(".")[0])}(typeof Hr>"u"?"undefined":Fi(Hr))=="object"?hl.exports=ki:typeof define=="function"&&define.amd?define([],function(){return ki}):window.Vue&&window.axios&&window.Vue.use&&Vue.use(ki,window.axios);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const En=typeof window<"u";function vf(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const He=Object.assign;function Er(e,t){const n={};for(const i in t){const r=t[i];n[i]=Ot(r)?r.map(e):e(r)}return n}const Jn=()=>{},Ot=Array.isArray,bf=/\/$/,Ef=e=>e.replace(bf,"");function Sr(e,t,n="/"){let i,r={},o="",a="";const u=t.indexOf("#");let f=t.indexOf("?");return u<f&&u>=0&&(f=-1),f>-1&&(i=t.slice(0,f),o=t.slice(f+1,u>-1?u:t.length),r=e(o)),u>-1&&(i=i||t.slice(0,u),a=t.slice(u,t.length)),i=wf(i!=null?i:t,n),{fullPath:i+(o&&"?")+o+a,path:i,query:r,hash:a}}function Sf(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function po(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Af(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&kn(t.matched[i],n.matched[r])&&Xa(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function kn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Xa(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Rf(e[n],t[n]))return!1;return!0}function Rf(e,t){return Ot(e)?mo(e,t):Ot(t)?mo(t,e):e===t}function mo(e,t){return Ot(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function wf(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/");let r=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(o-(o===i.length?1:0)).join("/")}var li;(function(e){e.pop="pop",e.push="push"})(li||(li={}));var Yn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Yn||(Yn={}));function Tf(e){if(!e)if(En){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Ef(e)}const Cf=/^[^#]+#/;function Lf(e,t){return e.replace(Cf,"#")+t}function Of(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const or=()=>({left:window.pageXOffset,top:window.pageYOffset});function kf(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=Of(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function go(e,t){return(history.state?history.state.position-t:-1)+e}const Vr=new Map;function Pf(e,t){Vr.set(e,t)}function Df(e){const t=Vr.get(e);return Vr.delete(e),t}let If=()=>location.protocol+"//"+location.host;function Qa(e,t){const{pathname:n,search:i,hash:r}=t,o=e.indexOf("#");if(o>-1){let u=r.includes(e.slice(o))?e.slice(o).length:1,f=r.slice(u);return f[0]!=="/"&&(f="/"+f),po(f,"")}return po(n,e)+i+r}function Bf(e,t,n,i){let r=[],o=[],a=null;const u=({state:w})=>{const T=Qa(e,location),P=n.value,D=t.value;let ne=0;if(w){if(n.value=T,t.value=w,a&&a===P){a=null;return}ne=D?w.position-D.position:0}else i(T);r.forEach(J=>{J(n.value,P,{delta:ne,type:li.pop,direction:ne?ne>0?Yn.forward:Yn.back:Yn.unknown})})};function f(){a=n.value}function h(w){r.push(w);const T=()=>{const P=r.indexOf(w);P>-1&&r.splice(P,1)};return o.push(T),T}function _(){const{history:w}=window;!w.state||w.replaceState(He({},w.state,{scroll:or()}),"")}function m(){for(const w of o)w();o=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",_)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",_),{pauseListeners:f,listen:h,destroy:m}}function yo(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?or():null}}function xf(e){const{history:t,location:n}=window,i={value:Qa(e,n)},r={value:t.state};r.value||o(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(f,h,_){const m=e.indexOf("#"),w=m>-1?(n.host&&document.querySelector("base")?e:e.slice(m))+f:If()+e+f;try{t[_?"replaceState":"pushState"](h,"",w),r.value=h}catch(T){console.error(T),n[_?"replace":"assign"](w)}}function a(f,h){const _=He({},t.state,yo(r.value.back,f,r.value.forward,!0),h,{position:r.value.position});o(f,_,!0),i.value=f}function u(f,h){const _=He({},r.value,t.state,{forward:f,scroll:or()});o(_.current,_,!0);const m=He({},yo(i.value,f,null),{position:_.position+1},h);o(f,m,!1),i.value=f}return{location:i,state:r,push:u,replace:a}}function Mf(e){e=Tf(e);const t=xf(e),n=Bf(e,t.state,t.location,t.replace);function i(o,a=!0){a||n.pauseListeners(),history.go(o)}const r=He({location:"",base:e,go:i,createHref:Lf.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Uf(e){return typeof e=="string"||e&&typeof e=="object"}function Za(e){return typeof e=="string"||typeof e=="symbol"}const $t={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},el=Symbol("");var vo;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(vo||(vo={}));function Pn(e,t){return He(new Error,{type:e,[el]:!0},t)}function xt(e,t){return e instanceof Error&&el in e&&(t==null||!!(e.type&t))}const bo="[^/]+?",Nf={sensitive:!1,strict:!1,start:!0,end:!0},Ff=/[.+*?^${}()[\]/\\]/g;function jf(e,t){const n=He({},Nf,t),i=[];let r=n.start?"^":"";const o=[];for(const h of e){const _=h.length?[]:[90];n.strict&&!h.length&&(r+="/");for(let m=0;m<h.length;m++){const w=h[m];let T=40+(n.sensitive?.25:0);if(w.type===0)m||(r+="/"),r+=w.value.replace(Ff,"\\$&"),T+=40;else if(w.type===1){const{value:P,repeatable:D,optional:ne,regexp:J}=w;o.push({name:P,repeatable:D,optional:ne});const Z=J||bo;if(Z!==bo){T+=10;try{new RegExp(`(${Z})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${P}" (${Z}): `+C.message)}}let ee=D?`((?:${Z})(?:/(?:${Z}))*)`:`(${Z})`;m||(ee=ne&&h.length<2?`(?:/${ee})`:"/"+ee),ne&&(ee+="?"),r+=ee,T+=20,ne&&(T+=-8),D&&(T+=-20),Z===".*"&&(T+=-50)}_.push(T)}i.push(_)}if(n.strict&&n.end){const h=i.length-1;i[h][i[h].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const a=new RegExp(r,n.sensitive?"":"i");function u(h){const _=h.match(a),m={};if(!_)return null;for(let w=1;w<_.length;w++){const T=_[w]||"",P=o[w-1];m[P.name]=T&&P.repeatable?T.split("/"):T}return m}function f(h){let _="",m=!1;for(const w of e){(!m||!_.endsWith("/"))&&(_+="/"),m=!1;for(const T of w)if(T.type===0)_+=T.value;else if(T.type===1){const{value:P,repeatable:D,optional:ne}=T,J=P in h?h[P]:"";if(Ot(J)&&!D)throw new Error(`Provided param "${P}" is an array but it is not repeatable (* or + modifiers)`);const Z=Ot(J)?J.join("/"):J;if(!Z)if(ne)w.length<2&&(_.endsWith("/")?_=_.slice(0,-1):m=!0);else throw new Error(`Missing required param "${P}"`);_+=Z}}return _||"/"}return{re:a,score:i,keys:o,parse:u,stringify:f}}function Vf(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Gf(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const o=Vf(i[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-i.length)===1){if(Eo(i))return 1;if(Eo(r))return-1}return r.length-i.length}function Eo(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const zf={type:0,value:""},Hf=/[a-zA-Z0-9_]/;function qf(e){if(!e)return[[]];if(e==="/")return[[zf]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(T){throw new Error(`ERR (${n})/"${h}": ${T}`)}let n=0,i=n;const r=[];let o;function a(){o&&r.push(o),o=[]}let u=0,f,h="",_="";function m(){!h||(n===0?o.push({type:0,value:h}):n===1||n===2||n===3?(o.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:h,regexp:_,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),h="")}function w(){h+=f}for(;u<e.length;){if(f=e[u++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(h&&m(),a()):f===":"?(m(),n=1):w();break;case 4:w(),n=i;break;case 1:f==="("?n=2:Hf.test(f)?w():(m(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&u--);break;case 2:f===")"?_[_.length-1]=="\\"?_=_.slice(0,-1)+f:n=3:_+=f;break;case 3:m(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&u--,_="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),m(),a(),r}function Kf(e,t,n){const i=jf(qf(e.path),n),r=He(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Wf(e,t){const n=[],i=new Map;t=Ro({strict:!1,end:!0,sensitive:!1},t);function r(_){return i.get(_)}function o(_,m,w){const T=!w,P=$f(_);P.aliasOf=w&&w.record;const D=Ro(t,_),ne=[P];if("alias"in _){const ee=typeof _.alias=="string"?[_.alias]:_.alias;for(const C of ee)ne.push(He({},P,{components:w?w.record.components:P.components,path:C,aliasOf:w?w.record:P}))}let J,Z;for(const ee of ne){const{path:C}=ee;if(m&&C[0]!=="/"){const Y=m.record.path,I=Y[Y.length-1]==="/"?"":"/";ee.path=m.record.path+(C&&I+C)}if(J=Kf(ee,m,D),w?w.alias.push(J):(Z=Z||J,Z!==J&&Z.alias.push(J),T&&_.name&&!Ao(J)&&a(_.name)),P.children){const Y=P.children;for(let I=0;I<Y.length;I++)o(Y[I],J,w&&w.children[I])}w=w||J,(J.record.components&&Object.keys(J.record.components).length||J.record.name||J.record.redirect)&&f(J)}return Z?()=>{a(Z)}:Jn}function a(_){if(Za(_)){const m=i.get(_);m&&(i.delete(_),n.splice(n.indexOf(m),1),m.children.forEach(a),m.alias.forEach(a))}else{const m=n.indexOf(_);m>-1&&(n.splice(m,1),_.record.name&&i.delete(_.record.name),_.children.forEach(a),_.alias.forEach(a))}}function u(){return n}function f(_){let m=0;for(;m<n.length&&Gf(_,n[m])>=0&&(_.record.path!==n[m].record.path||!tl(_,n[m]));)m++;n.splice(m,0,_),_.record.name&&!Ao(_)&&i.set(_.record.name,_)}function h(_,m){let w,T={},P,D;if("name"in _&&_.name){if(w=i.get(_.name),!w)throw Pn(1,{location:_});D=w.record.name,T=He(So(m.params,w.keys.filter(Z=>!Z.optional).map(Z=>Z.name)),_.params&&So(_.params,w.keys.map(Z=>Z.name))),P=w.stringify(T)}else if("path"in _)P=_.path,w=n.find(Z=>Z.re.test(P)),w&&(T=w.parse(P),D=w.record.name);else{if(w=m.name?i.get(m.name):n.find(Z=>Z.re.test(m.path)),!w)throw Pn(1,{location:_,currentLocation:m});D=w.record.name,T=He({},m.params,_.params),P=w.stringify(T)}const ne=[];let J=w;for(;J;)ne.unshift(J.record),J=J.parent;return{name:D,path:P,params:T,matched:ne,meta:Yf(ne)}}return e.forEach(_=>o(_)),{addRoute:o,resolve:h,removeRoute:a,getRoutes:u,getRecordMatcher:r}}function So(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function $f(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Jf(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Jf(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="boolean"?n:n[i];return t}function Ao(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Yf(e){return e.reduce((t,n)=>He(t,n.meta),{})}function Ro(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function tl(e,t){return t.children.some(n=>n===e||tl(e,n))}const nl=/#/g,Xf=/&/g,Qf=/\//g,Zf=/=/g,eh=/\?/g,il=/\+/g,th=/%5B/g,nh=/%5D/g,rl=/%5E/g,ih=/%60/g,sl=/%7B/g,rh=/%7C/g,ol=/%7D/g,sh=/%20/g;function ys(e){return encodeURI(""+e).replace(rh,"|").replace(th,"[").replace(nh,"]")}function oh(e){return ys(e).replace(sl,"{").replace(ol,"}").replace(rl,"^")}function Gr(e){return ys(e).replace(il,"%2B").replace(sh,"+").replace(nl,"%23").replace(Xf,"%26").replace(ih,"`").replace(sl,"{").replace(ol,"}").replace(rl,"^")}function ah(e){return Gr(e).replace(Zf,"%3D")}function lh(e){return ys(e).replace(nl,"%23").replace(eh,"%3F")}function uh(e){return e==null?"":lh(e).replace(Qf,"%2F")}function ji(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function ch(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const o=i[r].replace(il," "),a=o.indexOf("="),u=ji(a<0?o:o.slice(0,a)),f=a<0?null:ji(o.slice(a+1));if(u in t){let h=t[u];Ot(h)||(h=t[u]=[h]),h.push(f)}else t[u]=f}return t}function wo(e){let t="";for(let n in e){const i=e[n];if(n=ah(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ot(i)?i.map(o=>o&&Gr(o)):[i&&Gr(i)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function dh(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Ot(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const fh=Symbol(""),To=Symbol(""),ar=Symbol(""),al=Symbol(""),zr=Symbol("");function Gn(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Xt(e,t,n,i,r){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((a,u)=>{const f=m=>{m===!1?u(Pn(4,{from:n,to:t})):m instanceof Error?u(m):Uf(m)?u(Pn(2,{from:t,to:m})):(o&&i.enterCallbacks[r]===o&&typeof m=="function"&&o.push(m),a())},h=e.call(i&&i.instances[r],t,n,f);let _=Promise.resolve(h);e.length<3&&(_=_.then(f)),_.catch(m=>u(m))})}function Ar(e,t,n,i){const r=[];for(const o of e)for(const a in o.components){let u=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(hh(u)){const h=(u.__vccOpts||u)[t];h&&r.push(Xt(h,n,i,o,a))}else{let f=u();r.push(()=>f.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const _=vf(h)?h.default:h;o.components[a]=_;const w=(_.__vccOpts||_)[t];return w&&Xt(w,n,i,o,a)()}))}}return r}function hh(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Co(e){const t=Lt(ar),n=Lt(al),i=vt(()=>t.resolve(tn(e.to))),r=vt(()=>{const{matched:f}=i.value,{length:h}=f,_=f[h-1],m=n.matched;if(!_||!m.length)return-1;const w=m.findIndex(kn.bind(null,_));if(w>-1)return w;const T=Lo(f[h-2]);return h>1&&Lo(_)===T&&m[m.length-1].path!==T?m.findIndex(kn.bind(null,f[h-2])):w}),o=vt(()=>r.value>-1&&gh(n.params,i.value.params)),a=vt(()=>r.value>-1&&r.value===n.matched.length-1&&Xa(n.params,i.value.params));function u(f={}){return mh(f)?t[tn(e.replace)?"replace":"push"](tn(e.to)).catch(Jn):Promise.resolve()}return{route:i,href:vt(()=>i.value.href),isActive:o,isExactActive:a,navigate:u}}const _h=gn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Co,setup(e,{slots:t}){const n=xn(Co(e)),{options:i}=Lt(ar),r=vt(()=>({[Oo(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Oo(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:wa("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),ph=_h;function mh(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function gh(e,t){for(const n in t){const i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!Ot(r)||r.length!==i.length||i.some((o,a)=>o!==r[a]))return!1}return!0}function Lo(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Oo=(e,t,n)=>e!=null?e:t!=null?t:n,yh=gn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=Lt(zr),r=vt(()=>e.route||i.value),o=Lt(To,0),a=vt(()=>{let h=tn(o);const{matched:_}=r.value;let m;for(;(m=_[h])&&!m.components;)h++;return h}),u=vt(()=>r.value.matched[a.value]);Ai(To,vt(()=>a.value+1)),Ai(fh,u),Ai(zr,r);const f=it();return qn(()=>[f.value,u.value,e.name],([h,_,m],[w,T,P])=>{_&&(_.instances[m]=h,T&&T!==_&&h&&h===w&&(_.leaveGuards.size||(_.leaveGuards=T.leaveGuards),_.updateGuards.size||(_.updateGuards=T.updateGuards))),h&&_&&(!T||!kn(_,T)||!w)&&(_.enterCallbacks[m]||[]).forEach(D=>D(h))},{flush:"post"}),()=>{const h=r.value,_=e.name,m=u.value,w=m&&m.components[_];if(!w)return ko(n.default,{Component:w,route:h});const T=m.props[_],P=T?T===!0?h.params:typeof T=="function"?T(h):T:null,ne=wa(w,He({},P,t,{onVnodeUnmounted:J=>{J.component.isUnmounted&&(m.instances[_]=null)},ref:f}));return ko(n.default,{Component:ne,route:h})||ne}}});function ko(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const ll=yh;function vh(e){const t=Wf(e.routes,e),n=e.parseQuery||ch,i=e.stringifyQuery||wo,r=e.history,o=Gn(),a=Gn(),u=Gn(),f=su($t);let h=$t;En&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const _=Er.bind(null,$=>""+$),m=Er.bind(null,uh),w=Er.bind(null,ji);function T($,te){let B,z;return Za($)?(B=t.getRecordMatcher($),z=te):z=$,t.addRoute(z,B)}function P($){const te=t.getRecordMatcher($);te&&t.removeRoute(te)}function D(){return t.getRoutes().map($=>$.record)}function ne($){return!!t.getRecordMatcher($)}function J($,te){if(te=He({},te||f.value),typeof $=="string"){const S=Sr(n,$,te.path),k=t.resolve({path:S.path},te),G=r.createHref(S.fullPath);return He(S,k,{params:w(k.params),hash:ji(S.hash),redirectedFrom:void 0,href:G})}let B;if("path"in $)B=He({},$,{path:Sr(n,$.path,te.path).path});else{const S=He({},$.params);for(const k in S)S[k]==null&&delete S[k];B=He({},$,{params:m($.params)}),te.params=m(te.params)}const z=t.resolve(B,te),re=$.hash||"";z.params=_(w(z.params));const me=Sf(i,He({},$,{hash:oh(re),path:z.path})),se=r.createHref(me);return He({fullPath:me,hash:re,query:i===wo?dh($.query):$.query||{}},z,{redirectedFrom:void 0,href:se})}function Z($){return typeof $=="string"?Sr(n,$,f.value.path):He({},$)}function ee($,te){if(h!==$)return Pn(8,{from:te,to:$})}function C($){return E($)}function Y($){return C(He(Z($),{replace:!0}))}function I($){const te=$.matched[$.matched.length-1];if(te&&te.redirect){const{redirect:B}=te;let z=typeof B=="function"?B($):B;return typeof z=="string"&&(z=z.includes("?")||z.includes("#")?z=Z(z):{path:z},z.params={}),He({query:$.query,hash:$.hash,params:"path"in z?{}:$.params},z)}}function E($,te){const B=h=J($),z=f.value,re=$.state,me=$.force,se=$.replace===!0,S=I(B);if(S)return E(He(Z(S),{state:typeof S=="object"?He({},re,S.state):re,force:me,replace:se}),te||B);const k=B;k.redirectedFrom=te;let G;return!me&&Af(i,z,B)&&(G=Pn(16,{to:k,from:z}),U(z,z,!0,!1)),(G?Promise.resolve(G):R(k,z)).catch(q=>xt(q)?xt(q,2)?q:L(q):x(q,k,z)).then(q=>{if(q){if(xt(q,2))return E(He({replace:se},Z(q.to),{state:typeof q.to=="object"?He({},re,q.to.state):re,force:me}),te||k)}else q=M(k,z,!0,se,re);return O(k,z,q),q})}function b($,te){const B=ee($,te);return B?Promise.reject(B):Promise.resolve()}function R($,te){let B;const[z,re,me]=bh($,te);B=Ar(z.reverse(),"beforeRouteLeave",$,te);for(const S of z)S.leaveGuards.forEach(k=>{B.push(Xt(k,$,te))});const se=b.bind(null,$,te);return B.push(se),bn(B).then(()=>{B=[];for(const S of o.list())B.push(Xt(S,$,te));return B.push(se),bn(B)}).then(()=>{B=Ar(re,"beforeRouteUpdate",$,te);for(const S of re)S.updateGuards.forEach(k=>{B.push(Xt(k,$,te))});return B.push(se),bn(B)}).then(()=>{B=[];for(const S of $.matched)if(S.beforeEnter&&!te.matched.includes(S))if(Ot(S.beforeEnter))for(const k of S.beforeEnter)B.push(Xt(k,$,te));else B.push(Xt(S.beforeEnter,$,te));return B.push(se),bn(B)}).then(()=>($.matched.forEach(S=>S.enterCallbacks={}),B=Ar(me,"beforeRouteEnter",$,te),B.push(se),bn(B))).then(()=>{B=[];for(const S of a.list())B.push(Xt(S,$,te));return B.push(se),bn(B)}).catch(S=>xt(S,8)?S:Promise.reject(S))}function O($,te,B){for(const z of u.list())z($,te,B)}function M($,te,B,z,re){const me=ee($,te);if(me)return me;const se=te===$t,S=En?history.state:{};B&&(z||se?r.replace($.fullPath,He({scroll:se&&S&&S.scroll},re)):r.push($.fullPath,re)),f.value=$,U($,te,B,se),L()}let N;function ce(){N||(N=r.listen(($,te,B)=>{if(!Xe.listening)return;const z=J($),re=I(z);if(re){E(He(re,{replace:!0}),z).catch(Jn);return}h=z;const me=f.value;En&&Pf(go(me.fullPath,B.delta),or()),R(z,me).catch(se=>xt(se,12)?se:xt(se,2)?(E(se.to,z).then(S=>{xt(S,20)&&!B.delta&&B.type===li.pop&&r.go(-1,!1)}).catch(Jn),Promise.reject()):(B.delta&&r.go(-B.delta,!1),x(se,z,me))).then(se=>{se=se||M(z,me,!1),se&&(B.delta&&!xt(se,8)?r.go(-B.delta,!1):B.type===li.pop&&xt(se,20)&&r.go(-1,!1)),O(z,me,se)}).catch(Jn)}))}let ye=Gn(),Re=Gn(),we;function x($,te,B){L($);const z=Re.list();return z.length?z.forEach(re=>re($,te,B)):console.error($),Promise.reject($)}function v(){return we&&f.value!==$t?Promise.resolve():new Promise(($,te)=>{ye.add([$,te])})}function L($){return we||(we=!$,ce(),ye.list().forEach(([te,B])=>$?B($):te()),ye.reset()),$}function U($,te,B,z){const{scrollBehavior:re}=e;if(!En||!re)return Promise.resolve();const me=!B&&Df(go($.fullPath,0))||(z||!B)&&history.state&&history.state.scroll||null;return ss().then(()=>re($,te,me)).then(se=>se&&kf(se)).catch(se=>x(se,$,te))}const he=$=>r.go($);let Ee;const Be=new Set,Xe={currentRoute:f,listening:!0,addRoute:T,removeRoute:P,hasRoute:ne,getRoutes:D,resolve:J,options:e,push:C,replace:Y,go:he,back:()=>he(-1),forward:()=>he(1),beforeEach:o.add,beforeResolve:a.add,afterEach:u.add,onError:Re.add,isReady:v,install($){const te=this;$.component("RouterLink",ph),$.component("RouterView",ll),$.config.globalProperties.$router=te,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>tn(f)}),En&&!Ee&&f.value===$t&&(Ee=!0,C(r.location).catch(re=>{}));const B={};for(const re in $t)B[re]=vt(()=>f.value[re]);$.provide(ar,te),$.provide(al,xn(B)),$.provide(zr,f);const z=$.unmount;Be.add($),$.unmount=function(){Be.delete($),Be.size<1&&(h=$t,N&&N(),N=null,f.value=$t,Ee=!1,we=!1),z()}}};return Xe}function bn(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function bh(e,t){const n=[],i=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let a=0;a<o;a++){const u=t.matched[a];u&&(e.matched.find(h=>kn(h,u))?i.push(u):n.push(u));const f=e.matched[a];f&&(t.matched.find(h=>kn(h,f))||r.push(f))}return[n,i,r]}function Eh(){return Lt(ar)}const Sh=gn({__name:"App",setup(e){return(t,n)=>(Ut(),ac(tn(ll)))}}),fi=ed("user",()=>{const e=it(""),t=it(0);return{username:e,roomId:t}}),Ah=gn({__name:"GlobalView",setup(e){const t=fi();return(n,i)=>{const r=ju("router-view");return Ut(),Qt(_t,null,[xe("h1",null,"\u5F53\u524D\u623F\u95F4\u53F7\u4E3A"+Hn(tn(t).$state.roomId),1),Et(r)],64)}}}),ul=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},Rh=ul(Ah,[["__scopeId","data-v-5a1b5fe1"]]);var cl={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(window,function(){return function(n){var i={};function r(o){if(i[o])return i[o].exports;var a=i[o]={i:o,l:!1,exports:{}};return n[o].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=n,r.c=i,r.d=function(o,a,u){r.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:u})},r.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},r.t=function(o,a){if(1&a&&(o=r(o)),8&a||4&a&&typeof o=="object"&&o&&o.__esModule)return o;var u=Object.create(null);if(r.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:o}),2&a&&typeof o!="string")for(var f in o)r.d(u,f,function(h){return o[h]}.bind(null,f));return u},r.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(a,"a",a),a},r.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},r.p="",r(r.s=14)}([function(n,i,r){var o=r(6),a=r.n(o),u=function(){function f(){}return f.e=function(h,_){h&&!f.FORCE_GLOBAL_TAG||(h=f.GLOBAL_TAG);var m="["+h+"] > "+_;f.ENABLE_CALLBACK&&f.emitter.emit("log","error",m),f.ENABLE_ERROR&&(console.error?console.error(m):console.warn?console.warn(m):console.log(m))},f.i=function(h,_){h&&!f.FORCE_GLOBAL_TAG||(h=f.GLOBAL_TAG);var m="["+h+"] > "+_;f.ENABLE_CALLBACK&&f.emitter.emit("log","info",m),f.ENABLE_INFO&&(console.info?console.info(m):console.log(m))},f.w=function(h,_){h&&!f.FORCE_GLOBAL_TAG||(h=f.GLOBAL_TAG);var m="["+h+"] > "+_;f.ENABLE_CALLBACK&&f.emitter.emit("log","warn",m),f.ENABLE_WARN&&(console.warn?console.warn(m):console.log(m))},f.d=function(h,_){h&&!f.FORCE_GLOBAL_TAG||(h=f.GLOBAL_TAG);var m="["+h+"] > "+_;f.ENABLE_CALLBACK&&f.emitter.emit("log","debug",m),f.ENABLE_DEBUG&&(console.debug?console.debug(m):console.log(m))},f.v=function(h,_){h&&!f.FORCE_GLOBAL_TAG||(h=f.GLOBAL_TAG);var m="["+h+"] > "+_;f.ENABLE_CALLBACK&&f.emitter.emit("log","verbose",m),f.ENABLE_VERBOSE&&console.log(m)},f}();u.GLOBAL_TAG="mpegts.js",u.FORCE_GLOBAL_TAG=!1,u.ENABLE_ERROR=!0,u.ENABLE_INFO=!0,u.ENABLE_WARN=!0,u.ENABLE_DEBUG=!0,u.ENABLE_VERBOSE=!0,u.ENABLE_CALLBACK=!1,u.emitter=new a.a,i.a=u},function(n,i,r){i.a={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",TIMED_ID3_METADATA_ARRIVED:"timed_id3_metadata_arrived",SCTE35_METADATA_ARRIVED:"scte35_metadata_arrived",PES_PRIVATE_DATA_DESCRIPTOR:"pes_private_data_descriptor",PES_PRIVATE_DATA_ARRIVED:"pes_private_data_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"}},function(n,i,r){r.d(i,"c",function(){return a}),r.d(i,"b",function(){return u}),r.d(i,"a",function(){return f});var o=r(3),a={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},u={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},f=function(){function h(_){this._type=_||"undefined",this._status=a.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return h.prototype.destroy=function(){this._status=a.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},h.prototype.isWorking=function(){return this._status===a.kConnecting||this._status===a.kBuffering},Object.defineProperty(h.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(_){this._onContentLengthKnown=_},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(_){this._onURLRedirect=_},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(_){this._onDataArrival=_},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onError",{get:function(){return this._onError},set:function(_){this._onError=_},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onComplete",{get:function(){return this._onComplete},set:function(_){this._onComplete=_},enumerable:!1,configurable:!0}),h.prototype.open=function(_,m){throw new o.c("Unimplemented abstract function!")},h.prototype.abort=function(){throw new o.c("Unimplemented abstract function!")},h}()},function(n,i,r){r.d(i,"d",function(){return u}),r.d(i,"a",function(){return f}),r.d(i,"b",function(){return h}),r.d(i,"c",function(){return _});var o,a=(o=function(m,w){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,P){T.__proto__=P}||function(T,P){for(var D in P)P.hasOwnProperty(D)&&(T[D]=P[D])})(m,w)},function(m,w){function T(){this.constructor=m}o(m,w),m.prototype=w===null?Object.create(w):(T.prototype=w.prototype,new T)}),u=function(){function m(w){this._message=w}return Object.defineProperty(m.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),m.prototype.toString=function(){return this.name+": "+this.message},m}(),f=function(m){function w(T){return m.call(this,T)||this}return a(w,m),Object.defineProperty(w.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),w}(u),h=function(m){function w(T){return m.call(this,T)||this}return a(w,m),Object.defineProperty(w.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),w}(u),_=function(m){function w(T){return m.call(this,T)||this}return a(w,m),Object.defineProperty(w.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),w}(u)},function(n,i,r){var o={};(function(){var a=self.navigator.userAgent.toLowerCase(),u=/(edge)\/([\w.]+)/.exec(a)||/(opr)[\/]([\w.]+)/.exec(a)||/(chrome)[ \/]([\w.]+)/.exec(a)||/(iemobile)[\/]([\w.]+)/.exec(a)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(a)||[],f=/(ipad)/.exec(a)||/(ipod)/.exec(a)||/(windows phone)/.exec(a)||/(iphone)/.exec(a)||/(kindle)/.exec(a)||/(android)/.exec(a)||/(windows)/.exec(a)||/(mac)/.exec(a)||/(linux)/.exec(a)||/(cros)/.exec(a)||[],h={browser:u[5]||u[3]||u[1]||"",version:u[2]||u[4]||"0",majorVersion:u[4]||u[2]||"0",platform:f[0]||""},_={};if(h.browser){_[h.browser]=!0;var m=h.majorVersion.split(".");_.version={major:parseInt(h.majorVersion,10),string:h.version},m.length>1&&(_.version.minor=parseInt(m[1],10)),m.length>2&&(_.version.build=parseInt(m[2],10))}h.platform&&(_[h.platform]=!0),(_.chrome||_.opr||_.safari)&&(_.webkit=!0),(_.rv||_.iemobile)&&(_.rv&&delete _.rv,h.browser="msie",_.msie=!0),_.edge&&(delete _.edge,h.browser="msedge",_.msedge=!0),_.opr&&(h.browser="opera",_.opera=!0),_.safari&&_.android&&(h.browser="android",_.android=!0);for(var w in _.name=h.browser,_.platform=h.platform,o)o.hasOwnProperty(w)&&delete o[w];Object.assign(o,_)})(),i.a=o},function(n,i,r){i.a={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"}},function(n,i,r){var o,a=typeof Reflect=="object"?Reflect:null,u=a&&typeof a.apply=="function"?a.apply:function(C,Y,I){return Function.prototype.apply.call(C,Y,I)};o=a&&typeof a.ownKeys=="function"?a.ownKeys:Object.getOwnPropertySymbols?function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:function(C){return Object.getOwnPropertyNames(C)};var f=Number.isNaN||function(C){return C!=C};function h(){h.init.call(this)}n.exports=h,n.exports.once=function(C,Y){return new Promise(function(I,E){function b(O){C.removeListener(Y,R),E(O)}function R(){typeof C.removeListener=="function"&&C.removeListener("error",b),I([].slice.call(arguments))}ee(C,Y,R,{once:!0}),Y!=="error"&&function(O,M,N){typeof O.on=="function"&&ee(O,"error",M,N)}(C,b,{once:!0})})},h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var _=10;function m(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}function w(C){return C._maxListeners===void 0?h.defaultMaxListeners:C._maxListeners}function T(C,Y,I,E){var b,R,O,M;if(m(I),(R=C._events)===void 0?(R=C._events=Object.create(null),C._eventsCount=0):(R.newListener!==void 0&&(C.emit("newListener",Y,I.listener?I.listener:I),R=C._events),O=R[Y]),O===void 0)O=R[Y]=I,++C._eventsCount;else if(typeof O=="function"?O=R[Y]=E?[I,O]:[O,I]:E?O.unshift(I):O.push(I),(b=w(C))>0&&O.length>b&&!O.warned){O.warned=!0;var N=new Error("Possible EventEmitter memory leak detected. "+O.length+" "+String(Y)+" listeners added. Use emitter.setMaxListeners() to increase limit");N.name="MaxListenersExceededWarning",N.emitter=C,N.type=Y,N.count=O.length,M=N,console&&console.warn&&console.warn(M)}return C}function P(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function D(C,Y,I){var E={fired:!1,wrapFn:void 0,target:C,type:Y,listener:I},b=P.bind(E);return b.listener=I,E.wrapFn=b,b}function ne(C,Y,I){var E=C._events;if(E===void 0)return[];var b=E[Y];return b===void 0?[]:typeof b=="function"?I?[b.listener||b]:[b]:I?function(R){for(var O=new Array(R.length),M=0;M<O.length;++M)O[M]=R[M].listener||R[M];return O}(b):Z(b,b.length)}function J(C){var Y=this._events;if(Y!==void 0){var I=Y[C];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}function Z(C,Y){for(var I=new Array(Y),E=0;E<Y;++E)I[E]=C[E];return I}function ee(C,Y,I,E){if(typeof C.on=="function")E.once?C.once(Y,I):C.on(Y,I);else{if(typeof C.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C);C.addEventListener(Y,function b(R){E.once&&C.removeEventListener(Y,b),I(R)})}}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return _},set:function(C){if(typeof C!="number"||C<0||f(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");_=C}}),h.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||f(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this},h.prototype.getMaxListeners=function(){return w(this)},h.prototype.emit=function(C){for(var Y=[],I=1;I<arguments.length;I++)Y.push(arguments[I]);var E=C==="error",b=this._events;if(b!==void 0)E=E&&b.error===void 0;else if(!E)return!1;if(E){var R;if(Y.length>0&&(R=Y[0]),R instanceof Error)throw R;var O=new Error("Unhandled error."+(R?" ("+R.message+")":""));throw O.context=R,O}var M=b[C];if(M===void 0)return!1;if(typeof M=="function")u(M,this,Y);else{var N=M.length,ce=Z(M,N);for(I=0;I<N;++I)u(ce[I],this,Y)}return!0},h.prototype.addListener=function(C,Y){return T(this,C,Y,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(C,Y){return T(this,C,Y,!0)},h.prototype.once=function(C,Y){return m(Y),this.on(C,D(this,C,Y)),this},h.prototype.prependOnceListener=function(C,Y){return m(Y),this.prependListener(C,D(this,C,Y)),this},h.prototype.removeListener=function(C,Y){var I,E,b,R,O;if(m(Y),(E=this._events)===void 0)return this;if((I=E[C])===void 0)return this;if(I===Y||I.listener===Y)--this._eventsCount==0?this._events=Object.create(null):(delete E[C],E.removeListener&&this.emit("removeListener",C,I.listener||Y));else if(typeof I!="function"){for(b=-1,R=I.length-1;R>=0;R--)if(I[R]===Y||I[R].listener===Y){O=I[R].listener,b=R;break}if(b<0)return this;b===0?I.shift():function(M,N){for(;N+1<M.length;N++)M[N]=M[N+1];M.pop()}(I,b),I.length===1&&(E[C]=I[0]),E.removeListener!==void 0&&this.emit("removeListener",C,O||Y)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(C){var Y,I,E;if((I=this._events)===void 0)return this;if(I.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):I[C]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete I[C]),this;if(arguments.length===0){var b,R=Object.keys(I);for(E=0;E<R.length;++E)(b=R[E])!=="removeListener"&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(Y=I[C])=="function")this.removeListener(C,Y);else if(Y!==void 0)for(E=Y.length-1;E>=0;E--)this.removeListener(C,Y[E]);return this},h.prototype.listeners=function(C){return ne(this,C,!0)},h.prototype.rawListeners=function(C){return ne(this,C,!1)},h.listenerCount=function(C,Y){return typeof C.listenerCount=="function"?C.listenerCount(Y):J.call(C,Y)},h.prototype.listenerCount=J,h.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]}},function(n,i,r){r.d(i,"d",function(){return o}),r.d(i,"b",function(){return a}),r.d(i,"a",function(){return u}),r.d(i,"c",function(){return f});var o=function(h,_,m,w,T){this.dts=h,this.pts=_,this.duration=m,this.originalDts=w,this.isSyncPoint=T,this.fileposition=null},a=function(){function h(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return h.prototype.appendSyncPoint=function(_){_.isSyncPoint=!0,this.syncPoints.push(_)},h}(),u=function(){function h(){this._list=[]}return h.prototype.clear=function(){this._list=[]},h.prototype.appendArray=function(_){var m=this._list;_.length!==0&&(m.length>0&&_[0].originalDts<m[m.length-1].originalDts&&this.clear(),Array.prototype.push.apply(m,_))},h.prototype.getLastSyncPointBeforeDts=function(_){if(this._list.length==0)return null;var m=this._list,w=0,T=m.length-1,P=0,D=0,ne=T;for(_<m[0].dts&&(w=0,D=ne+1);D<=ne;){if((P=D+Math.floor((ne-D)/2))===T||_>=m[P].dts&&_<m[P+1].dts){w=P;break}m[P].dts<_?D=P+1:ne=P-1}return this._list[w]},h}(),f=function(){function h(_){this._type=_,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(h.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),h.prototype.isEmpty=function(){return this._list.length===0},h.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},h.prototype._searchNearestSegmentBefore=function(_){var m=this._list;if(m.length===0)return-2;var w=m.length-1,T=0,P=0,D=w,ne=0;if(_<m[0].originalBeginDts)return ne=-1;for(;P<=D;){if((T=P+Math.floor((D-P)/2))===w||_>m[T].lastSample.originalDts&&_<m[T+1].originalBeginDts){ne=T;break}m[T].originalBeginDts<_?P=T+1:D=T-1}return ne},h.prototype._searchNearestSegmentAfter=function(_){return this._searchNearestSegmentBefore(_)+1},h.prototype.append=function(_){var m=this._list,w=_,T=this._lastAppendLocation,P=0;T!==-1&&T<m.length&&w.originalBeginDts>=m[T].lastSample.originalDts&&(T===m.length-1||T<m.length-1&&w.originalBeginDts<m[T+1].originalBeginDts)?P=T+1:m.length>0&&(P=this._searchNearestSegmentBefore(w.originalBeginDts)+1),this._lastAppendLocation=P,this._list.splice(P,0,w)},h.prototype.getLastSegmentBefore=function(_){var m=this._searchNearestSegmentBefore(_);return m>=0?this._list[m]:null},h.prototype.getLastSampleBefore=function(_){var m=this.getLastSegmentBefore(_);return m!=null?m.lastSample:null},h.prototype.getLastSyncPointBefore=function(_){for(var m=this._searchNearestSegmentBefore(_),w=this._list[m].syncPoints;w.length===0&&m>0;)m--,w=this._list[m].syncPoints;return w.length>0?w[w.length-1]:null},h}()},function(n,i,r){var o=function(){function a(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return a.prototype.isComplete=function(){var u=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,f=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&u&&f},a.prototype.isSeekable=function(){return this.hasKeyframesIndex===!0},a.prototype.getNearestKeyframe=function(u){if(this.keyframesIndex==null)return null;var f=this.keyframesIndex,h=this._search(f.times,u);return{index:h,milliseconds:f.times[h],fileposition:f.filepositions[h]}},a.prototype._search=function(u,f){var h=0,_=u.length-1,m=0,w=0,T=_;for(f<u[0]&&(h=0,w=T+1);w<=T;){if((m=w+Math.floor((T-w)/2))===_||f>=u[m]&&f<u[m+1]){h=m;break}u[m]<f?w=m+1:T=m-1}return h},a}();i.a=o},function(n,i,r){var o=r(6),a=r.n(o),u=r(0),f=function(){function h(){}return Object.defineProperty(h,"forceGlobalTag",{get:function(){return u.a.FORCE_GLOBAL_TAG},set:function(_){u.a.FORCE_GLOBAL_TAG=_,h._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(h,"globalTag",{get:function(){return u.a.GLOBAL_TAG},set:function(_){u.a.GLOBAL_TAG=_,h._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(h,"enableAll",{get:function(){return u.a.ENABLE_VERBOSE&&u.a.ENABLE_DEBUG&&u.a.ENABLE_INFO&&u.a.ENABLE_WARN&&u.a.ENABLE_ERROR},set:function(_){u.a.ENABLE_VERBOSE=_,u.a.ENABLE_DEBUG=_,u.a.ENABLE_INFO=_,u.a.ENABLE_WARN=_,u.a.ENABLE_ERROR=_,h._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(h,"enableDebug",{get:function(){return u.a.ENABLE_DEBUG},set:function(_){u.a.ENABLE_DEBUG=_,h._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(h,"enableVerbose",{get:function(){return u.a.ENABLE_VERBOSE},set:function(_){u.a.ENABLE_VERBOSE=_,h._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(h,"enableInfo",{get:function(){return u.a.ENABLE_INFO},set:function(_){u.a.ENABLE_INFO=_,h._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(h,"enableWarn",{get:function(){return u.a.ENABLE_WARN},set:function(_){u.a.ENABLE_WARN=_,h._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(h,"enableError",{get:function(){return u.a.ENABLE_ERROR},set:function(_){u.a.ENABLE_ERROR=_,h._notifyChange()},enumerable:!1,configurable:!0}),h.getConfig=function(){return{globalTag:u.a.GLOBAL_TAG,forceGlobalTag:u.a.FORCE_GLOBAL_TAG,enableVerbose:u.a.ENABLE_VERBOSE,enableDebug:u.a.ENABLE_DEBUG,enableInfo:u.a.ENABLE_INFO,enableWarn:u.a.ENABLE_WARN,enableError:u.a.ENABLE_ERROR,enableCallback:u.a.ENABLE_CALLBACK}},h.applyConfig=function(_){u.a.GLOBAL_TAG=_.globalTag,u.a.FORCE_GLOBAL_TAG=_.forceGlobalTag,u.a.ENABLE_VERBOSE=_.enableVerbose,u.a.ENABLE_DEBUG=_.enableDebug,u.a.ENABLE_INFO=_.enableInfo,u.a.ENABLE_WARN=_.enableWarn,u.a.ENABLE_ERROR=_.enableError,u.a.ENABLE_CALLBACK=_.enableCallback},h._notifyChange=function(){var _=h.emitter;if(_.listenerCount("change")>0){var m=h.getConfig();_.emit("change",m)}},h.registerListener=function(_){h.emitter.addListener("change",_)},h.removeListener=function(_){h.emitter.removeListener("change",_)},h.addLogListener=function(_){u.a.emitter.addListener("log",_),u.a.emitter.listenerCount("log")>0&&(u.a.ENABLE_CALLBACK=!0,h._notifyChange())},h.removeLogListener=function(_){u.a.emitter.removeListener("log",_),u.a.emitter.listenerCount("log")===0&&(u.a.ENABLE_CALLBACK=!1,h._notifyChange())},h}();f.emitter=new a.a,i.a=f},function(n,i,r){var o=r(6),a=r.n(o),u=r(0),f=r(4),h=r(8);function _(d,l,c){var s=d;if(l+c<s.length){for(;c--;)if((192&s[++l])!=128)return!1;return!0}return!1}var m,w=function(d){for(var l=[],c=d,s=0,p=d.length;s<p;)if(c[s]<128)l.push(String.fromCharCode(c[s])),++s;else{if(!(c[s]<192)){if(c[s]<224){if(_(c,s,1)&&(g=(31&c[s])<<6|63&c[s+1])>=128){l.push(String.fromCharCode(65535&g)),s+=2;continue}}else if(c[s]<240){if(_(c,s,2)&&(g=(15&c[s])<<12|(63&c[s+1])<<6|63&c[s+2])>=2048&&(63488&g)!=55296){l.push(String.fromCharCode(65535&g)),s+=3;continue}}else if(c[s]<248){var g;if(_(c,s,3)&&(g=(7&c[s])<<18|(63&c[s+1])<<12|(63&c[s+2])<<6|63&c[s+3])>65536&&g<1114112){g-=65536,l.push(String.fromCharCode(g>>>10|55296)),l.push(String.fromCharCode(1023&g|56320)),s+=4;continue}}}l.push(String.fromCharCode(65533)),++s}return l.join("")},T=r(3),P=(m=new ArrayBuffer(2),new DataView(m).setInt16(0,256,!0),new Int16Array(m)[0]===256),D=function(){function d(){}return d.parseScriptData=function(l,c,s){var p={};try{var g=d.parseValue(l,c,s),y=d.parseValue(l,c+g.size,s-g.size);p[g.data]=y.data}catch(A){u.a.e("AMF",A.toString())}return p},d.parseObject=function(l,c,s){if(s<3)throw new T.a("Data not enough when parse ScriptDataObject");var p=d.parseString(l,c,s),g=d.parseValue(l,c+p.size,s-p.size),y=g.objectEnd;return{data:{name:p.data,value:g.data},size:p.size+g.size,objectEnd:y}},d.parseVariable=function(l,c,s){return d.parseObject(l,c,s)},d.parseString=function(l,c,s){if(s<2)throw new T.a("Data not enough when parse String");var p=new DataView(l,c,s).getUint16(0,!P);return{data:p>0?w(new Uint8Array(l,c+2,p)):"",size:2+p}},d.parseLongString=function(l,c,s){if(s<4)throw new T.a("Data not enough when parse LongString");var p=new DataView(l,c,s).getUint32(0,!P);return{data:p>0?w(new Uint8Array(l,c+4,p)):"",size:4+p}},d.parseDate=function(l,c,s){if(s<10)throw new T.a("Data size invalid when parse Date");var p=new DataView(l,c,s),g=p.getFloat64(0,!P),y=p.getInt16(8,!P);return{data:new Date(g+=60*y*1e3),size:10}},d.parseValue=function(l,c,s){if(s<1)throw new T.a("Data not enough when parse Value");var p,g=new DataView(l,c,s),y=1,A=g.getUint8(0),F=!1;try{switch(A){case 0:p=g.getFloat64(1,!P),y+=8;break;case 1:p=!!g.getUint8(1),y+=1;break;case 2:var j=d.parseString(l,c+1,s-1);p=j.data,y+=j.size;break;case 3:p={};var V=0;for((16777215&g.getUint32(s-4,!P))==9&&(V=3);y<s-4;){var W=d.parseObject(l,c+y,s-y-V);if(W.objectEnd)break;p[W.data.name]=W.data.value,y+=W.size}y<=s-3&&(16777215&g.getUint32(y-1,!P))===9&&(y+=3);break;case 8:for(p={},y+=4,V=0,(16777215&g.getUint32(s-4,!P))==9&&(V=3);y<s-8;){var H=d.parseVariable(l,c+y,s-y-V);if(H.objectEnd)break;p[H.data.name]=H.data.value,y+=H.size}y<=s-3&&(16777215&g.getUint32(y-1,!P))===9&&(y+=3);break;case 9:p=void 0,y=1,F=!0;break;case 10:p=[];var K=g.getUint32(1,!P);y+=4;for(var ae=0;ae<K;ae++){var pe=d.parseValue(l,c+y,s-y);p.push(pe.data),y+=pe.size}break;case 11:var de=d.parseDate(l,c+1,s-1);p=de.data,y+=de.size;break;case 12:var Ce=d.parseString(l,c+1,s-1);p=Ce.data,y+=Ce.size;break;default:y=s,u.a.w("AMF","Unsupported AMF value type "+A)}}catch(ge){u.a.e("AMF",ge.toString())}return{data:p,size:y,objectEnd:F}},d}(),ne=function(){function d(l){this.TAG="ExpGolomb",this._buffer=l,this._buffer_index=0,this._total_bytes=l.byteLength,this._total_bits=8*l.byteLength,this._current_word=0,this._current_word_bits_left=0}return d.prototype.destroy=function(){this._buffer=null},d.prototype._fillCurrentWord=function(){var l=this._total_bytes-this._buffer_index;if(l<=0)throw new T.a("ExpGolomb: _fillCurrentWord() but no bytes available");var c=Math.min(4,l),s=new Uint8Array(4);s.set(this._buffer.subarray(this._buffer_index,this._buffer_index+c)),this._current_word=new DataView(s.buffer).getUint32(0,!1),this._buffer_index+=c,this._current_word_bits_left=8*c},d.prototype.readBits=function(l){if(l>32)throw new T.b("ExpGolomb: readBits() bits exceeded max 32bits!");if(l<=this._current_word_bits_left){var c=this._current_word>>>32-l;return this._current_word<<=l,this._current_word_bits_left-=l,c}var s=this._current_word_bits_left?this._current_word:0;s>>>=32-this._current_word_bits_left;var p=l-this._current_word_bits_left;this._fillCurrentWord();var g=Math.min(p,this._current_word_bits_left),y=this._current_word>>>32-g;return this._current_word<<=g,this._current_word_bits_left-=g,s=s<<g|y},d.prototype.readBool=function(){return this.readBits(1)===1},d.prototype.readByte=function(){return this.readBits(8)},d.prototype._skipLeadingZero=function(){var l;for(l=0;l<this._current_word_bits_left;l++)if((this._current_word&2147483648>>>l)!=0)return this._current_word<<=l,this._current_word_bits_left-=l,l;return this._fillCurrentWord(),l+this._skipLeadingZero()},d.prototype.readUEG=function(){var l=this._skipLeadingZero();return this.readBits(l+1)-1},d.prototype.readSEG=function(){var l=this.readUEG();return 1&l?l+1>>>1:-1*(l>>>1)},d}(),J=function(){function d(){}return d._ebsp2rbsp=function(l){for(var c=l,s=c.byteLength,p=new Uint8Array(s),g=0,y=0;y<s;y++)y>=2&&c[y]===3&&c[y-1]===0&&c[y-2]===0||(p[g]=c[y],g++);return new Uint8Array(p.buffer,0,g)},d.parseSPS=function(l){for(var c=l.subarray(1,4),s="avc1.",p=0;p<3;p++){var g=c[p].toString(16);g.length<2&&(g="0"+g),s+=g}var y=d._ebsp2rbsp(l),A=new ne(y);A.readByte();var F=A.readByte();A.readByte();var j=A.readByte();A.readUEG();var V=d.getProfileString(F),W=d.getLevelString(j),H=1,K=420,ae=8,pe=8;if((F===100||F===110||F===122||F===244||F===44||F===83||F===86||F===118||F===128||F===138||F===144)&&((H=A.readUEG())===3&&A.readBits(1),H<=3&&(K=[0,420,422,444][H]),ae=A.readUEG()+8,pe=A.readUEG()+8,A.readBits(1),A.readBool()))for(var de=H!==3?8:12,Ce=0;Ce<de;Ce++)A.readBool()&&(Ce<6?d._skipScalingList(A,16):d._skipScalingList(A,64));A.readUEG();var ge=A.readUEG();if(ge===0)A.readUEG();else if(ge===1){A.readBits(1),A.readSEG(),A.readSEG();var Oe=A.readUEG();for(Ce=0;Ce<Oe;Ce++)A.readSEG()}var Me=A.readUEG();A.readBits(1);var fe=A.readUEG(),be=A.readUEG(),Ye=A.readBits(1);Ye===0&&A.readBits(1),A.readBits(1);var Ge=0,Ze=0,Ie=0,qe=0;A.readBool()&&(Ge=A.readUEG(),Ze=A.readUEG(),Ie=A.readUEG(),qe=A.readUEG());var $e=1,Pe=1,je=0,et=!0,ut=0,zt=0;if(A.readBool()){if(A.readBool()){var At=A.readByte();At>0&&At<16?($e=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][At-1],Pe=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][At-1]):At===255&&($e=A.readByte()<<8|A.readByte(),Pe=A.readByte()<<8|A.readByte())}if(A.readBool()&&A.readBool(),A.readBool()&&(A.readBits(4),A.readBool()&&A.readBits(24)),A.readBool()&&(A.readUEG(),A.readUEG()),A.readBool()){var Qe=A.readBits(32),yn=A.readBits(32);et=A.readBool(),je=(ut=yn)/(zt=2*Qe)}}var Ht=1;$e===1&&Pe===1||(Ht=$e/Pe);var ft=0,ot=0;H===0?(ft=1,ot=2-Ye):(ft=H===3?1:2,ot=(H===1?2:1)*(2-Ye));var qt=16*(fe+1),Bt=16*(be+1)*(2-Ye);qt-=(Ge+Ze)*ft,Bt-=(Ie+qe)*ot;var on=Math.ceil(qt*Ht);return A.destroy(),A=null,{codec_mimetype:s,profile_idc:F,level_idc:j,profile_string:V,level_string:W,chroma_format_idc:H,bit_depth:ae,bit_depth_luma:ae,bit_depth_chroma:pe,ref_frames:Me,chroma_format:K,chroma_format_string:d.getChromaFormatString(K),frame_rate:{fixed:et,fps:je,fps_den:zt,fps_num:ut},sar_ratio:{width:$e,height:Pe},codec_size:{width:qt,height:Bt},present_size:{width:on,height:Bt}}},d._skipScalingList=function(l,c){for(var s=8,p=8,g=0;g<c;g++)p!==0&&(p=(s+l.readSEG()+256)%256),s=p===0?s:p},d.getProfileString=function(l){switch(l){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},d.getLevelString=function(l){return(l/10).toFixed(1)},d.getChromaFormatString=function(l){switch(l){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},d}(),Z=r(5),ee=function(){function d(){}return d._ebsp2rbsp=function(l){for(var c=l,s=c.byteLength,p=new Uint8Array(s),g=0,y=0;y<s;y++)y>=2&&c[y]===3&&c[y-1]===0&&c[y-2]===0||(p[g]=c[y],g++);return new Uint8Array(p.buffer,0,g)},d.parseVPS=function(l){var c=d._ebsp2rbsp(l),s=new ne(c);return s.readByte(),s.readByte(),s.readBits(4),s.readBits(2),s.readBits(6),{num_temporal_layers:s.readBits(3)+1,temporal_id_nested:s.readBool()}},d.parseSPS=function(l){var c=d._ebsp2rbsp(l),s=new ne(c);s.readByte(),s.readByte(),s.readBits(4);for(var p=s.readBits(3),g=(s.readBool(),s.readBits(2)),y=s.readBool(),A=s.readBits(5),F=s.readByte(),j=s.readByte(),V=s.readByte(),W=s.readByte(),H=s.readByte(),K=s.readByte(),ae=s.readByte(),pe=s.readByte(),de=s.readByte(),Ce=s.readByte(),ge=s.readByte(),Oe=[],Me=[],fe=0;fe<p;fe++)Oe.push(s.readBool()),Me.push(s.readBool());if(p>0)for(fe=p;fe<8;fe++)s.readBits(2);for(fe=0;fe<p;fe++)Oe[fe]&&(s.readByte(),s.readByte(),s.readByte(),s.readByte(),s.readByte(),s.readByte(),s.readByte(),s.readByte(),s.readByte(),s.readByte(),s.readByte()),Oe[fe]&&s.readByte();s.readUEG();var be=s.readUEG();be==3&&s.readBits(1);var Ye=s.readUEG(),Ge=s.readUEG();s.readBool()&&(s.readUEG(),s.readUEG(),s.readUEG(),s.readUEG());var Ze=s.readUEG(),Ie=s.readUEG(),qe=s.readUEG();for(fe=s.readBool()?0:p;fe<=p;fe++)s.readUEG(),s.readUEG(),s.readUEG();if(s.readUEG(),s.readUEG(),s.readUEG(),s.readUEG(),s.readUEG(),s.readUEG(),s.readBool()&&s.readBool())for(var $e=0;$e<4;$e++)for(var Pe=0;Pe<($e===3?2:6);Pe++)if(s.readBool()){var je=Math.min(64,1<<4+($e<<1));for($e>1&&s.readSEG(),fe=0;fe<je;fe++)s.readSEG()}else s.readUEG();s.readBool(),s.readBool(),s.readBool()&&(s.readByte(),s.readUEG(),s.readUEG(),s.readBool());var et=s.readUEG(),ut=0;for(fe=0;fe<et;fe++){var zt=!1;if(fe!==0&&(zt=s.readBool()),zt){fe===et&&s.readUEG(),s.readBool(),s.readUEG();for(var At=0,Qe=0;Qe<=ut;Qe++){var yn=s.readBool(),Ht=!1;yn||(Ht=s.readBool()),(yn||Ht)&&At++}ut=At}else{var ft=s.readUEG(),ot=s.readUEG();for(ut=ft+ot,Qe=0;Qe<ft;Qe++)s.readUEG(),s.readBool();for(Qe=0;Qe<ot;Qe++)s.readUEG(),s.readBool()}}if(s.readBool()){var qt=s.readUEG();for(fe=0;fe<qt;fe++){for(Qe=0;Qe<qe+4;Qe++)s.readBits(1);s.readBits(1)}}var Bt=0,on=1,Nn=1,vs=!1,ur=1,cr=1;if(s.readBool(),s.readBool(),s.readBool()){if(s.readBool()){var Fn=s.readByte();Fn>0&&Fn<16?(on=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][Fn-1],Nn=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][Fn-1]):Fn===255&&(on=s.readBits(16),Nn=s.readBits(16))}if(s.readBool()&&s.readBool(),s.readBool()&&(s.readBits(3),s.readBool(),s.readBool()&&(s.readByte(),s.readByte(),s.readByte())),s.readBool()&&(s.readUEG(),s.readUEG()),s.readBool(),s.readBool(),s.readBool(),s.readBool()&&(s.readUEG(),s.readUEG(),s.readUEG(),s.readUEG()),s.readBool()&&(ur=s.readBits(32),cr=s.readBits(32),s.readBool()&&(s.readUEG(),s.readBool()))){var dr=!1,fr=!1;if(dr=s.readBool(),fr=s.readBool(),dr||fr){var hi=s.readBool();hi&&(s.readByte(),s.readBits(5),s.readBool(),s.readBits(5)),s.readBits(4),s.readBits(4),hi&&s.readBits(4),s.readBits(5),s.readBits(5),s.readBits(5)}for(fe=0;fe<=p;fe++){var bs=s.readBool();vs=bs;var Es=!1;bs||(Es=s.readBool());var Ss=!1;if(Es?s.readSEG():Ss=s.readBool(),Ss||(cpbcnt=s.readUEG()+1),dr)for(Qe=0;Qe<1;Qe++)s.readUEG(),s.readUEG(),hi&&(s.readUEG(),s.readUEG());if(fr)for(Qe=0;Qe<1;Qe++)s.readUEG(),s.readUEG(),hi&&(s.readUEG(),s.readUEG())}}s.readBool()&&(s.readBool(),s.readBool(),s.readBool(),Bt=s.readUEG(),s.readUEG(),s.readUEG(),s.readUEG(),s.readUEG())}s.readBool();var _l="hvc1."+A+".1.L"+ge+".B0",As=Ye,Rs=Ge,ws=1;return on!==1&&Nn!==1&&(ws=on/Nn),s.destroy(),s=null,{codec_mimetype:_l,level_string:d.getLevelString(ge),profile_idc:A,bit_depth:Ze+8,ref_frames:1,chroma_format:be,chroma_format_string:d.getChromaFormatString(be),general_level_idc:ge,general_profile_space:g,general_tier_flag:y,general_profile_idc:A,general_profile_compatibility_flags_1:F,general_profile_compatibility_flags_2:j,general_profile_compatibility_flags_3:V,general_profile_compatibility_flags_4:W,general_constraint_indicator_flags_1:H,general_constraint_indicator_flags_2:K,general_constraint_indicator_flags_3:ae,general_constraint_indicator_flags_4:pe,general_constraint_indicator_flags_5:de,general_constraint_indicator_flags_6:Ce,min_spatial_segmentation_idc:Bt,constant_frame_rate:0,chroma_format_idc:be,bit_depth_luma_minus8:Ze,bit_depth_chroma_minus8:Ie,frame_rate:{fixed:vs,fps:cr/ur,fps_den:ur,fps_num:cr},sar_ratio:{width:on,height:Nn},codec_size:{width:As,height:Rs},present_size:{width:As*ws,height:Rs}}},d.parsePPS=function(l){var c=d._ebsp2rbsp(l),s=new ne(c);s.readByte(),s.readByte(),s.readUEG(),s.readUEG(),s.readBool(),s.readBool(),s.readBits(3),s.readBool(),s.readBool(),s.readUEG(),s.readUEG(),s.readSEG(),s.readBool(),s.readBool(),s.readBool()&&s.readUEG(),s.readSEG(),s.readSEG(),s.readBool(),s.readBool(),s.readBool(),s.readBool();var p=s.readBool(),g=s.readBool(),y=1;return g&&p?y=0:g?y=3:p&&(y=2),{parallelismType:y}},d.getChromaFormatString=function(l){switch(l){case 0:return"4:0:0";case 1:return"4:2:0";case 2:return"4:2:2";case 3:return"4:4:4";default:return"Unknown"}},d.getProfileString=function(l){switch(l){case 1:return"Main";case 2:return"Main10";case 3:return"MainSP";case 4:return"Rext";case 9:return"SCC";default:return"Unknown"}},d.getLevelString=function(l){return(l/30).toFixed(1)},d}(),C,Y=function(){function d(l,c){this.TAG="FLVDemuxer",this._config=c,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=l.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=l.hasAudioTrack,this._hasVideo=l.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new h.a,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var s=new ArrayBuffer(2);return new DataView(s).setInt16(0,256,!0),new Int16Array(s)[0]===256}()}return d.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},d.probe=function(l){var c=new Uint8Array(l),s={match:!1};if(c[0]!==70||c[1]!==76||c[2]!==86||c[3]!==1)return s;var p,g,y=(4&c[4])>>>2!=0,A=(1&c[4])!=0,F=(p=c)[g=5]<<24|p[g+1]<<16|p[g+2]<<8|p[g+3];return F<9?s:{match:!0,consumed:F,dataOffset:F,hasAudioTrack:y,hasVideoTrack:A}},d.prototype.bindDataSource=function(l){return l.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(d.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(l){this._onTrackMetadata=l},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(l){this._onMediaInfo=l},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(l){this._onMetaDataArrived=l},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(l){this._onScriptDataArrived=l},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onError",{get:function(){return this._onError},set:function(l){this._onError=l},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(l){this._onDataAvailable=l},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(l){this._timestampBase=l},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"overridedDuration",{get:function(){return this._duration},set:function(l){this._durationOverrided=!0,this._duration=l,this._mediaInfo.duration=l},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"overridedHasAudio",{set:function(l){this._hasAudioFlagOverrided=!0,this._hasAudio=l,this._mediaInfo.hasAudio=l},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"overridedHasVideo",{set:function(l){this._hasVideoFlagOverrided=!0,this._hasVideo=l,this._mediaInfo.hasVideo=l},enumerable:!1,configurable:!0}),d.prototype.resetMediaInfo=function(){this._mediaInfo=new h.a},d.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched},d.prototype.parseChunks=function(l,c){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new T.a("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var s=0,p=this._littleEndian;if(c===0){if(!(l.byteLength>13))return 0;s=d.probe(l).dataOffset}for(this._firstParse&&(this._firstParse=!1,c+s!==this._dataOffset&&u.a.w(this.TAG,"First time parsing but chunk byteStart invalid!"),(g=new DataView(l,s)).getUint32(0,!p)!==0&&u.a.w(this.TAG,"PrevTagSize0 !== 0 !!!"),s+=4);s<l.byteLength;){this._dispatch=!0;var g=new DataView(l,s);if(s+11+4>l.byteLength)break;var y=g.getUint8(0),A=16777215&g.getUint32(0,!p);if(s+11+A+4>l.byteLength)break;if(y===8||y===9||y===18){var F=g.getUint8(4),j=g.getUint8(5),V=g.getUint8(6)|j<<8|F<<16|g.getUint8(7)<<24;(16777215&g.getUint32(7,!p))!==0&&u.a.w(this.TAG,"Meet tag which has StreamID != 0!");var W=s+11;switch(y){case 8:this._parseAudioData(l,W,A,V);break;case 9:this._parseVideoData(l,W,A,V,c+s);break;case 18:this._parseScriptData(l,W,A)}var H=g.getUint32(11+A,!p);H!==11+A&&u.a.w(this.TAG,"Invalid PrevTagSize "+H),s+=11+A+4}else u.a.w(this.TAG,"Unsupported tag type "+y+", skipped"),s+=11+A+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),s},d.prototype._parseScriptData=function(l,c,s){var p=D.parseScriptData(l,c,s);if(p.hasOwnProperty("onMetaData")){if(p.onMetaData==null||typeof p.onMetaData!="object")return void u.a.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&u.a.w(this.TAG,"Found another onMetaData tag!"),this._metadata=p;var g=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},g)),typeof g.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=g.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof g.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=g.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof g.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=g.audiodatarate),typeof g.videodatarate=="number"&&(this._mediaInfo.videoDataRate=g.videodatarate),typeof g.width=="number"&&(this._mediaInfo.width=g.width),typeof g.height=="number"&&(this._mediaInfo.height=g.height),typeof g.duration=="number"){if(!this._durationOverrided){var y=Math.floor(g.duration*this._timescale);this._duration=y,this._mediaInfo.duration=y}}else this._mediaInfo.duration=0;if(typeof g.framerate=="number"){var A=Math.floor(1e3*g.framerate);if(A>0){var F=A/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=F,this._referenceFrameRate.fps_num=A,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=F}}if(typeof g.keyframes=="object"){this._mediaInfo.hasKeyframesIndex=!0;var j=g.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(j),g.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=g,u.a.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(p).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},p))},d.prototype._parseKeyframesIndex=function(l){for(var c=[],s=[],p=1;p<l.times.length;p++){var g=this._timestampBase+Math.floor(1e3*l.times[p]);c.push(g),s.push(l.filepositions[p])}return{times:c,filepositions:s}},d.prototype._parseAudioData=function(l,c,s,p){if(s<=1)u.a.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");else if(this._hasAudioFlagOverrided!==!0||this._hasAudio!==!1){this._littleEndian;var g=new DataView(l,c,s).getUint8(0),y=g>>>4;if(y===2||y===10){var A=0,F=(12&g)>>>2;if(F>=0&&F<=4){A=this._flvSoundRateTable[F];var j=1&g,V=this._audioMetadata,W=this._audioTrack;if(V||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(V=this._audioMetadata={}).type="audio",V.id=W.id,V.timescale=this._timescale,V.duration=this._duration,V.audioSampleRate=A,V.channelCount=j===0?1:2),y===10){var H=this._parseAACAudioData(l,c+1,s-1);if(H==null)return;if(H.packetType===0){V.config&&u.a.w(this.TAG,"Found another AudioSpecificConfig!");var K=H.data;V.audioSampleRate=K.samplingRate,V.channelCount=K.channelCount,V.codec=K.codec,V.originalCodec=K.originalCodec,V.config=K.config,V.refSampleDuration=1024/V.audioSampleRate*V.timescale,u.a.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",V),(de=this._mediaInfo).audioCodec=V.originalCodec,de.audioSampleRate=V.audioSampleRate,de.audioChannelCount=V.channelCount,de.hasVideo?de.videoCodec!=null&&(de.mimeType='video/x-flv; codecs="'+de.videoCodec+","+de.audioCodec+'"'):de.mimeType='video/x-flv; codecs="'+de.audioCodec+'"',de.isComplete()&&this._onMediaInfo(de)}else if(H.packetType===1){var ae=this._timestampBase+p,pe={unit:H.data,length:H.data.byteLength,dts:ae,pts:ae};W.samples.push(pe),W.length+=H.data.length}else u.a.e(this.TAG,"Flv: Unsupported AAC data type "+H.packetType)}else if(y===2){if(!V.codec){var de;if((K=this._parseMP3AudioData(l,c+1,s-1,!0))==null)return;V.audioSampleRate=K.samplingRate,V.channelCount=K.channelCount,V.codec=K.codec,V.originalCodec=K.originalCodec,V.refSampleDuration=1152/V.audioSampleRate*V.timescale,u.a.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",V),(de=this._mediaInfo).audioCodec=V.codec,de.audioSampleRate=V.audioSampleRate,de.audioChannelCount=V.channelCount,de.audioDataRate=K.bitRate,de.hasVideo?de.videoCodec!=null&&(de.mimeType='video/x-flv; codecs="'+de.videoCodec+","+de.audioCodec+'"'):de.mimeType='video/x-flv; codecs="'+de.audioCodec+'"',de.isComplete()&&this._onMediaInfo(de)}var Ce=this._parseMP3AudioData(l,c+1,s-1,!1);if(Ce==null)return;ae=this._timestampBase+p;var ge={unit:Ce,length:Ce.byteLength,dts:ae,pts:ae};W.samples.push(ge),W.length+=Ce.length}}else this._onError(Z.a.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+F)}else this._onError(Z.a.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+y)}},d.prototype._parseAACAudioData=function(l,c,s){if(!(s<=1)){var p={},g=new Uint8Array(l,c,s);return p.packetType=g[0],g[0]===0?p.data=this._parseAACAudioSpecificConfig(l,c+1,s-1):p.data=g.subarray(1),p}u.a.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!")},d.prototype._parseAACAudioSpecificConfig=function(l,c,s){var p,g,y=new Uint8Array(l,c,s),A=null,F=0,j=null;if(F=p=y[0]>>>3,(g=(7&y[0])<<1|y[1]>>>7)<0||g>=this._mpegSamplingRates.length)this._onError(Z.a.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");else{var V=this._mpegSamplingRates[g],W=(120&y[1])>>>3;if(!(W<0||W>=8)){F===5&&(j=(7&y[1])<<1|y[2]>>>7,(124&y[2])>>>2);var H=self.navigator.userAgent.toLowerCase();return H.indexOf("firefox")!==-1?g>=6?(F=5,A=new Array(4),j=g-3):(F=2,A=new Array(2),j=g):H.indexOf("android")!==-1?(F=2,A=new Array(2),j=g):(F=5,j=g,A=new Array(4),g>=6?j=g-3:W===1&&(F=2,A=new Array(2),j=g)),A[0]=F<<3,A[0]|=(15&g)>>>1,A[1]=(15&g)<<7,A[1]|=(15&W)<<3,F===5&&(A[1]|=(15&j)>>>1,A[2]=(1&j)<<7,A[2]|=8,A[3]=0),{config:A,samplingRate:V,channelCount:W,codec:"mp4a.40."+F,originalCodec:"mp4a.40."+p}}this._onError(Z.a.FORMAT_ERROR,"Flv: AAC invalid channel configuration")}},d.prototype._parseMP3AudioData=function(l,c,s,p){if(!(s<4)){this._littleEndian;var g=new Uint8Array(l,c,s),y=null;if(p){if(g[0]!==255)return;var A=g[1]>>>3&3,F=(6&g[1])>>1,j=(240&g[2])>>>4,V=(12&g[2])>>>2,W=(g[3]>>>6&3)!==3?2:1,H=0,K=0;switch(A){case 0:H=this._mpegAudioV25SampleRateTable[V];break;case 2:H=this._mpegAudioV20SampleRateTable[V];break;case 3:H=this._mpegAudioV10SampleRateTable[V]}switch(F){case 1:j<this._mpegAudioL3BitRateTable.length&&(K=this._mpegAudioL3BitRateTable[j]);break;case 2:j<this._mpegAudioL2BitRateTable.length&&(K=this._mpegAudioL2BitRateTable[j]);break;case 3:j<this._mpegAudioL1BitRateTable.length&&(K=this._mpegAudioL1BitRateTable[j])}y={bitRate:K,samplingRate:H,channelCount:W,codec:"mp3",originalCodec:"mp3"}}else y=g;return y}u.a.w(this.TAG,"Flv: Invalid MP3 packet, header missing!")},d.prototype._parseVideoData=function(l,c,s,p,g){if(s<=1)u.a.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");else if(this._hasVideoFlagOverrided!==!0||this._hasVideo!==!1){var y=new Uint8Array(l,c,s)[0],A=(240&y)>>>4,F=15&y;if(F===7)this._parseAVCVideoPacket(l,c+1,s-1,p,g,A);else{if(F!==12)return void this._onError(Z.a.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+F);this._parseHEVCVideoPacket(l,c+1,s-1,p,g,A)}}},d.prototype._parseAVCVideoPacket=function(l,c,s,p,g,y){if(s<4)u.a.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");else{var A=this._littleEndian,F=new DataView(l,c,s),j=F.getUint8(0),V=(16777215&F.getUint32(0,!A))<<8>>8;if(j===0)this._parseAVCDecoderConfigurationRecord(l,c+4,s-4);else if(j===1)this._parseAVCVideoData(l,c+4,s-4,p,g,y,V);else if(j!==2)return void this._onError(Z.a.FORMAT_ERROR,"Flv: Invalid video packet type "+j)}},d.prototype._parseHEVCVideoPacket=function(l,c,s,p,g,y){if(s<4)u.a.w(this.TAG,"Flv: Invalid HEVC packet, missing HEVCPacketType or/and CompositionTime");else{var A=this._littleEndian,F=new DataView(l,c,s),j=F.getUint8(0),V=(16777215&F.getUint32(0,!A))<<8>>8;if(j===0)this._parseHEVCDecoderConfigurationRecord(l,c+4,s-4);else if(j===1)this._parseHEVCVideoData(l,c+4,s-4,p,g,y,V);else if(j!==2)return void this._onError(Z.a.FORMAT_ERROR,"Flv: Invalid video packet type "+j)}},d.prototype._parseAVCDecoderConfigurationRecord=function(l,c,s){if(s<7)u.a.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var p=this._videoMetadata,g=this._videoTrack,y=this._littleEndian,A=new DataView(l,c,s);p?p.avcc!==void 0&&u.a.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(p=this._videoMetadata={}).type="video",p.id=g.id,p.timescale=this._timescale,p.duration=this._duration);var F=A.getUint8(0),j=A.getUint8(1);if(A.getUint8(2),A.getUint8(3),F===1&&j!==0)if(this._naluLengthSize=1+(3&A.getUint8(4)),this._naluLengthSize===3||this._naluLengthSize===4){var V=31&A.getUint8(5);if(V!==0){V>1&&u.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+V);for(var W=6,H=0;H<V;H++){var K=A.getUint16(W,!y);if(W+=2,K!==0){var ae=new Uint8Array(l,c+W,K);W+=K;var pe=J.parseSPS(ae);if(H===0){p.codecWidth=pe.codec_size.width,p.codecHeight=pe.codec_size.height,p.presentWidth=pe.present_size.width,p.presentHeight=pe.present_size.height,p.profile=pe.profile_string,p.level=pe.level_string,p.bitDepth=pe.bit_depth,p.chromaFormat=pe.chroma_format,p.sarRatio=pe.sar_ratio,p.frameRate=pe.frame_rate,pe.frame_rate.fixed!==!1&&pe.frame_rate.fps_num!==0&&pe.frame_rate.fps_den!==0||(p.frameRate=this._referenceFrameRate);var de=p.frameRate.fps_den,Ce=p.frameRate.fps_num;p.refSampleDuration=p.timescale*(de/Ce);for(var ge=ae.subarray(1,4),Oe="avc1.",Me=0;Me<3;Me++){var fe=ge[Me].toString(16);fe.length<2&&(fe="0"+fe),Oe+=fe}p.codec=Oe;var be=this._mediaInfo;be.width=p.codecWidth,be.height=p.codecHeight,be.fps=p.frameRate.fps,be.profile=p.profile,be.level=p.level,be.refFrames=pe.ref_frames,be.chromaFormat=pe.chroma_format_string,be.sarNum=p.sarRatio.width,be.sarDen=p.sarRatio.height,be.videoCodec=Oe,be.hasAudio?be.audioCodec!=null&&(be.mimeType='video/x-flv; codecs="'+be.videoCodec+","+be.audioCodec+'"'):be.mimeType='video/x-flv; codecs="'+be.videoCodec+'"',be.isComplete()&&this._onMediaInfo(be)}}}var Ye=A.getUint8(W);if(Ye!==0){for(Ye>1&&u.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+Ye),W++,H=0;H<Ye;H++)K=A.getUint16(W,!y),W+=2,K!==0&&(W+=K);p.avcc=new Uint8Array(s),p.avcc.set(new Uint8Array(l,c,s),0),u.a.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",p)}else this._onError(Z.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}else this._onError(Z.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS")}else this._onError(Z.a.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));else this._onError(Z.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord")}},d.prototype._parseHEVCDecoderConfigurationRecord=function(l,c,s){if(s<22)u.a.w(this.TAG,"Flv: Invalid HEVCDecoderConfigurationRecord, lack of data!");else{var p=this._videoMetadata,g=this._videoTrack,y=this._littleEndian,A=new DataView(l,c,s);p?p.hvcc!==void 0&&u.a.w(this.TAG,"Found another HEVCDecoderConfigurationRecord!"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(p=this._videoMetadata={}).type="video",p.id=g.id,p.timescale=this._timescale,p.duration=this._duration);var F=A.getUint8(0),j=31&A.getUint8(1);if(F===1&&j!==0)if(this._naluLengthSize=1+(3&A.getUint8(21)),this._naluLengthSize===3||this._naluLengthSize===4){for(var V=A.getUint8(22),W=0,H=23;W<V;W++){var K=63&A.getUint8(H+0),ae=A.getUint16(H+1,!y);H+=3;for(var pe=0;pe<ae;pe++){var de=A.getUint16(H+0,!y);if(pe===0)if(K===33){H+=2;var Ce=new Uint8Array(l,c+H,de),ge=ee.parseSPS(Ce);p.codecWidth=ge.codec_size.width,p.codecHeight=ge.codec_size.height,p.presentWidth=ge.present_size.width,p.presentHeight=ge.present_size.height,p.profile=ge.profile_string,p.level=ge.level_string,p.bitDepth=ge.bit_depth,p.chromaFormat=ge.chroma_format,p.sarRatio=ge.sar_ratio,p.frameRate=ge.frame_rate,ge.frame_rate.fixed!==!1&&ge.frame_rate.fps_num!==0&&ge.frame_rate.fps_den!==0||(p.frameRate=this._referenceFrameRate);var Oe=p.frameRate.fps_den,Me=p.frameRate.fps_num;p.refSampleDuration=p.timescale*(Oe/Me),p.codec=ge.codec_mimetype;var fe=this._mediaInfo;fe.width=p.codecWidth,fe.height=p.codecHeight,fe.fps=p.frameRate.fps,fe.profile=p.profile,fe.level=p.level,fe.refFrames=ge.ref_frames,fe.chromaFormat=ge.chroma_format_string,fe.sarNum=p.sarRatio.width,fe.sarDen=p.sarRatio.height,fe.videoCodec=ge.codec_mimetype,fe.hasAudio?fe.audioCodec!=null&&(fe.mimeType='video/x-flv; codecs="'+fe.videoCodec+","+fe.audioCodec+'"'):fe.mimeType='video/x-flv; codecs="'+fe.videoCodec+'"',fe.isComplete()&&this._onMediaInfo(fe),H+=de}else H+=2+de;else H+=2+de}}p.hvcc=new Uint8Array(s),p.hvcc.set(new Uint8Array(l,c,s),0),u.a.v(this.TAG,"Parsed HEVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",p)}else this._onError(Z.a.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));else this._onError(Z.a.FORMAT_ERROR,"Flv: Invalid HEVCDecoderConfigurationRecord")}},d.prototype._parseAVCVideoData=function(l,c,s,p,g,y,A){for(var F=this._littleEndian,j=new DataView(l,c,s),V=[],W=0,H=0,K=this._naluLengthSize,ae=this._timestampBase+p,pe=y===1;H<s;){if(H+4>=s){u.a.w(this.TAG,"Malformed Nalu near timestamp "+ae+", offset = "+H+", dataSize = "+s);break}var de=j.getUint32(H,!F);if(K===3&&(de>>>=8),de>s-K)return void u.a.w(this.TAG,"Malformed Nalus near timestamp "+ae+", NaluSize > DataSize!");var Ce=31&j.getUint8(H+K);Ce===5&&(pe=!0);var ge=new Uint8Array(l,c+H,K+de),Oe={type:Ce,data:ge};V.push(Oe),W+=ge.byteLength,H+=K+de}if(V.length){var Me=this._videoTrack,fe={units:V,length:W,isKeyframe:pe,dts:ae,cts:A,pts:ae+A};pe&&(fe.fileposition=g),Me.samples.push(fe),Me.length+=W}},d.prototype._parseHEVCVideoData=function(l,c,s,p,g,y,A){for(var F=this._littleEndian,j=new DataView(l,c,s),V=[],W=0,H=0,K=this._naluLengthSize,ae=this._timestampBase+p,pe=y===1;H<s;){if(H+4>=s){u.a.w(this.TAG,"Malformed Nalu near timestamp "+ae+", offset = "+H+", dataSize = "+s);break}var de=j.getUint32(H,!F);if(K===3&&(de>>>=8),de>s-K)return void u.a.w(this.TAG,"Malformed Nalus near timestamp "+ae+", NaluSize > DataSize!");var Ce=31&j.getUint8(H+K);Ce!==19&&Ce!==20||(pe=!0);var ge=new Uint8Array(l,c+H,K+de),Oe={type:Ce,data:ge};V.push(Oe),W+=ge.byteLength,H+=K+de}if(V.length){var Me=this._videoTrack,fe={units:V,length:W,isKeyframe:pe,dts:ae,cts:A,pts:ae+A};pe&&(fe.fileposition=g),Me.samples.push(fe),Me.length+=W}},d}(),I=function(){function d(){}return d.prototype.destroy=function(){this.onError=null,this.onMediaInfo=null,this.onMetaDataArrived=null,this.onTrackMetadata=null,this.onDataAvailable=null,this.onTimedID3Metadata=null,this.onSCTE35Metadata=null,this.onPESPrivateData=null,this.onPESPrivateDataDescriptor=null},d}(),E=function(){this.program_pmt_pid={}};(function(d){d[d.kMPEG1Audio=3]="kMPEG1Audio",d[d.kMPEG2Audio=4]="kMPEG2Audio",d[d.kPESPrivateData=6]="kPESPrivateData",d[d.kADTSAAC=15]="kADTSAAC",d[d.kID3=21]="kID3",d[d.kSCTE35=134]="kSCTE35",d[d.kH264=27]="kH264",d[d.kH265=36]="kH265"})(C||(C={}));var b,R=function(){this.pid_stream_type={},this.common_pids={h264:void 0,h265:void 0,adts_aac:void 0},this.pes_private_data_pids={},this.timed_id3_pids={},this.scte_35_pids={}},O=function(){},M=function(){},N=function(){this.slices=[],this.total_length=0,this.expected_length=0,this.file_position=0};(function(d){d[d.kUnspecified=0]="kUnspecified",d[d.kSliceNonIDR=1]="kSliceNonIDR",d[d.kSliceDPA=2]="kSliceDPA",d[d.kSliceDPB=3]="kSliceDPB",d[d.kSliceDPC=4]="kSliceDPC",d[d.kSliceIDR=5]="kSliceIDR",d[d.kSliceSEI=6]="kSliceSEI",d[d.kSliceSPS=7]="kSliceSPS",d[d.kSlicePPS=8]="kSlicePPS",d[d.kSliceAUD=9]="kSliceAUD",d[d.kEndOfSequence=10]="kEndOfSequence",d[d.kEndOfStream=11]="kEndOfStream",d[d.kFiller=12]="kFiller",d[d.kSPSExt=13]="kSPSExt",d[d.kReserved0=14]="kReserved0"})(b||(b={}));var ce,ye,Re=function(){},we=function(d){var l=d.data.byteLength;this.type=d.type,this.data=new Uint8Array(4+l),new DataView(this.data.buffer).setUint32(0,l),this.data.set(d.data,4)},x=function(){function d(l){this.TAG="H264AnnexBParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=l,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&u.a.e(this.TAG,"Could not find H264 startcode until payload end!")}return d.prototype.findNextStartCodeOffset=function(l){for(var c=l,s=this.data_;;){if(c+3>=s.byteLength)return this.eof_flag_=!0,s.byteLength;var p=s[c+0]<<24|s[c+1]<<16|s[c+2]<<8|s[c+3],g=s[c+0]<<16|s[c+1]<<8|s[c+2];if(p===1||g===1)return c;c++}},d.prototype.readNextNaluPayload=function(){for(var l=this.data_,c=null;c==null&&!this.eof_flag_;){var s=this.current_startcode_offset_,p=31&l[s+=(l[s]<<24|l[s+1]<<16|l[s+2]<<8|l[s+3])===1?4:3],g=(128&l[s])>>>7,y=this.findNextStartCodeOffset(s);if(this.current_startcode_offset_=y,!(p>=b.kReserved0)&&g===0){var A=l.subarray(s,y);(c=new Re).type=p,c.data=A}}return c},d}(),v=function(){function d(l,c,s){var p=8+l.byteLength+1+2+c.byteLength,g=!1;l[3]!==66&&l[3]!==77&&l[3]!==88&&(g=!0,p+=4);var y=this.data=new Uint8Array(p);y[0]=1,y[1]=l[1],y[2]=l[2],y[3]=l[3],y[4]=255,y[5]=225;var A=l.byteLength;y[6]=A>>>8,y[7]=255&A;var F=8;y.set(l,8),y[F+=A]=1;var j=c.byteLength;y[F+1]=j>>>8,y[F+2]=255&j,y.set(c,F+3),F+=3+j,g&&(y[F]=252|s.chroma_format_idc,y[F+1]=248|s.bit_depth_luma-8,y[F+2]=248|s.bit_depth_chroma-8,y[F+3]=0,F+=4)}return d.prototype.getData=function(){return this.data},d}();(function(d){d[d.kNull=0]="kNull",d[d.kAACMain=1]="kAACMain",d[d.kAAC_LC=2]="kAAC_LC",d[d.kAAC_SSR=3]="kAAC_SSR",d[d.kAAC_LTP=4]="kAAC_LTP",d[d.kAAC_SBR=5]="kAAC_SBR",d[d.kAAC_Scalable=6]="kAAC_Scalable",d[d.kLayer1=32]="kLayer1",d[d.kLayer2=33]="kLayer2",d[d.kLayer3=34]="kLayer3"})(ce||(ce={})),function(d){d[d.k96000Hz=0]="k96000Hz",d[d.k88200Hz=1]="k88200Hz",d[d.k64000Hz=2]="k64000Hz",d[d.k48000Hz=3]="k48000Hz",d[d.k44100Hz=4]="k44100Hz",d[d.k32000Hz=5]="k32000Hz",d[d.k24000Hz=6]="k24000Hz",d[d.k22050Hz=7]="k22050Hz",d[d.k16000Hz=8]="k16000Hz",d[d.k12000Hz=9]="k12000Hz",d[d.k11025Hz=10]="k11025Hz",d[d.k8000Hz=11]="k8000Hz",d[d.k7350Hz=12]="k7350Hz"}(ye||(ye={}));var L,U=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],he=function(){},Ee=function(){function d(l){this.TAG="AACADTSParser",this.data_=l,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&u.a.e(this.TAG,"Could not found ADTS syncword until payload end")}return d.prototype.findNextSyncwordOffset=function(l){for(var c=l,s=this.data_;;){if(c+7>=s.byteLength)return this.eof_flag_=!0,s.byteLength;if((s[c+0]<<8|s[c+1])>>>4===4095)return c;c++}},d.prototype.readNextAACFrame=function(){for(var l=this.data_,c=null;c==null&&!this.eof_flag_;){var s=this.current_syncword_offset_,p=(8&l[s+1])>>>3,g=(6&l[s+1])>>>1,y=1&l[s+1],A=(192&l[s+2])>>>6,F=(60&l[s+2])>>>2,j=(1&l[s+2])<<2|(192&l[s+3])>>>6,V=(3&l[s+3])<<11|l[s+4]<<3|(224&l[s+5])>>>5;if(l[s+6],s+V>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var W=y===1?7:9,H=V-W;s+=W;var K=this.findNextSyncwordOffset(s+H);if(this.current_syncword_offset_=K,(p===0||p===1)&&g===0){var ae=l.subarray(s,s+H);(c=new he).audio_object_type=A+1,c.sampling_freq_index=F,c.sampling_frequency=U[F],c.channel_config=j,c.data=ae}}return c},d.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},d.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},d}(),Be=function(d){var l=null,c=d.audio_object_type,s=d.audio_object_type,p=d.sampling_freq_index,g=d.channel_config,y=0,A=navigator.userAgent.toLowerCase();A.indexOf("firefox")!==-1?p>=6?(s=5,l=new Array(4),y=p-3):(s=2,l=new Array(2),y=p):A.indexOf("android")!==-1?(s=2,l=new Array(2),y=p):(s=5,y=p,l=new Array(4),p>=6?y=p-3:g===1&&(s=2,l=new Array(2),y=p)),l[0]=s<<3,l[0]|=(15&p)>>>1,l[1]=(15&p)<<7,l[1]|=(15&g)<<3,s===5&&(l[1]|=(15&y)>>>1,l[2]=(1&y)<<7,l[2]|=8,l[3]=0),this.config=l,this.sampling_rate=U[p],this.channel_count=g,this.codec_mimetype="mp4a.40."+s,this.original_codec_mimetype="mp4a.40."+c},Xe=function(){},$=function(){};(function(d){d[d.kSpliceNull=0]="kSpliceNull",d[d.kSpliceSchedule=4]="kSpliceSchedule",d[d.kSpliceInsert=5]="kSpliceInsert",d[d.kTimeSignal=6]="kTimeSignal",d[d.kBandwidthReservation=7]="kBandwidthReservation",d[d.kPrivateCommand=255]="kPrivateCommand"})(L||(L={}));var te,B=function(d){var l=d.readBool();return l?(d.readBits(6),{time_specified_flag:l,pts_time:4*d.readBits(31)+d.readBits(2)}):(d.readBits(7),{time_specified_flag:l})},z=function(d){var l=d.readBool();return d.readBits(6),{auto_return:l,duration:4*d.readBits(31)+d.readBits(2)}},re=function(d,l){var c=l.readBits(8);return d?{component_tag:c}:{component_tag:c,splice_time:B(l)}},me=function(d){return{component_tag:d.readBits(8),utc_splice_time:d.readBits(32)}},se=function(d){var l=d.readBits(32),c=d.readBool();d.readBits(7);var s={splice_event_id:l,splice_event_cancel_indicator:c};if(c)return s;if(s.out_of_network_indicator=d.readBool(),s.program_splice_flag=d.readBool(),s.duration_flag=d.readBool(),d.readBits(5),s.program_splice_flag)s.utc_splice_time=d.readBits(32);else{s.component_count=d.readBits(8),s.components=[];for(var p=0;p<s.component_count;p++)s.components.push(me(d))}return s.duration_flag&&(s.break_duration=z(d)),s.unique_program_id=d.readBits(16),s.avail_num=d.readBits(8),s.avails_expected=d.readBits(8),s},S=function(d,l,c,s){return{descriptor_tag:d,descriptor_length:l,identifier:c,provider_avail_id:s.readBits(32)}},k=function(d,l,c,s){var p=s.readBits(8),g=s.readBits(3);s.readBits(5);for(var y="",A=0;A<g;A++)y+=String.fromCharCode(s.readBits(8));return{descriptor_tag:d,descriptor_length:l,identifier:c,preroll:p,dtmf_count:g,DTMF_char:y}},G=function(d){var l=d.readBits(8);return d.readBits(7),{component_tag:l,pts_offset:4*d.readBits(31)+d.readBits(2)}},q=function(d,l,c,s){var p=s.readBits(32),g=s.readBool();s.readBits(7);var y={descriptor_tag:d,descriptor_length:l,identifier:c,segmentation_event_id:p,segmentation_event_cancel_indicator:g};if(g)return y;if(y.program_segmentation_flag=s.readBool(),y.segmentation_duration_flag=s.readBool(),y.delivery_not_restricted_flag=s.readBool(),y.delivery_not_restricted_flag?s.readBits(5):(y.web_delivery_allowed_flag=s.readBool(),y.no_regional_blackout_flag=s.readBool(),y.archive_allowed_flag=s.readBool(),y.device_restrictions=s.readBits(2)),!y.program_segmentation_flag){y.component_count=s.readBits(8),y.components=[];for(var A=0;A<y.component_count;A++)y.components.push(G(s))}y.segmentation_duration_flag&&(y.segmentation_duration=s.readBits(40)),y.segmentation_upid_type=s.readBits(8),y.segmentation_upid_length=s.readBits(8);var F=new Uint8Array(y.segmentation_upid_length);for(A=0;A<y.segmentation_upid_length;A++)F[A]=s.readBits(8);return y.segmentation_upid=F.buffer,y.segmentation_type_id=s.readBits(8),y.segment_num=s.readBits(8),y.segments_expected=s.readBits(8),y.segmentation_type_id!==52&&y.segmentation_type_id!==54&&y.segmentation_type_id!==56&&y.segmentation_type_id!==58||(y.sub_segment_num=s.readBits(8),y.sub_segments_expected=s.readBits(8)),y},Q=function(d,l,c,s){return{descriptor_tag:d,descriptor_length:l,identifier:c,TAI_seconds:s.readBits(48),TAI_ns:s.readBits(32),UTC_offset:s.readBits(16)}},le=function(d){return{component_tag:d.readBits(8),ISO_code:String.fromCharCode(d.readBits(8),d.readBits(8),d.readBits(8)),Bit_Stream_Mode:d.readBits(3),Num_Channels:d.readBits(4),Full_Srvc_Audio:d.readBool()}},_e=function(d,l,c,s){for(var p=s.readBits(4),g=[],y=0;y<p;y++)g.push(le(s));return{descriptor_tag:d,descriptor_length:l,identifier:c,audio_count:p,components:g}},oe=function(d){var l=new ne(d),c=l.readBits(8),s=l.readBool(),p=l.readBool();l.readBits(2);var g=l.readBits(12),y=l.readBits(8),A=l.readBool(),F=l.readBits(6),j=4*l.readBits(31)+l.readBits(2),V=l.readBits(8),W=l.readBits(12),H=l.readBits(12),K=l.readBits(8),ae=null;K===L.kSpliceNull?ae={}:K===L.kSpliceSchedule?ae=function(Ie){for(var qe=Ie.readBits(8),$e=[],Pe=0;Pe<qe;Pe++)$e.push(se(Ie));return{splice_count:qe,events:$e}}(l):K===L.kSpliceInsert?ae=function(Ie){var qe=Ie.readBits(32),$e=Ie.readBool();Ie.readBits(7);var Pe={splice_event_id:qe,splice_event_cancel_indicator:$e};if($e)return Pe;if(Pe.out_of_network_indicator=Ie.readBool(),Pe.program_splice_flag=Ie.readBool(),Pe.duration_flag=Ie.readBool(),Pe.splice_immediate_flag=Ie.readBool(),Ie.readBits(4),Pe.program_splice_flag&&!Pe.splice_immediate_flag&&(Pe.splice_time=B(Ie)),!Pe.program_splice_flag){Pe.component_count=Ie.readBits(8),Pe.components=[];for(var je=0;je<Pe.component_count;je++)Pe.components.push(re(Pe.splice_immediate_flag,Ie))}return Pe.duration_flag&&(Pe.break_duration=z(Ie)),Pe.unique_program_id=Ie.readBits(16),Pe.avail_num=Ie.readBits(8),Pe.avails_expected=Ie.readBits(8),Pe}(l):K===L.kTimeSignal?ae=function(Ie){return{splice_time:B(Ie)}}(l):K===L.kBandwidthReservation?ae={}:K===L.kPrivateCommand?ae=function(Ie,qe){for(var $e=String.fromCharCode(qe.readBits(8),qe.readBits(8),qe.readBits(8),qe.readBits(8)),Pe=new Uint8Array(Ie-4),je=0;je<Ie-4;je++)Pe[je]=qe.readBits(8);return{identifier:$e,private_data:Pe.buffer}}(H,l):l.readBits(8*H);for(var pe=[],de=l.readBits(16),Ce=0;Ce<de;){var ge=l.readBits(8),Oe=l.readBits(8),Me=String.fromCharCode(l.readBits(8),l.readBits(8),l.readBits(8),l.readBits(8));ge===0?pe.push(S(ge,Oe,Me,l)):ge===1?pe.push(k(ge,Oe,Me,l)):ge===2?pe.push(q(ge,Oe,Me,l)):ge===3?pe.push(Q(ge,Oe,Me,l)):ge===4?pe.push(_e(ge,Oe,Me,l)):l.readBits(8*(Oe-4)),Ce+=2+Oe}var fe={table_id:c,section_syntax_indicator:s,private_indicator:p,section_length:g,protocol_version:y,encrypted_packet:A,encryption_algorithm:F,pts_adjustment:j,cw_index:V,tier:W,splice_command_length:H,splice_command_type:K,splice_command:ae,descriptor_loop_length:de,splice_descriptors:pe,E_CRC32:A?l.readBits(32):void 0,CRC32:l.readBits(32)};if(K===L.kSpliceInsert){var be=ae;if(be.splice_event_cancel_indicator)return{splice_command_type:K,detail:fe,data:d};if(be.program_splice_flag&&!be.splice_immediate_flag){var Ye=be.duration_flag?be.break_duration.auto_return:void 0,Ge=be.duration_flag?be.break_duration.duration/90:void 0;return be.splice_time.time_specified_flag?{splice_command_type:K,pts:(j+be.splice_time.pts_time)%Math.pow(2,33),auto_return:Ye,duraiton:Ge,detail:fe,data:d}:{splice_command_type:K,auto_return:Ye,duraiton:Ge,detail:fe,data:d}}return{splice_command_type:K,auto_return:Ye=be.duration_flag?be.break_duration.auto_return:void 0,duraiton:Ge=be.duration_flag?be.break_duration.duration/90:void 0,detail:fe,data:d}}if(K===L.kTimeSignal){var Ze=ae;return Ze.splice_time.time_specified_flag?{splice_command_type:K,pts:(j+Ze.splice_time.pts_time)%Math.pow(2,33),detail:fe,data:d}:{splice_command_type:K,detail:fe,data:d}}return{splice_command_type:K,detail:fe,data:d}};(function(d){d[d.kSliceIDR_W_RADL=19]="kSliceIDR_W_RADL",d[d.kSliceIDR_N_LP=20]="kSliceIDR_N_LP",d[d.kSliceVPS=32]="kSliceVPS",d[d.kSliceSPS=33]="kSliceSPS",d[d.kSlicePPS=34]="kSlicePPS",d[d.kSliceAUD=35]="kSliceAUD"})(te||(te={}));var ue,ie=function(){},Se=function(d){var l=d.data.byteLength;this.type=d.type,this.data=new Uint8Array(4+l),new DataView(this.data.buffer).setUint32(0,l),this.data.set(d.data,4)},ve=function(){function d(l){this.TAG="H265AnnexBParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=l,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&u.a.e(this.TAG,"Could not find H265 startcode until payload end!")}return d.prototype.findNextStartCodeOffset=function(l){for(var c=l,s=this.data_;;){if(c+3>=s.byteLength)return this.eof_flag_=!0,s.byteLength;var p=s[c+0]<<24|s[c+1]<<16|s[c+2]<<8|s[c+3],g=s[c+0]<<16|s[c+1]<<8|s[c+2];if(p===1||g===1)return c;c++}},d.prototype.readNextNaluPayload=function(){for(var l=this.data_,c=null;c==null&&!this.eof_flag_;){var s=this.current_startcode_offset_,p=l[s+=(l[s]<<24|l[s+1]<<16|l[s+2]<<8|l[s+3])===1?4:3]>>1&63,g=(128&l[s])>>>7,y=this.findNextStartCodeOffset(s);if(this.current_startcode_offset_=y,g===0){var A=l.subarray(s,y);(c=new ie).type=p,c.data=A}}return c},d}(),Ae=function(){function d(l,c,s,p){var g=23+(5+l.byteLength)+(5+c.byteLength)+(5+s.byteLength),y=this.data=new Uint8Array(g);y[0]=1,y[1]=(3&p.general_profile_space)<<6|(p.general_tier_flag?1:0)<<5|31&p.general_profile_idc,y[2]=p.general_profile_compatibility_flags_1,y[3]=p.general_profile_compatibility_flags_2,y[4]=p.general_profile_compatibility_flags_3,y[5]=p.general_profile_compatibility_flags_4,y[6]=p.general_constraint_indicator_flags_1,y[7]=p.general_constraint_indicator_flags_2,y[8]=p.general_constraint_indicator_flags_3,y[9]=p.general_constraint_indicator_flags_4,y[10]=p.general_constraint_indicator_flags_5,y[11]=p.general_constraint_indicator_flags_6,y[12]=60,y[13]=240|(3840&p.min_spatial_segmentation_idc)>>8,y[14]=255&p.min_spatial_segmentation_idc,y[15]=252|3&p.parallelismType,y[16]=252|3&p.chroma_format_idc,y[17]=248|7&p.bit_depth_luma_minus8,y[18]=248|7&p.bit_depth_chroma_minus8,y[19]=0,y[20]=0,y[21]=(3&p.constant_frame_rate)<<6|(7&p.num_temporal_layers)<<3|(p.temporal_id_nested?1:0)<<2|3,y[22]=3,y[23]=128|te.kSliceVPS,y[24]=0,y[25]=1,y[26]=(65280&l.byteLength)>>8,y[27]=(255&l.byteLength)>>0,y.set(l,28),y[23+(5+l.byteLength)+0]=128|te.kSliceSPS,y[23+(5+l.byteLength)+1]=0,y[23+(5+l.byteLength)+2]=1,y[23+(5+l.byteLength)+3]=(65280&c.byteLength)>>8,y[23+(5+l.byteLength)+4]=(255&c.byteLength)>>0,y.set(c,23+(5+l.byteLength)+5),y[23+(5+l.byteLength+5+c.byteLength)+0]=128|te.kSlicePPS,y[23+(5+l.byteLength+5+c.byteLength)+1]=0,y[23+(5+l.byteLength+5+c.byteLength)+2]=1,y[23+(5+l.byteLength+5+c.byteLength)+3]=(65280&s.byteLength)>>8,y[23+(5+l.byteLength+5+c.byteLength)+4]=(255&s.byteLength)>>0,y.set(s,23+(5+l.byteLength+5+c.byteLength)+5)}return d.prototype.getData=function(){return this.data},d}(),Le=(ue=function(d,l){return(ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,s){c.__proto__=s}||function(c,s){for(var p in s)s.hasOwnProperty(p)&&(c[p]=s[p])})(d,l)},function(d,l){function c(){this.constructor=d}ue(d,l),d.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}),ke=function(){return(ke=Object.assign||function(d){for(var l,c=1,s=arguments.length;c<s;c++)for(var p in l=arguments[c])Object.prototype.hasOwnProperty.call(l,p)&&(d[p]=l[p]);return d}).apply(this,arguments)},ze=function(d){function l(c,s){var p=d.call(this)||this;return p.TAG="TSDemuxer",p.first_parse_=!0,p.media_info_=new h.a,p.timescale_=90,p.duration_=0,p.current_pmt_pid_=-1,p.program_pmt_map_={},p.pes_slice_queues_={},p.section_slice_queues_={},p.video_metadata_={vps:void 0,sps:void 0,pps:void 0,details:void 0},p.audio_metadata_={audio_object_type:void 0,sampling_freq_index:void 0,sampling_frequency:void 0,channel_config:void 0},p.aac_last_sample_pts_=void 0,p.aac_last_incomplete_data_=null,p.has_video_=!1,p.has_audio_=!1,p.video_init_segment_dispatched_=!1,p.audio_init_segment_dispatched_=!1,p.video_metadata_changed_=!1,p.audio_metadata_changed_=!1,p.video_track_={type:"video",id:1,sequenceNumber:0,samples:[],length:0},p.audio_track_={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},p.ts_packet_size_=c.ts_packet_size,p.sync_offset_=c.sync_offset,p.config_=s,p}return Le(l,d),l.prototype.destroy=function(){this.media_info_=null,this.pes_slice_queues_=null,this.section_slice_queues_=null,this.video_metadata_=null,this.audio_metadata_=null,this.aac_last_incomplete_data_=null,this.video_track_=null,this.audio_track_=null,d.prototype.destroy.call(this)},l.probe=function(c){var s=new Uint8Array(c),p=-1,g=188;if(s.byteLength<=3*g)return u.a.e("TSDemuxer","Probe data "+s.byteLength+" bytes is too few for judging MPEG-TS stream format!"),{match:!1};for(;p===-1;){for(var y=Math.min(1e3,s.byteLength-3*g),A=0;A<y;){if(s[A]===71&&s[A+g]===71&&s[A+2*g]===71){p=A;break}A++}if(p===-1)if(g===188)g=192;else{if(g!==192)break;g=204}}return p===-1?{match:!1}:(g===192&&p>=4?(u.a.v("TSDemuxer","ts_packet_size = 192, m2ts mode"),p-=4):g===204&&u.a.v("TSDemuxer","ts_packet_size = 204, RS encoded MPEG2-TS stream"),{match:!0,consumed:0,ts_packet_size:g,sync_offset:p})},l.prototype.bindDataSource=function(c){return c.onDataArrival=this.parseChunks.bind(this),this},l.prototype.resetMediaInfo=function(){this.media_info_=new h.a},l.prototype.parseChunks=function(c,s){if(!(this.onError&&this.onMediaInfo&&this.onTrackMetadata&&this.onDataAvailable))throw new T.a("onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var p=0;for(this.first_parse_&&(this.first_parse_=!1,p=this.sync_offset_);p+this.ts_packet_size_<=c.byteLength;){var g=s+p;this.ts_packet_size_===192&&(p+=4);var y=new Uint8Array(c,p,188),A=y[0];if(A!==71){u.a.e(this.TAG,"sync_byte = "+A+", not 0x47");break}var F=(64&y[1])>>>6,j=(y[1],(31&y[1])<<8|y[2]),V=(48&y[3])>>>4,W=15&y[3],H={},K=4;if(V==2||V==3){var ae=y[4];if(5+ae===188){p+=188,this.ts_packet_size_===204&&(p+=16);continue}ae>0&&(H=this.parseAdaptationField(c,p+4,1+ae)),K=5+ae}if(V==1||V==3){if(j===0||j===this.current_pmt_pid_||this.pmt_!=null&&this.pmt_.pid_stream_type[j]===C.kSCTE35){var pe=188-K;this.handleSectionSlice(c,p+K,pe,{pid:j,file_position:g,payload_unit_start_indicator:F,continuity_conunter:W,random_access_indicator:H.random_access_indicator})}else if(this.pmt_!=null&&this.pmt_.pid_stream_type[j]!=null){pe=188-K;var de=this.pmt_.pid_stream_type[j];j!==this.pmt_.common_pids.h264&&j!==this.pmt_.common_pids.h265&&j!==this.pmt_.common_pids.adts_aac&&this.pmt_.pes_private_data_pids[j]!==!0&&this.pmt_.timed_id3_pids[j]!==!0||this.handlePESSlice(c,p+K,pe,{pid:j,stream_type:de,file_position:g,payload_unit_start_indicator:F,continuity_conunter:W,random_access_indicator:H.random_access_indicator})}}p+=188,this.ts_packet_size_===204&&(p+=16)}return this.dispatchAudioVideoMediaSegment(),p},l.prototype.parseAdaptationField=function(c,s,p){var g=new Uint8Array(c,s,p),y=g[0];return y>0?y>183?(u.a.w(this.TAG,"Illegal adaptation_field_length: "+y),{}):{discontinuity_indicator:(128&g[1])>>>7,random_access_indicator:(64&g[1])>>>6,elementary_stream_priority_indicator:(32&g[1])>>>5}:{}},l.prototype.handleSectionSlice=function(c,s,p,g){var y=new Uint8Array(c,s,p),A=this.section_slice_queues_[g.pid];if(g.payload_unit_start_indicator){var F=y[0];if(A!=null&&A.total_length!==0){var j=new Uint8Array(c,s+1,Math.min(p,F));A.slices.push(j),A.total_length+=j.byteLength,A.total_length===A.expected_length?this.emitSectionSlices(A,g):this.clearSlices(A,g)}for(var V=1+F;V<y.byteLength&&y[V+0]!==255;){var W=(15&y[V+1])<<8|y[V+2];this.section_slice_queues_[g.pid]=new N,(A=this.section_slice_queues_[g.pid]).expected_length=W+3,A.file_position=g.file_position,A.random_access_indicator=g.random_access_indicator,j=new Uint8Array(c,s+V,Math.min(p-V,A.expected_length-A.total_length)),A.slices.push(j),A.total_length+=j.byteLength,A.total_length===A.expected_length?this.emitSectionSlices(A,g):A.total_length>=A.expected_length&&this.clearSlices(A,g),V+=j.byteLength}}else A!=null&&A.total_length!==0&&(j=new Uint8Array(c,s,Math.min(p,A.expected_length-A.total_length)),A.slices.push(j),A.total_length+=j.byteLength,A.total_length===A.expected_length?this.emitSectionSlices(A,g):A.total_length>=A.expected_length&&this.clearSlices(A,g))},l.prototype.handlePESSlice=function(c,s,p,g){var y=new Uint8Array(c,s,p),A=y[0]<<16|y[1]<<8|y[2],F=(y[3],y[4]<<8|y[5]);if(g.payload_unit_start_indicator){if(A!==1)return void u.a.e(this.TAG,"handlePESSlice: packet_start_code_prefix should be 1 but with value "+A);var j=this.pes_slice_queues_[g.pid];j&&(j.expected_length===0||j.expected_length===j.total_length?this.emitPESSlices(j,g):this.clearSlices(j,g)),this.pes_slice_queues_[g.pid]=new N,this.pes_slice_queues_[g.pid].file_position=g.file_position,this.pes_slice_queues_[g.pid].random_access_indicator=g.random_access_indicator}if(this.pes_slice_queues_[g.pid]!=null){var V=this.pes_slice_queues_[g.pid];V.slices.push(y),g.payload_unit_start_indicator&&(V.expected_length=F===0?0:F+6),V.total_length+=y.byteLength,V.expected_length>0&&V.expected_length===V.total_length?this.emitPESSlices(V,g):V.expected_length>0&&V.expected_length<V.total_length&&this.clearSlices(V,g)}},l.prototype.emitSectionSlices=function(c,s){for(var p=new Uint8Array(c.total_length),g=0,y=0;g<c.slices.length;g++){var A=c.slices[g];p.set(A,y),y+=A.byteLength}c.slices=[],c.expected_length=-1,c.total_length=0;var F=new M;F.pid=s.pid,F.data=p,F.file_position=c.file_position,F.random_access_indicator=c.random_access_indicator,this.parseSection(F)},l.prototype.emitPESSlices=function(c,s){for(var p=new Uint8Array(c.total_length),g=0,y=0;g<c.slices.length;g++){var A=c.slices[g];p.set(A,y),y+=A.byteLength}c.slices=[],c.expected_length=-1,c.total_length=0;var F=new O;F.pid=s.pid,F.data=p,F.stream_type=s.stream_type,F.file_position=c.file_position,F.random_access_indicator=c.random_access_indicator,this.parsePES(F)},l.prototype.clearSlices=function(c,s){c.slices=[],c.expected_length=-1,c.total_length=0},l.prototype.parseSection=function(c){var s=c.data,p=c.pid;p===0?this.parsePAT(s):p===this.current_pmt_pid_?this.parsePMT(s):this.pmt_!=null&&this.pmt_.scte_35_pids[p]&&this.parseSCTE35(s)},l.prototype.parsePES=function(c){var s=c.data,p=s[0]<<16|s[1]<<8|s[2],g=s[3],y=s[4]<<8|s[5];if(p===1)if(g!==188&&g!==190&&g!==191&&g!==240&&g!==241&&g!==255&&g!==242&&g!==248){s[6];var A=(192&s[7])>>>6,F=s[8],j=void 0,V=void 0;A!==2&&A!==3||(j=536870912*(14&s[9])+4194304*(255&s[10])+16384*(254&s[11])+128*(255&s[12])+(254&s[13])/2,V=A===3?536870912*(14&s[14])+4194304*(255&s[15])+16384*(254&s[16])+128*(255&s[17])+(254&s[18])/2:j);var W=9+F,H=void 0;if(y!==0){if(y<3+F)return void u.a.v(this.TAG,"Malformed PES: PES_packet_length < 3 + PES_header_data_length");H=y-3-F}else H=s.byteLength-W;var K=s.subarray(W,W+H);switch(c.stream_type){case C.kMPEG1Audio:case C.kMPEG2Audio:break;case C.kPESPrivateData:this.parsePESPrivateDataPayload(K,j,V,c.pid,g);break;case C.kADTSAAC:this.parseAACPayload(K,j);break;case C.kID3:this.parseTimedID3MetadataPayload(K,j,V,c.pid,g);break;case C.kH264:this.parseH264Payload(K,j,V,c.file_position,c.random_access_indicator);break;case C.kH265:this.parseH265Payload(K,j,V,c.file_position,c.random_access_indicator)}}else(g===188||g===191||g===240||g===241||g===255||g===242||g===248)&&c.stream_type===C.kPESPrivateData&&(W=6,H=void 0,H=y!==0?y:s.byteLength-W,K=s.subarray(W,W+H),this.parsePESPrivateDataPayload(K,void 0,void 0,c.pid,g));else u.a.e(this.TAG,"parsePES: packet_start_code_prefix should be 1 but with value "+p)},l.prototype.parsePAT=function(c){var s=c[0];if(s===0){var p=(15&c[1])<<8|c[2],g=(c[3],c[4],(62&c[5])>>>1),y=1&c[5],A=c[6],F=(c[7],null);if(y===1&&A===0)(F=new E).version_number=g;else if((F=this.pat_)==null)return;for(var j=p-5-4,V=-1,W=-1,H=8;H<8+j;H+=4){var K=c[H]<<8|c[H+1],ae=(31&c[H+2])<<8|c[H+3];K===0?F.network_pid=ae:(F.program_pmt_pid[K]=ae,V===-1&&(V=K),W===-1&&(W=ae))}y===1&&A===0&&(this.pat_==null&&u.a.v(this.TAG,"Parsed first PAT: "+JSON.stringify(F)),this.pat_=F,this.current_program_=V,this.current_pmt_pid_=W)}else u.a.e(this.TAG,"parsePAT: table_id "+s+" is not corresponded to PAT!")},l.prototype.parsePMT=function(c){var s=c[0];if(s===2){var p=(15&c[1])<<8|c[2],g=c[3]<<8|c[4],y=(62&c[5])>>>1,A=1&c[5],F=c[6],j=(c[7],null);if(A===1&&F===0)(j=new R).program_number=g,j.version_number=y,this.program_pmt_map_[g]=j;else if((j=this.program_pmt_map_[g])==null)return;c[8],c[9];for(var V=(15&c[10])<<8|c[11],W=12+V,H=p-9-V-4,K=W;K<W+H;){var ae=c[K],pe=(31&c[K+1])<<8|c[K+2],de=(15&c[K+3])<<8|c[K+4];if(j.pid_stream_type[pe]=ae,ae!==C.kH264||j.common_pids.h264||j.common_pids.h265)if(ae!==C.kH265||j.common_pids.h264||j.common_pids.h265)if(ae!==C.kADTSAAC||j.common_pids.adts_aac)if(ae===C.kPESPrivateData){if(j.pes_private_data_pids[pe]=!0,de>0){var Ce=c.subarray(K+5,K+5+de);this.dispatchPESPrivateDataDescriptor(pe,ae,Ce)}}else ae===C.kID3?j.timed_id3_pids[pe]=!0:ae===C.kSCTE35&&(j.scte_35_pids[pe]=!0);else j.common_pids.adts_aac=pe;else j.common_pids.h265=pe;else j.common_pids.h264=pe;K+=5+de}g===this.current_program_&&(this.pmt_==null&&u.a.v(this.TAG,"Parsed first PMT: "+JSON.stringify(j)),this.pmt_=j,(j.common_pids.h264||j.common_pids.h265)&&(this.has_video_=!0),j.common_pids.adts_aac&&(this.has_audio_=!0))}else u.a.e(this.TAG,"parsePMT: table_id "+s+" is not corresponded to PMT!")},l.prototype.parseSCTE35=function(c){var s=oe(c);if(s.pts!=null){var p=Math.floor(s.pts/this.timescale_);s.pts=p}else s.nearest_pts=this.aac_last_sample_pts_;this.onSCTE35Metadata&&this.onSCTE35Metadata(s)},l.prototype.parseH264Payload=function(c,s,p,g,y){for(var A=new x(c),F=null,j=[],V=0,W=!1;(F=A.readNextNaluPayload())!=null;){var H=new we(F);if(H.type===b.kSliceSPS){var K=J.parseSPS(F.data);this.video_init_segment_dispatched_?this.detectVideoMetadataChange(H,K)===!0&&(u.a.v(this.TAG,"H264: Critical h264 metadata has been changed, attempt to re-generate InitSegment"),this.video_metadata_changed_=!0,this.video_metadata_={vps:void 0,sps:H,pps:void 0,details:K}):(this.video_metadata_.sps=H,this.video_metadata_.details=K)}else H.type===b.kSlicePPS?this.video_init_segment_dispatched_&&!this.video_metadata_changed_||(this.video_metadata_.pps=H,this.video_metadata_.sps&&this.video_metadata_.pps&&(this.video_metadata_changed_&&this.dispatchVideoMediaSegment(),this.dispatchVideoInitSegment())):(H.type===b.kSliceIDR||H.type===b.kSliceNonIDR&&y===1)&&(W=!0);this.video_init_segment_dispatched_&&(j.push(H),V+=H.data.byteLength)}var ae=Math.floor(s/this.timescale_),pe=Math.floor(p/this.timescale_);if(j.length){var de=this.video_track_,Ce={units:j,length:V,isKeyframe:W,dts:pe,pts:ae,cts:ae-pe,file_position:g};de.samples.push(Ce),de.length+=V}},l.prototype.parseH265Payload=function(c,s,p,g,y){for(var A=new ve(c),F=null,j=[],V=0,W=!1;(F=A.readNextNaluPayload())!=null;){var H=new Se(F);if(H.type===te.kSliceVPS){if(!this.video_init_segment_dispatched_){var K=ee.parseVPS(F.data);this.video_metadata_.vps=H,this.video_metadata_.details=ke(ke({},this.video_metadata_.details),K)}}else H.type===te.kSliceSPS?(K=ee.parseSPS(F.data),this.video_init_segment_dispatched_?this.detectVideoMetadataChange(H,K)===!0&&(u.a.v(this.TAG,"H265: Critical h265 metadata has been changed, attempt to re-generate InitSegment"),this.video_metadata_changed_=!0,this.video_metadata_={vps:void 0,sps:H,pps:void 0,details:K}):(this.video_metadata_.sps=H,this.video_metadata_.details=ke(ke({},this.video_metadata_.details),K))):H.type===te.kSlicePPS?(!this.video_init_segment_dispatched_||this.video_metadata_changed_)&&(K=ee.parsePPS(F.data),this.video_metadata_.pps=H,this.video_metadata_.details=ke(ke({},this.video_metadata_.details),K),this.video_metadata_.vps&&this.video_metadata_.sps&&this.video_metadata_.pps&&(this.video_metadata_changed_&&this.dispatchVideoMediaSegment(),this.dispatchVideoInitSegment())):H.type!==te.kSliceIDR_W_RADL&&H.type!==te.kSliceIDR_N_LP||(W=!0);this.video_init_segment_dispatched_&&(j.push(H),V+=H.data.byteLength)}var ae=Math.floor(s/this.timescale_),pe=Math.floor(p/this.timescale_);if(j.length){var de=this.video_track_,Ce={units:j,length:V,isKeyframe:W,dts:pe,pts:ae,cts:ae-pe,file_position:g};de.samples.push(Ce),de.length+=V}},l.prototype.detectVideoMetadataChange=function(c,s){if(s.codec_mimetype!==this.video_metadata_.details.codec_mimetype)return u.a.v(this.TAG,"Video: Codec mimeType changed from "+this.video_metadata_.details.codec_mimetype+" to "+s.codec_mimetype),!0;if(s.codec_size.width!==this.video_metadata_.details.codec_size.width||s.codec_size.height!==this.video_metadata_.details.codec_size.height){var p=this.video_metadata_.details.codec_size,g=s.codec_size;return u.a.v(this.TAG,"Video: Coded Resolution changed from "+p.width+"x"+p.height+" to "+g.width+"x"+g.height),!0}return s.present_size.width!==this.video_metadata_.details.present_size.width&&(u.a.v(this.TAG,"Video: Present resolution width changed from "+this.video_metadata_.details.present_size.width+" to "+s.present_size.width),!0)},l.prototype.isInitSegmentDispatched=function(){return this.has_video_&&this.has_audio_?this.video_init_segment_dispatched_&&this.audio_init_segment_dispatched_:this.has_video_&&!this.has_audio_?this.video_init_segment_dispatched_:!(this.has_video_||!this.has_audio_)&&this.audio_init_segment_dispatched_},l.prototype.dispatchVideoInitSegment=function(){var c=this.video_metadata_.details,s={type:"video"};s.id=this.video_track_.id,s.timescale=1e3,s.duration=this.duration_,s.codecWidth=c.codec_size.width,s.codecHeight=c.codec_size.height,s.presentWidth=c.present_size.width,s.presentHeight=c.present_size.height,s.profile=c.profile_string,s.level=c.level_string,s.bitDepth=c.bit_depth,s.chromaFormat=c.chroma_format,s.sarRatio=c.sar_ratio,s.frameRate=c.frame_rate;var p=s.frameRate.fps_den,g=s.frameRate.fps_num;if(s.refSampleDuration=p/g*1e3,s.codec=c.codec_mimetype,this.video_metadata_.vps){var y=this.video_metadata_.vps.data.subarray(4),A=this.video_metadata_.sps.data.subarray(4),F=this.video_metadata_.pps.data.subarray(4),j=new Ae(y,A,F,c);s.hvcc=j.getData(),this.video_init_segment_dispatched_==0&&u.a.v(this.TAG,"Generated first HEVCDecoderConfigurationRecord for mimeType: "+s.codec)}else{A=this.video_metadata_.sps.data.subarray(4),F=this.video_metadata_.pps.data.subarray(4);var V=new v(A,F,c);s.avcc=V.getData(),this.video_init_segment_dispatched_==0&&u.a.v(this.TAG,"Generated first AVCDecoderConfigurationRecord for mimeType: "+s.codec)}this.onTrackMetadata("video",s),this.video_init_segment_dispatched_=!0,this.video_metadata_changed_=!1;var W=this.media_info_;W.hasVideo=!0,W.width=s.codecWidth,W.height=s.codecHeight,W.fps=s.frameRate.fps,W.profile=s.profile,W.level=s.level,W.refFrames=c.ref_frames,W.chromaFormat=c.chroma_format_string,W.sarNum=s.sarRatio.width,W.sarDen=s.sarRatio.height,W.videoCodec=s.codec,W.hasAudio&&W.audioCodec?W.mimeType='video/mp2t; codecs="'+W.videoCodec+","+W.audioCodec+'"':W.mimeType='video/mp2t; codecs="'+W.videoCodec+'"',W.isComplete()&&this.onMediaInfo(W)},l.prototype.dispatchVideoMediaSegment=function(){this.isInitSegmentDispatched()&&this.video_track_.length&&this.onDataAvailable(null,this.video_track_)},l.prototype.dispatchAudioMediaSegment=function(){this.isInitSegmentDispatched()&&this.audio_track_.length&&this.onDataAvailable(this.audio_track_,null)},l.prototype.dispatchAudioVideoMediaSegment=function(){this.isInitSegmentDispatched()&&(this.audio_track_.length||this.video_track_.length)&&this.onDataAvailable(this.audio_track_,this.video_track_)},l.prototype.parseAACPayload=function(c,s){if(!this.has_video_||this.video_init_segment_dispatched_){if(this.aac_last_incomplete_data_){var p=new Uint8Array(c.byteLength+this.aac_last_incomplete_data_.byteLength);p.set(this.aac_last_incomplete_data_,0),p.set(c,this.aac_last_incomplete_data_.byteLength),c=p}var g,y;if(s!=null)y=s/this.timescale_;else{if(this.aac_last_sample_pts_==null)return void u.a.w(this.TAG,"AAC: Unknown pts");g=1024/this.audio_metadata_.sampling_frequency*1e3,y=this.aac_last_sample_pts_+g}if(this.aac_last_incomplete_data_&&this.aac_last_sample_pts_){g=1024/this.audio_metadata_.sampling_frequency*1e3;var A=this.aac_last_sample_pts_+g;Math.abs(A-y)>1&&(u.a.w(this.TAG,"AAC: Detected pts overlapped, expected: "+A+"ms, PES pts: "+y+"ms"),y=A)}for(var F,j=new Ee(c),V=null,W=y;(V=j.readNextAACFrame())!=null;){g=1024/V.sampling_frequency*1e3,this.audio_init_segment_dispatched_==0?(this.audio_metadata_.audio_object_type=V.audio_object_type,this.audio_metadata_.sampling_freq_index=V.sampling_freq_index,this.audio_metadata_.sampling_frequency=V.sampling_frequency,this.audio_metadata_.channel_config=V.channel_config,this.dispatchAudioInitSegment(V)):this.detectAudioMetadataChange(V)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(V)),F=W;var H=Math.floor(W),K={unit:V.data,length:V.data.byteLength,pts:H,dts:H};this.audio_track_.samples.push(K),this.audio_track_.length+=V.data.byteLength,W+=g}j.hasIncompleteData()&&(this.aac_last_incomplete_data_=j.getIncompleteData()),F&&(this.aac_last_sample_pts_=F)}},l.prototype.detectAudioMetadataChange=function(c){return c.audio_object_type!==this.audio_metadata_.audio_object_type?(u.a.v(this.TAG,"AAC: AudioObjectType changed from "+this.audio_metadata_.audio_object_type+" to "+c.audio_object_type),!0):c.sampling_freq_index!==this.audio_metadata_.sampling_freq_index?(u.a.v(this.TAG,"AAC: SamplingFrequencyIndex changed from "+this.audio_metadata_.sampling_freq_index+" to "+c.sampling_freq_index),!0):c.channel_config!==this.audio_metadata_.channel_config&&(u.a.v(this.TAG,"AAC: Channel configuration changed from "+this.audio_metadata_.channel_config+" to "+c.channel_config),!0)},l.prototype.dispatchAudioInitSegment=function(c){var s=new Be(c),p={type:"audio"};p.id=this.audio_track_.id,p.timescale=1e3,p.duration=this.duration_,p.audioSampleRate=s.sampling_rate,p.channelCount=s.channel_count,p.codec=s.codec_mimetype,p.originalCodec=s.original_codec_mimetype,p.config=s.config,p.refSampleDuration=1024/p.audioSampleRate*p.timescale,this.audio_init_segment_dispatched_==0&&u.a.v(this.TAG,"Generated first AudioSpecificConfig for mimeType: "+p.codec),this.onTrackMetadata("audio",p),this.audio_init_segment_dispatched_=!0,this.video_metadata_changed_=!1;var g=this.media_info_;g.hasAudio=!0,g.audioCodec=p.originalCodec,g.audioSampleRate=p.audioSampleRate,g.audioChannelCount=p.channelCount,g.hasVideo&&g.videoCodec?g.mimeType='video/mp2t; codecs="'+g.videoCodec+","+g.audioCodec+'"':g.mimeType='video/mp2t; codecs="'+g.audioCodec+'"',g.isComplete()&&this.onMediaInfo(g)},l.prototype.dispatchPESPrivateDataDescriptor=function(c,s,p){var g=new $;g.pid=c,g.stream_type=s,g.descriptor=p,this.onPESPrivateDataDescriptor&&this.onPESPrivateDataDescriptor(g)},l.prototype.parsePESPrivateDataPayload=function(c,s,p,g,y){var A=new Xe;if(A.pid=g,A.stream_id=y,A.len=c.byteLength,A.data=c,s!=null){var F=Math.floor(s/this.timescale_);A.pts=F}else A.nearest_pts=this.aac_last_sample_pts_;if(p!=null){var j=Math.floor(p/this.timescale_);A.dts=j}this.onPESPrivateData&&this.onPESPrivateData(A)},l.prototype.parseTimedID3MetadataPayload=function(c,s,p,g,y){var A=new Xe;if(A.pid=g,A.stream_id=y,A.len=c.byteLength,A.data=c,s!=null){var F=Math.floor(s/this.timescale_);A.pts=F}if(p!=null){var j=Math.floor(p/this.timescale_);A.dts=j}this.onTimedID3Metadata&&this.onTimedID3Metadata(A)},l}(I),Fe=function(){function d(){}return d.init=function(){for(var l in d.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],hvc1:[],hvcC:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]},d.types)d.types.hasOwnProperty(l)&&(d.types[l]=[l.charCodeAt(0),l.charCodeAt(1),l.charCodeAt(2),l.charCodeAt(3)]);var c=d.constants={};c.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),c.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),c.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),c.STSC=c.STCO=c.STTS,c.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),c.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),c.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),c.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),c.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),c.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},d.box=function(l){for(var c=8,s=null,p=Array.prototype.slice.call(arguments,1),g=p.length,y=0;y<g;y++)c+=p[y].byteLength;(s=new Uint8Array(c))[0]=c>>>24&255,s[1]=c>>>16&255,s[2]=c>>>8&255,s[3]=255&c,s.set(l,4);var A=8;for(y=0;y<g;y++)s.set(p[y],A),A+=p[y].byteLength;return s},d.generateInitSegment=function(l){var c=d.box(d.types.ftyp,d.constants.FTYP),s=d.moov(l),p=new Uint8Array(c.byteLength+s.byteLength);return p.set(c,0),p.set(s,c.byteLength),p},d.moov=function(l){var c=d.mvhd(l.timescale,l.duration),s=d.trak(l),p=d.mvex(l);return d.box(d.types.moov,c,s,p)},d.mvhd=function(l,c){return d.box(d.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,255&l,c>>>24&255,c>>>16&255,c>>>8&255,255&c,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},d.trak=function(l){return d.box(d.types.trak,d.tkhd(l),d.mdia(l))},d.tkhd=function(l){var c=l.id,s=l.duration,p=l.presentWidth,g=l.presentHeight;return d.box(d.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,c>>>24&255,c>>>16&255,c>>>8&255,255&c,0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,p>>>8&255,255&p,0,0,g>>>8&255,255&g,0,0]))},d.mdia=function(l){return d.box(d.types.mdia,d.mdhd(l),d.hdlr(l),d.minf(l))},d.mdhd=function(l){var c=l.timescale,s=l.duration;return d.box(d.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,c>>>24&255,c>>>16&255,c>>>8&255,255&c,s>>>24&255,s>>>16&255,s>>>8&255,255&s,85,196,0,0]))},d.hdlr=function(l){var c=null;return c=l.type==="audio"?d.constants.HDLR_AUDIO:d.constants.HDLR_VIDEO,d.box(d.types.hdlr,c)},d.minf=function(l){var c=null;return c=l.type==="audio"?d.box(d.types.smhd,d.constants.SMHD):d.box(d.types.vmhd,d.constants.VMHD),d.box(d.types.minf,c,d.dinf(),d.stbl(l))},d.dinf=function(){return d.box(d.types.dinf,d.box(d.types.dref,d.constants.DREF))},d.stbl=function(l){return d.box(d.types.stbl,d.stsd(l),d.box(d.types.stts,d.constants.STTS),d.box(d.types.stsc,d.constants.STSC),d.box(d.types.stsz,d.constants.STSZ),d.box(d.types.stco,d.constants.STCO))},d.stsd=function(l){return l.type==="audio"?l.codec==="mp3"?d.box(d.types.stsd,d.constants.STSD_PREFIX,d.mp3(l)):d.box(d.types.stsd,d.constants.STSD_PREFIX,d.mp4a(l)):l.type==="video"&&l.codec.startsWith("hvc1")?d.box(d.types.stsd,d.constants.STSD_PREFIX,d.hvc1(l)):d.box(d.types.stsd,d.constants.STSD_PREFIX,d.avc1(l))},d.mp3=function(l){var c=l.channelCount,s=l.audioSampleRate,p=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,c,0,16,0,0,0,0,s>>>8&255,255&s,0,0]);return d.box(d.types[".mp3"],p)},d.mp4a=function(l){var c=l.channelCount,s=l.audioSampleRate,p=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,c,0,16,0,0,0,0,s>>>8&255,255&s,0,0]);return d.box(d.types.mp4a,p,d.esds(l))},d.esds=function(l){var c=l.config||[],s=c.length,p=new Uint8Array([0,0,0,0,3,23+s,0,1,0,4,15+s,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([s]).concat(c).concat([6,1,2]));return d.box(d.types.esds,p)},d.avc1=function(l){var c=l.avcc,s=l.codecWidth,p=l.codecHeight,g=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s>>>8&255,255&s,p>>>8&255,255&p,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return d.box(d.types.avc1,g,d.box(d.types.avcC,c))},d.hvc1=function(l){var c=l.hvcc,s=l.codecWidth,p=l.codecHeight,g=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s>>>8&255,255&s,p>>>8&255,255&p,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return d.box(d.types.hvc1,g,d.box(d.types.hvcC,c))},d.mvex=function(l){return d.box(d.types.mvex,d.trex(l))},d.trex=function(l){var c=l.id,s=new Uint8Array([0,0,0,0,c>>>24&255,c>>>16&255,c>>>8&255,255&c,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return d.box(d.types.trex,s)},d.moof=function(l,c){return d.box(d.types.moof,d.mfhd(l.sequenceNumber),d.traf(l,c))},d.mfhd=function(l){var c=new Uint8Array([0,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,255&l]);return d.box(d.types.mfhd,c)},d.traf=function(l,c){var s=l.id,p=d.box(d.types.tfhd,new Uint8Array([0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),g=d.box(d.types.tfdt,new Uint8Array([0,0,0,0,c>>>24&255,c>>>16&255,c>>>8&255,255&c])),y=d.sdtp(l),A=d.trun(l,y.byteLength+16+16+8+16+8+8);return d.box(d.types.traf,p,g,A,y)},d.sdtp=function(l){for(var c=l.samples||[],s=c.length,p=new Uint8Array(4+s),g=0;g<s;g++){var y=c[g].flags;p[g+4]=y.isLeading<<6|y.dependsOn<<4|y.isDependedOn<<2|y.hasRedundancy}return d.box(d.types.sdtp,p)},d.trun=function(l,c){var s=l.samples||[],p=s.length,g=12+16*p,y=new Uint8Array(g);c+=8+g,y.set([0,0,15,1,p>>>24&255,p>>>16&255,p>>>8&255,255&p,c>>>24&255,c>>>16&255,c>>>8&255,255&c],0);for(var A=0;A<p;A++){var F=s[A].duration,j=s[A].size,V=s[A].flags,W=s[A].cts;y.set([F>>>24&255,F>>>16&255,F>>>8&255,255&F,j>>>24&255,j>>>16&255,j>>>8&255,255&j,V.isLeading<<2|V.dependsOn,V.isDependedOn<<6|V.hasRedundancy<<4|V.isNonSync,0,0,W>>>24&255,W>>>16&255,W>>>8&255,255&W],12+16*A)}return d.box(d.types.trun,y)},d.mdat=function(l){return d.box(d.types.mdat,l)},d}();Fe.init();var Ke=Fe,mt=function(){function d(){}return d.getSilentFrame=function(l,c){if(l==="mp4a.40.2"){if(c===1)return new Uint8Array([0,200,0,128,35,128]);if(c===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(c===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(c===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(c===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(c===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(c===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(c===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(c===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},d}(),lt=r(7),Un=function(){function d(l){this.TAG="MP4Remuxer",this._config=l,this._isLive=l.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new lt.c("audio"),this._videoSegmentInfoList=new lt.c("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!f.a.chrome||!(f.a.version.major<50||f.a.version.major===50&&f.a.version.build<2661)),this._fillSilentAfterSeek=f.a.msedge||f.a.msie,this._mp3UseMpegAudio=!f.a.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return d.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},d.prototype.bindDataSource=function(l){return l.onDataAvailable=this.remux.bind(this),l.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(d.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(l){this._onInitSegment=l},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(l){this._onMediaSegment=l},enumerable:!1,configurable:!0}),d.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},d.prototype.seek=function(l){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},d.prototype.remux=function(l,c){if(!this._onMediaSegment)throw new T.a("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(l,c),c&&this._remuxVideo(c),l&&this._remuxAudio(l)},d.prototype._onTrackMetadataReceived=function(l,c){var s=null,p="mp4",g=c.codec;if(l==="audio")this._audioMeta=c,c.codec==="mp3"&&this._mp3UseMpegAudio?(p="mpeg",g="",s=new Uint8Array):s=Ke.generateInitSegment(c);else{if(l!=="video")return;this._videoMeta=c,s=Ke.generateInitSegment(c)}if(!this._onInitSegment)throw new T.a("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(l,{type:l,data:s.buffer,codec:g,container:l+"/"+p,mediaDuration:c.duration})},d.prototype._calculateDtsBase=function(l,c){this._dtsBaseInited||(l&&l.samples&&l.samples.length&&(this._audioDtsBase=l.samples[0].dts),c&&c.samples&&c.samples.length&&(this._videoDtsBase=c.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},d.prototype.getTimestampBase=function(){if(this._dtsBaseInited)return this._dtsBase},d.prototype.flushStashedSamples=function(){var l=this._videoStashedLastSample,c=this._audioStashedLastSample,s={type:"video",id:1,sequenceNumber:0,samples:[],length:0};l!=null&&(s.samples.push(l),s.length=l.length);var p={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};c!=null&&(p.samples.push(c),p.length=c.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(s,!0),this._remuxAudio(p,!0)},d.prototype._remuxAudio=function(l,c){if(this._audioMeta!=null){var s,p=l,g=p.samples,y=void 0,A=-1,F=this._audioMeta.refSampleDuration,j=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,V=this._dtsBaseInited&&this._audioNextDts===void 0,W=!1;if(g&&g.length!==0&&(g.length!==1||c)){var H=0,K=null,ae=0;j?(H=0,ae=p.length):(H=8,ae=8+p.length);var pe=null;if(g.length>1&&(ae-=(pe=g.pop()).length),this._audioStashedLastSample!=null){var de=this._audioStashedLastSample;this._audioStashedLastSample=null,g.unshift(de),ae+=de.length}pe!=null&&(this._audioStashedLastSample=pe);var Ce=g[0].dts-this._dtsBase;if(this._audioNextDts)y=Ce-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())y=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(W=!0);else{var ge=this._audioSegmentInfoList.getLastSampleBefore(Ce);if(ge!=null){var Oe=Ce-(ge.originalDts+ge.duration);Oe<=3&&(Oe=0),y=Ce-(ge.dts+ge.duration+Oe)}else y=0}if(W){var Me=Ce-y,fe=this._videoSegmentInfoList.getLastSegmentBefore(Ce);if(fe!=null&&fe.beginDts<Me){if(ut=mt.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount)){var be=fe.beginDts,Ye=Me-fe.beginDts;u.a.v(this.TAG,"InsertPrefixSilentAudio: dts: "+be+", duration: "+Ye),g.unshift({unit:ut,dts:be,pts:be}),ae+=ut.byteLength}}else W=!1}for(var Ge=[],Ze=0;Ze<g.length;Ze++){var Ie=(de=g[Ze]).unit,qe=de.dts-this._dtsBase,$e=(be=qe,!1),Pe=null,je=0;if(!(qe<-.001)){if(this._audioMeta.codec!=="mp3"){var et=qe;if(this._audioNextDts&&(et=this._audioNextDts),(y=qe-et)<=-3*F){u.a.w(this.TAG,"Dropping 1 audio frame (originalDts: "+qe+" ms ,curRefDts: "+et+" ms)  due to dtsCorrection: "+y+" ms overlap.");continue}if(y>=3*F&&this._fillAudioTimestampGap&&!f.a.safari){$e=!0;var ut,zt=Math.floor(y/F);u.a.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
originalDts: `+qe+" ms, curRefDts: "+et+" ms, dtsCorrection: "+Math.round(y)+" ms, generate: "+zt+" frames"),be=Math.floor(et),je=Math.floor(et+F)-be,(ut=mt.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount))==null&&(u.a.w(this.TAG,"Unable to generate silent frame for "+this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame"),ut=Ie),Pe=[];for(var At=0;At<zt;At++){et+=F;var Qe=Math.floor(et),yn=Math.floor(et+F)-Qe,Ht={dts:Qe,pts:Qe,cts:0,unit:ut,size:ut.byteLength,duration:yn,originalDts:qe,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};Pe.push(Ht),ae+=Ht.size}this._audioNextDts=et+F}else be=Math.floor(et),je=Math.floor(et+F)-be,this._audioNextDts=et+F}else be=qe-y,Ze!==g.length-1?je=g[Ze+1].dts-this._dtsBase-y-be:pe!=null?je=pe.dts-this._dtsBase-y-be:je=Ge.length>=1?Ge[Ge.length-1].duration:Math.floor(F),this._audioNextDts=be+je;A===-1&&(A=be),Ge.push({dts:be,pts:be,cts:0,unit:de.unit,size:de.unit.byteLength,duration:je,originalDts:qe,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),$e&&Ge.push.apply(Ge,Pe)}}if(Ge.length===0)return p.samples=[],void(p.length=0);for(j?K=new Uint8Array(ae):((K=new Uint8Array(ae))[0]=ae>>>24&255,K[1]=ae>>>16&255,K[2]=ae>>>8&255,K[3]=255&ae,K.set(Ke.types.mdat,4)),Ze=0;Ze<Ge.length;Ze++)Ie=Ge[Ze].unit,K.set(Ie,H),H+=Ie.byteLength;var ft=Ge[Ge.length-1];s=ft.dts+ft.duration;var ot=new lt.b;ot.beginDts=A,ot.endDts=s,ot.beginPts=A,ot.endPts=s,ot.originalBeginDts=Ge[0].originalDts,ot.originalEndDts=ft.originalDts+ft.duration,ot.firstSample=new lt.d(Ge[0].dts,Ge[0].pts,Ge[0].duration,Ge[0].originalDts,!1),ot.lastSample=new lt.d(ft.dts,ft.pts,ft.duration,ft.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(ot),p.samples=Ge,p.sequenceNumber++;var qt=null;qt=j?new Uint8Array:Ke.moof(p,A),p.samples=[],p.length=0;var Bt={type:"audio",data:this._mergeBoxes(qt,K).buffer,sampleCount:Ge.length,info:ot};j&&V&&(Bt.timestampOffset=A),this._onMediaSegment("audio",Bt)}}},d.prototype._remuxVideo=function(l,c){if(this._videoMeta!=null){var s,p,g=l,y=g.samples,A=void 0,F=-1,j=-1;if(y&&y.length!==0&&(y.length!==1||c)){var V=8,W=null,H=8+l.length,K=null;if(y.length>1&&(H-=(K=y.pop()).length),this._videoStashedLastSample!=null){var ae=this._videoStashedLastSample;this._videoStashedLastSample=null,y.unshift(ae),H+=ae.length}K!=null&&(this._videoStashedLastSample=K);var pe=y[0].dts-this._dtsBase;if(this._videoNextDts)A=pe-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())A=0;else{var de=this._videoSegmentInfoList.getLastSampleBefore(pe);if(de!=null){var Ce=pe-(de.originalDts+de.duration);Ce<=3&&(Ce=0),A=pe-(de.dts+de.duration+Ce)}else A=0}for(var ge=new lt.b,Oe=[],Me=0;Me<y.length;Me++){var fe=(ae=y[Me]).dts-this._dtsBase,be=ae.isKeyframe,Ye=fe-A,Ge=ae.cts,Ze=Ye+Ge;F===-1&&(F=Ye,j=Ze);var Ie=0;if(Me!==y.length-1?Ie=y[Me+1].dts-this._dtsBase-A-Ye:K!=null?Ie=K.dts-this._dtsBase-A-Ye:Ie=Oe.length>=1?Oe[Oe.length-1].duration:Math.floor(this._videoMeta.refSampleDuration),be){var qe=new lt.d(Ye,Ze,Ie,ae.dts,!0);qe.fileposition=ae.fileposition,ge.appendSyncPoint(qe)}Oe.push({dts:Ye,pts:Ze,cts:Ge,units:ae.units,size:ae.length,isKeyframe:be,duration:Ie,originalDts:fe,flags:{isLeading:0,dependsOn:be?2:1,isDependedOn:be?1:0,hasRedundancy:0,isNonSync:be?0:1}})}for((W=new Uint8Array(H))[0]=H>>>24&255,W[1]=H>>>16&255,W[2]=H>>>8&255,W[3]=255&H,W.set(Ke.types.mdat,4),Me=0;Me<Oe.length;Me++)for(var $e=Oe[Me].units;$e.length;){var Pe=$e.shift().data;W.set(Pe,V),V+=Pe.byteLength}var je=Oe[Oe.length-1];if(s=je.dts+je.duration,p=je.pts+je.duration,this._videoNextDts=s,ge.beginDts=F,ge.endDts=s,ge.beginPts=j,ge.endPts=p,ge.originalBeginDts=Oe[0].originalDts,ge.originalEndDts=je.originalDts+je.duration,ge.firstSample=new lt.d(Oe[0].dts,Oe[0].pts,Oe[0].duration,Oe[0].originalDts,Oe[0].isKeyframe),ge.lastSample=new lt.d(je.dts,je.pts,je.duration,je.originalDts,je.isKeyframe),this._isLive||this._videoSegmentInfoList.append(ge),g.samples=Oe,g.sequenceNumber++,this._forceFirstIDR){var et=Oe[0].flags;et.dependsOn=2,et.isNonSync=0}var ut=Ke.moof(g,F);g.samples=[],g.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(ut,W).buffer,sampleCount:Oe.length,info:ge})}}},d.prototype._mergeBoxes=function(l,c){var s=new Uint8Array(l.byteLength+c.byteLength);return s.set(l,0),s.set(c,l.byteLength),s},d}(),sn=r(11),nt=r(1),dt=function(){function d(l,c){this.TAG="TransmuxingController",this._emitter=new a.a,this._config=c,l.segments||(l.segments=[{duration:l.duration,filesize:l.filesize,url:l.url}]),typeof l.cors!="boolean"&&(l.cors=!0),typeof l.withCredentials!="boolean"&&(l.withCredentials=!1),this._mediaDataSource=l,this._currentSegmentIndex=0;var s=0;this._mediaDataSource.segments.forEach(function(p){p.timestampBase=s,s+=p.duration,p.cors=l.cors,p.withCredentials=l.withCredentials,c.referrerPolicy&&(p.referrerPolicy=c.referrerPolicy)}),isNaN(s)||this._mediaDataSource.duration===s||(this._mediaDataSource.duration=s),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return d.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},d.prototype.on=function(l,c){this._emitter.addListener(l,c)},d.prototype.off=function(l,c){this._emitter.removeListener(l,c)},d.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},d.prototype._loadSegment=function(l,c){this._currentSegmentIndex=l;var s=this._mediaDataSource.segments[l],p=this._ioctl=new sn.a(s,this._config,l);p.onError=this._onIOException.bind(this),p.onSeeked=this._onIOSeeked.bind(this),p.onComplete=this._onIOComplete.bind(this),p.onRedirect=this._onIORedirect.bind(this),p.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),c?this._demuxer.bindDataSource(this._ioctl):p.onDataArrival=this._onInitChunkArrival.bind(this),p.open(c)},d.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},d.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},d.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},d.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},d.prototype.seek=function(l){if(this._mediaInfo!=null&&this._mediaInfo.isSeekable()){var c=this._searchSegmentIndexContains(l);if(c===this._currentSegmentIndex){var s=this._mediaInfo.segments[c];if(s==null)this._pendingSeekTime=l;else{var p=s.getNearestKeyframe(l);this._remuxer.seek(p.milliseconds),this._ioctl.seek(p.fileposition),this._pendingResolveSeekPoint=p.milliseconds}}else{var g=this._mediaInfo.segments[c];g==null?(this._pendingSeekTime=l,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(c)):(p=g.getNearestKeyframe(l),this._internalAbort(),this._remuxer.seek(l),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[c].timestampBase,this._loadSegment(c,p.fileposition),this._pendingResolveSeekPoint=p.milliseconds,this._reportSegmentMediaInfo(c))}this._enableStatisticsReporter()}},d.prototype._searchSegmentIndexContains=function(l){for(var c=this._mediaDataSource.segments,s=c.length-1,p=0;p<c.length;p++)if(l<c[p].timestampBase){s=p-1;break}return s},d.prototype._onInitChunkArrival=function(l,c){var s=this,p=null,g=0;if(c>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,g=this._demuxer.parseChunks(l,c);else if((p=ze.probe(l)).match){var y=this._demuxer=new ze(p,this._config);this._remuxer||(this._remuxer=new Un(this._config)),y.onError=this._onDemuxException.bind(this),y.onMediaInfo=this._onMediaInfo.bind(this),y.onMetaDataArrived=this._onMetaDataArrived.bind(this),y.onTimedID3Metadata=this._onTimedID3Metadata.bind(this),y.onSCTE35Metadata=this._onSCTE35Metadata.bind(this),y.onPESPrivateDataDescriptor=this._onPESPrivateDataDescriptor.bind(this),y.onPESPrivateData=this._onPESPrivateData.bind(this),this._remuxer.bindDataSource(this._demuxer),this._demuxer.bindDataSource(this._ioctl),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),g=this._demuxer.parseChunks(l,c)}else if((p=Y.probe(l)).match){this._demuxer=new Y(p,this._config),this._remuxer||(this._remuxer=new Un(this._config));var A=this._mediaDataSource;A.duration==null||isNaN(A.duration)||(this._demuxer.overridedDuration=A.duration),typeof A.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=A.hasAudio),typeof A.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=A.hasVideo),this._demuxer.timestampBase=A.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),g=this._demuxer.parseChunks(l,c)}else p=null,u.a.e(this.TAG,"Non MPEG-TS/FLV, Unsupported media type!"),Promise.resolve().then(function(){s._internalAbort()}),this._emitter.emit(nt.a.DEMUX_ERROR,Z.a.FORMAT_UNSUPPORTED,"Non MPEG-TS/FLV, Unsupported media type!"),g=0;return g},d.prototype._onMediaInfo=function(l){var c=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},l),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,h.a.prototype));var s=Object.assign({},l);Object.setPrototypeOf(s,h.a.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=s,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then(function(){var p=c._pendingSeekTime;c._pendingSeekTime=null,c.seek(p)})},d.prototype._onMetaDataArrived=function(l){this._emitter.emit(nt.a.METADATA_ARRIVED,l)},d.prototype._onScriptDataArrived=function(l){this._emitter.emit(nt.a.SCRIPTDATA_ARRIVED,l)},d.prototype._onTimedID3Metadata=function(l){var c=this._remuxer.getTimestampBase();c!=null&&(l.pts!=null&&(l.pts-=c),l.dts!=null&&(l.dts-=c),this._emitter.emit(nt.a.TIMED_ID3_METADATA_ARRIVED,l))},d.prototype._onSCTE35Metadata=function(l){var c=this._remuxer.getTimestampBase();c!=null&&(l.pts!=null&&(l.pts-=c),l.nearest_pts!=null&&(l.nearest_pts-=c),this._emitter.emit(nt.a.SCTE35_METADATA_ARRIVED,l))},d.prototype._onPESPrivateDataDescriptor=function(l){this._emitter.emit(nt.a.PES_PRIVATE_DATA_DESCRIPTOR,l)},d.prototype._onPESPrivateData=function(l){var c=this._remuxer.getTimestampBase();c!=null&&(l.pts!=null&&(l.pts-=c),l.nearest_pts!=null&&(l.nearest_pts-=c),l.dts!=null&&(l.dts-=c),this._emitter.emit(nt.a.PES_PRIVATE_DATA_ARRIVED,l))},d.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},d.prototype._onIOComplete=function(l){var c=l+1;c<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer&&this._remuxer.flushStashedSamples(),this._loadSegment(c)):(this._remuxer&&this._remuxer.flushStashedSamples(),this._emitter.emit(nt.a.LOADING_COMPLETE),this._disableStatisticsReporter())},d.prototype._onIORedirect=function(l){var c=this._ioctl.extraData;this._mediaDataSource.segments[c].redirectedURL=l},d.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(nt.a.RECOVERED_EARLY_EOF)},d.prototype._onIOException=function(l,c){u.a.e(this.TAG,"IOException: type = "+l+", code = "+c.code+", msg = "+c.msg),this._emitter.emit(nt.a.IO_ERROR,l,c),this._disableStatisticsReporter()},d.prototype._onDemuxException=function(l,c){u.a.e(this.TAG,"DemuxException: type = "+l+", info = "+c),this._emitter.emit(nt.a.DEMUX_ERROR,l,c)},d.prototype._onRemuxerInitSegmentArrival=function(l,c){this._emitter.emit(nt.a.INIT_SEGMENT,l,c)},d.prototype._onRemuxerMediaSegmentArrival=function(l,c){if(this._pendingSeekTime==null&&(this._emitter.emit(nt.a.MEDIA_SEGMENT,l,c),this._pendingResolveSeekPoint!=null&&l==="video")){var s=c.info.syncPoints,p=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,f.a.safari&&s.length>0&&s[0].originalDts===p&&(p=s[0].pts),this._emitter.emit(nt.a.RECOMMEND_SEEKPOINT,p)}},d.prototype._enableStatisticsReporter=function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},d.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},d.prototype._reportSegmentMediaInfo=function(l){var c=this._mediaInfo.segments[l],s=Object.assign({},c);s.duration=this._mediaInfo.duration,s.segmentCount=this._mediaInfo.segmentCount,delete s.segments,delete s.keyframesIndex,this._emitter.emit(nt.a.MEDIA_INFO,s)},d.prototype._reportStatisticsInfo=function(){var l={};l.url=this._ioctl.currentURL,l.hasRedirect=this._ioctl.hasRedirect,l.hasRedirect&&(l.redirectedURL=this._ioctl.currentRedirectedURL),l.speed=this._ioctl.currentSpeed,l.loaderType=this._ioctl.loaderType,l.currentSegmentIndex=this._currentSegmentIndex,l.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(nt.a.STATISTICS_INFO,l)},d}();i.a=dt},function(n,i,r){var o,a=r(0),u=function(){function I(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return I.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},I.prototype.addBytes=function(E){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=E,this._totalBytes+=E):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=E,this._totalBytes+=E):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=E,this._totalBytes+=E,this._lastCheckpoint=this._now())},Object.defineProperty(I.prototype,"currentKBps",{get:function(){this.addBytes(0);var E=(this._now()-this._lastCheckpoint)/1e3;return E==0&&(E=1),this._intervalBytes/E/1024},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"averageKBps",{get:function(){var E=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/E/1024},enumerable:!1,configurable:!0}),I}(),f=r(2),h=r(4),_=r(3),m=(o=function(I,E){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,R){b.__proto__=R}||function(b,R){for(var O in R)R.hasOwnProperty(O)&&(b[O]=R[O])})(I,E)},function(I,E){function b(){this.constructor=I}o(I,E),I.prototype=E===null?Object.create(E):(b.prototype=E.prototype,new b)}),w=function(I){function E(b,R){var O=I.call(this,"fetch-stream-loader")||this;return O.TAG="FetchStreamLoader",O._seekHandler=b,O._config=R,O._needStash=!0,O._requestAbort=!1,O._abortController=null,O._contentLength=null,O._receivedLength=0,O}return m(E,I),E.isSupported=function(){try{var b=h.a.msedge&&h.a.version.minor>=15048,R=!h.a.msedge||b;return self.fetch&&self.ReadableStream&&R}catch{return!1}},E.prototype.destroy=function(){this.isWorking()&&this.abort(),I.prototype.destroy.call(this)},E.prototype.open=function(b,R){var O=this;this._dataSource=b,this._range=R;var M=b.url;this._config.reuseRedirectedURL&&b.redirectedURL!=null&&(M=b.redirectedURL);var N=this._seekHandler.getConfig(M,R),ce=new self.Headers;if(typeof N.headers=="object"){var ye=N.headers;for(var Re in ye)ye.hasOwnProperty(Re)&&ce.append(Re,ye[Re])}var we={method:"GET",headers:ce,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(typeof this._config.headers=="object")for(var Re in this._config.headers)ce.append(Re,this._config.headers[Re]);b.cors===!1&&(we.mode="same-origin"),b.withCredentials&&(we.credentials="include"),b.referrerPolicy&&(we.referrerPolicy=b.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,we.signal=this._abortController.signal),this._status=f.c.kConnecting,self.fetch(N.url,we).then(function(x){if(O._requestAbort)return O._status=f.c.kIdle,void x.body.cancel();if(x.ok&&x.status>=200&&x.status<=299){if(x.url!==N.url&&O._onURLRedirect){var v=O._seekHandler.removeURLParameters(x.url);O._onURLRedirect(v)}var L=x.headers.get("Content-Length");return L!=null&&(O._contentLength=parseInt(L),O._contentLength!==0&&O._onContentLengthKnown&&O._onContentLengthKnown(O._contentLength)),O._pump.call(O,x.body.getReader())}if(O._status=f.c.kError,!O._onError)throw new _.d("FetchStreamLoader: Http code invalid, "+x.status+" "+x.statusText);O._onError(f.b.HTTP_STATUS_CODE_INVALID,{code:x.status,msg:x.statusText})}).catch(function(x){if(!O._abortController||!O._abortController.signal.aborted){if(O._status=f.c.kError,!O._onError)throw x;O._onError(f.b.EXCEPTION,{code:-1,msg:x.message})}})},E.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==f.c.kBuffering||!h.a.chrome)&&this._abortController)try{this._abortController.abort()}catch{}},E.prototype._pump=function(b){var R=this;return b.read().then(function(O){if(O.done)if(R._contentLength!==null&&R._receivedLength<R._contentLength){R._status=f.c.kError;var M=f.b.EARLY_EOF,N={code:-1,msg:"Fetch stream meet Early-EOF"};if(!R._onError)throw new _.d(N.msg);R._onError(M,N)}else R._status=f.c.kComplete,R._onComplete&&R._onComplete(R._range.from,R._range.from+R._receivedLength-1);else{if(R._abortController&&R._abortController.signal.aborted)return void(R._status=f.c.kComplete);if(R._requestAbort===!0)return R._status=f.c.kComplete,b.cancel();R._status=f.c.kBuffering;var ce=O.value.buffer,ye=R._range.from+R._receivedLength;R._receivedLength+=ce.byteLength,R._onDataArrival&&R._onDataArrival(ce,ye,R._receivedLength),R._pump(b)}}).catch(function(O){if(R._abortController&&R._abortController.signal.aborted)R._status=f.c.kComplete;else if(O.code!==11||!h.a.msedge){R._status=f.c.kError;var M=0,N=null;if(O.code!==19&&O.message!=="network error"||!(R._contentLength===null||R._contentLength!==null&&R._receivedLength<R._contentLength)?(M=f.b.EXCEPTION,N={code:O.code,msg:O.message}):(M=f.b.EARLY_EOF,N={code:O.code,msg:"Fetch stream meet Early-EOF"}),!R._onError)throw new _.d(N.msg);R._onError(M,N)}})},E}(f.a),T=function(){var I=function(E,b){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,O){R.__proto__=O}||function(R,O){for(var M in O)O.hasOwnProperty(M)&&(R[M]=O[M])})(E,b)};return function(E,b){function R(){this.constructor=E}I(E,b),E.prototype=b===null?Object.create(b):(R.prototype=b.prototype,new R)}}(),P=function(I){function E(b,R){var O=I.call(this,"xhr-moz-chunked-loader")||this;return O.TAG="MozChunkedLoader",O._seekHandler=b,O._config=R,O._needStash=!0,O._xhr=null,O._requestAbort=!1,O._contentLength=null,O._receivedLength=0,O}return T(E,I),E.isSupported=function(){try{var b=new XMLHttpRequest;return b.open("GET","https://example.com",!0),b.responseType="moz-chunked-arraybuffer",b.responseType==="moz-chunked-arraybuffer"}catch(R){return a.a.w("MozChunkedLoader",R.message),!1}},E.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),I.prototype.destroy.call(this)},E.prototype.open=function(b,R){this._dataSource=b,this._range=R;var O=b.url;this._config.reuseRedirectedURL&&b.redirectedURL!=null&&(O=b.redirectedURL);var M=this._seekHandler.getConfig(O,R);this._requestURL=M.url;var N=this._xhr=new XMLHttpRequest;if(N.open("GET",M.url,!0),N.responseType="moz-chunked-arraybuffer",N.onreadystatechange=this._onReadyStateChange.bind(this),N.onprogress=this._onProgress.bind(this),N.onloadend=this._onLoadEnd.bind(this),N.onerror=this._onXhrError.bind(this),b.withCredentials&&(N.withCredentials=!0),typeof M.headers=="object"){var ce=M.headers;for(var ye in ce)ce.hasOwnProperty(ye)&&N.setRequestHeader(ye,ce[ye])}if(typeof this._config.headers=="object"){ce=this._config.headers;for(var ye in ce)ce.hasOwnProperty(ye)&&N.setRequestHeader(ye,ce[ye])}this._status=f.c.kConnecting,N.send()},E.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=f.c.kComplete},E.prototype._onReadyStateChange=function(b){var R=b.target;if(R.readyState===2){if(R.responseURL!=null&&R.responseURL!==this._requestURL&&this._onURLRedirect){var O=this._seekHandler.removeURLParameters(R.responseURL);this._onURLRedirect(O)}if(R.status!==0&&(R.status<200||R.status>299)){if(this._status=f.c.kError,!this._onError)throw new _.d("MozChunkedLoader: Http code invalid, "+R.status+" "+R.statusText);this._onError(f.b.HTTP_STATUS_CODE_INVALID,{code:R.status,msg:R.statusText})}else this._status=f.c.kBuffering}},E.prototype._onProgress=function(b){if(this._status!==f.c.kError){this._contentLength===null&&b.total!==null&&b.total!==0&&(this._contentLength=b.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var R=b.target.response,O=this._range.from+this._receivedLength;this._receivedLength+=R.byteLength,this._onDataArrival&&this._onDataArrival(R,O,this._receivedLength)}},E.prototype._onLoadEnd=function(b){this._requestAbort!==!0?this._status!==f.c.kError&&(this._status=f.c.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1},E.prototype._onXhrError=function(b){this._status=f.c.kError;var R=0,O=null;if(this._contentLength&&b.loaded<this._contentLength?(R=f.b.EARLY_EOF,O={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(R=f.b.EXCEPTION,O={code:-1,msg:b.constructor.name+" "+b.type}),!this._onError)throw new _.d(O.msg);this._onError(R,O)},E}(f.a),D=function(){var I=function(E,b){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,O){R.__proto__=O}||function(R,O){for(var M in O)O.hasOwnProperty(M)&&(R[M]=O[M])})(E,b)};return function(E,b){function R(){this.constructor=E}I(E,b),E.prototype=b===null?Object.create(b):(R.prototype=b.prototype,new R)}}(),ne=function(I){function E(b,R){var O=I.call(this,"xhr-range-loader")||this;return O.TAG="RangeLoader",O._seekHandler=b,O._config=R,O._needStash=!1,O._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],O._currentChunkSizeKB=384,O._currentSpeedNormalized=0,O._zeroSpeedChunkCount=0,O._xhr=null,O._speedSampler=new u,O._requestAbort=!1,O._waitForTotalLength=!1,O._totalLengthReceived=!1,O._currentRequestURL=null,O._currentRedirectedURL=null,O._currentRequestRange=null,O._totalLength=null,O._contentLength=null,O._receivedLength=0,O._lastTimeLoaded=0,O}return D(E,I),E.isSupported=function(){try{var b=new XMLHttpRequest;return b.open("GET","https://example.com",!0),b.responseType="arraybuffer",b.responseType==="arraybuffer"}catch(R){return a.a.w("RangeLoader",R.message),!1}},E.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),I.prototype.destroy.call(this)},Object.defineProperty(E.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),E.prototype.open=function(b,R){this._dataSource=b,this._range=R,this._status=f.c.kConnecting;var O=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(O=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||O?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))},E.prototype._openSubRange=function(){var b=1024*this._currentChunkSizeKB,R=this._range.from+this._receivedLength,O=R+b;this._contentLength!=null&&O-this._range.from>=this._contentLength&&(O=this._range.from+this._contentLength-1),this._currentRequestRange={from:R,to:O},this._internalOpen(this._dataSource,this._currentRequestRange)},E.prototype._internalOpen=function(b,R){this._lastTimeLoaded=0;var O=b.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?O=this._currentRedirectedURL:b.redirectedURL!=null&&(O=b.redirectedURL));var M=this._seekHandler.getConfig(O,R);this._currentRequestURL=M.url;var N=this._xhr=new XMLHttpRequest;if(N.open("GET",M.url,!0),N.responseType="arraybuffer",N.onreadystatechange=this._onReadyStateChange.bind(this),N.onprogress=this._onProgress.bind(this),N.onload=this._onLoad.bind(this),N.onerror=this._onXhrError.bind(this),b.withCredentials&&(N.withCredentials=!0),typeof M.headers=="object"){var ce=M.headers;for(var ye in ce)ce.hasOwnProperty(ye)&&N.setRequestHeader(ye,ce[ye])}if(typeof this._config.headers=="object"){ce=this._config.headers;for(var ye in ce)ce.hasOwnProperty(ye)&&N.setRequestHeader(ye,ce[ye])}N.send()},E.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=f.c.kComplete},E.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},E.prototype._onReadyStateChange=function(b){var R=b.target;if(R.readyState===2){if(R.responseURL!=null){var O=this._seekHandler.removeURLParameters(R.responseURL);R.responseURL!==this._currentRequestURL&&O!==this._currentRedirectedURL&&(this._currentRedirectedURL=O,this._onURLRedirect&&this._onURLRedirect(O))}if(R.status>=200&&R.status<=299){if(this._waitForTotalLength)return;this._status=f.c.kBuffering}else{if(this._status=f.c.kError,!this._onError)throw new _.d("RangeLoader: Http code invalid, "+R.status+" "+R.statusText);this._onError(f.b.HTTP_STATUS_CODE_INVALID,{code:R.status,msg:R.statusText})}}},E.prototype._onProgress=function(b){if(this._status!==f.c.kError){if(this._contentLength===null){var R=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,R=!0;var O=b.total;this._internalAbort(),O!=null&O!==0&&(this._totalLength=O)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,R)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var M=b.loaded-this._lastTimeLoaded;this._lastTimeLoaded=b.loaded,this._speedSampler.addBytes(M)}},E.prototype._normalizeSpeed=function(b){var R=this._chunkSizeKBList,O=R.length-1,M=0,N=0,ce=O;if(b<R[0])return R[0];for(;N<=ce;){if((M=N+Math.floor((ce-N)/2))===O||b>=R[M]&&b<R[M+1])return R[M];R[M]<b?N=M+1:ce=M-1}},E.prototype._onLoad=function(b){if(this._status!==f.c.kError)if(this._waitForTotalLength)this._waitForTotalLength=!1;else{this._lastTimeLoaded=0;var R=this._speedSampler.lastSecondKBps;if(R===0&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(R=this._speedSampler.currentKBps)),R!==0){var O=this._normalizeSpeed(R);this._currentSpeedNormalized!==O&&(this._currentSpeedNormalized=O,this._currentChunkSizeKB=O)}var M=b.target.response,N=this._range.from+this._receivedLength;this._receivedLength+=M.byteLength;var ce=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():ce=!0,this._onDataArrival&&this._onDataArrival(M,N,this._receivedLength),ce&&(this._status=f.c.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},E.prototype._onXhrError=function(b){this._status=f.c.kError;var R=0,O=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(R=f.b.EARLY_EOF,O={code:-1,msg:"RangeLoader meet Early-Eof"}):(R=f.b.EXCEPTION,O={code:-1,msg:b.constructor.name+" "+b.type}),!this._onError)throw new _.d(O.msg);this._onError(R,O)},E}(f.a),J=function(){var I=function(E,b){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,O){R.__proto__=O}||function(R,O){for(var M in O)O.hasOwnProperty(M)&&(R[M]=O[M])})(E,b)};return function(E,b){function R(){this.constructor=E}I(E,b),E.prototype=b===null?Object.create(b):(R.prototype=b.prototype,new R)}}(),Z=function(I){function E(){var b=I.call(this,"websocket-loader")||this;return b.TAG="WebSocketLoader",b._needStash=!0,b._ws=null,b._requestAbort=!1,b._receivedLength=0,b}return J(E,I),E.isSupported=function(){try{return self.WebSocket!==void 0}catch{return!1}},E.prototype.destroy=function(){this._ws&&this.abort(),I.prototype.destroy.call(this)},E.prototype.open=function(b){try{var R=this._ws=new self.WebSocket(b.url);R.binaryType="arraybuffer",R.onopen=this._onWebSocketOpen.bind(this),R.onclose=this._onWebSocketClose.bind(this),R.onmessage=this._onWebSocketMessage.bind(this),R.onerror=this._onWebSocketError.bind(this),this._status=f.c.kConnecting}catch(M){this._status=f.c.kError;var O={code:M.code,msg:M.message};if(!this._onError)throw new _.d(O.msg);this._onError(f.b.EXCEPTION,O)}},E.prototype.abort=function(){var b=this._ws;!b||b.readyState!==0&&b.readyState!==1||(this._requestAbort=!0,b.close()),this._ws=null,this._status=f.c.kComplete},E.prototype._onWebSocketOpen=function(b){this._status=f.c.kBuffering},E.prototype._onWebSocketClose=function(b){this._requestAbort!==!0?(this._status=f.c.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1},E.prototype._onWebSocketMessage=function(b){var R=this;if(b.data instanceof ArrayBuffer)this._dispatchArrayBuffer(b.data);else if(b.data instanceof Blob){var O=new FileReader;O.onload=function(){R._dispatchArrayBuffer(O.result)},O.readAsArrayBuffer(b.data)}else{this._status=f.c.kError;var M={code:-1,msg:"Unsupported WebSocket message type: "+b.data.constructor.name};if(!this._onError)throw new _.d(M.msg);this._onError(f.b.EXCEPTION,M)}},E.prototype._dispatchArrayBuffer=function(b){var R=b,O=this._receivedLength;this._receivedLength+=R.byteLength,this._onDataArrival&&this._onDataArrival(R,O,this._receivedLength)},E.prototype._onWebSocketError=function(b){this._status=f.c.kError;var R={code:b.code,msg:b.message};if(!this._onError)throw new _.d(R.msg);this._onError(f.b.EXCEPTION,R)},E}(f.a),ee=function(){function I(E){this._zeroStart=E||!1}return I.prototype.getConfig=function(E,b){var R={};if(b.from!==0||b.to!==-1){var O=void 0;O=b.to!==-1?"bytes="+b.from.toString()+"-"+b.to.toString():"bytes="+b.from.toString()+"-",R.Range=O}else this._zeroStart&&(R.Range="bytes=0-");return{url:E,headers:R}},I.prototype.removeURLParameters=function(E){return E},I}(),C=function(){function I(E,b){this._startName=E,this._endName=b}return I.prototype.getConfig=function(E,b){var R=E;if(b.from!==0||b.to!==-1){var O=!0;R.indexOf("?")===-1&&(R+="?",O=!1),O&&(R+="&"),R+=this._startName+"="+b.from.toString(),b.to!==-1&&(R+="&"+this._endName+"="+b.to.toString())}return{url:R,headers:{}}},I.prototype.removeURLParameters=function(E){var b=E.split("?")[0],R=void 0,O=E.indexOf("?");O!==-1&&(R=E.substring(O+1));var M="";if(R!=null&&R.length>0)for(var N=R.split("&"),ce=0;ce<N.length;ce++){var ye=N[ce].split("="),Re=ce>0;ye[0]!==this._startName&&ye[0]!==this._endName&&(Re&&(M+="&"),M+=N[ce])}return M.length===0?b:b+"?"+M},I}(),Y=function(){function I(E,b,R){this.TAG="IOController",this._config=b,this._extraData=R,this._stashInitialSize=65536,b.stashInitialSize!=null&&b.stashInitialSize>0&&(this._stashInitialSize=b.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,b.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=E,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(E.url),this._refTotalLength=E.filesize?E.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new u,this._speedNormalizeList=[32,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return I.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},I.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},I.prototype.isPaused=function(){return this._paused},Object.defineProperty(I.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"extraData",{get:function(){return this._extraData},set:function(E){this._extraData=E},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(E){this._onDataArrival=E},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(E){this._onSeeked=E},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"onError",{get:function(){return this._onError},set:function(E){this._onError=E},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"onComplete",{get:function(){return this._onComplete},set:function(E){this._onComplete=E},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(E){this._onRedirect=E},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(E){this._onRecoveredEarlyEof=E},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"hasRedirect",{get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"currentSpeed",{get:function(){return this._loaderClass===ne?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),I.prototype._selectSeekHandler=function(){var E=this._config;if(E.seekType==="range")this._seekHandler=new ee(this._config.rangeLoadZeroStart);else if(E.seekType==="param"){var b=E.seekParamStart||"bstart",R=E.seekParamEnd||"bend";this._seekHandler=new C(b,R)}else{if(E.seekType!=="custom")throw new _.b("Invalid seekType in config: "+E.seekType);if(typeof E.customSeekHandler!="function")throw new _.b("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new E.customSeekHandler}},I.prototype._selectLoader=function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=Z;else if(w.isSupported())this._loaderClass=w;else if(P.isSupported())this._loaderClass=P;else{if(!ne.isSupported())throw new _.d("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=ne}},I.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},I.prototype.open=function(E){this._currentRange={from:0,to:-1},E&&(this._currentRange.from=E),this._speedSampler.reset(),E||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},I.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},I.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},I.prototype.resume=function(){if(this._paused){this._paused=!1;var E=this._resumeFrom;this._resumeFrom=0,this._internalSeek(E,!0)}},I.prototype.seek=function(E){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(E,!0)},I.prototype._internalSeek=function(E,b){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(b),this._loader.destroy(),this._loader=null;var R={from:E,to:-1};this._currentRange={from:R.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,R),this._onSeeked&&this._onSeeked()},I.prototype.updateUrl=function(E){if(!E||typeof E!="string"||E.length===0)throw new _.b("Url must be a non-empty string!");this._dataSource.url=E},I.prototype._expandBuffer=function(E){for(var b=this._stashSize;b+1048576<E;)b*=2;if((b+=1048576)!==this._bufferSize){var R=new ArrayBuffer(b);if(this._stashUsed>0){var O=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(R,0,b).set(O,0)}this._stashBuffer=R,this._bufferSize=b}},I.prototype._normalizeSpeed=function(E){var b=this._speedNormalizeList,R=b.length-1,O=0,M=0,N=R;if(E<b[0])return b[0];for(;M<=N;){if((O=M+Math.floor((N-M)/2))===R||E>=b[O]&&E<b[O+1])return b[O];b[O]<E?M=O+1:N=O-1}},I.prototype._adjustStashSize=function(E){var b=0;(b=this._config.isLive?E/8:E<512?E:E>=512&&E<=1024?Math.floor(1.5*E):2*E)>8192&&(b=8192);var R=1024*b+1048576;this._bufferSize<R&&this._expandBuffer(R),this._stashSize=1024*b},I.prototype._dispatchChunks=function(E,b){return this._currentRange.to=b+E.byteLength-1,this._onDataArrival(E,b)},I.prototype._onURLRedirect=function(E){this._redirectedURL=E,this._onRedirect&&this._onRedirect(E)},I.prototype._onContentLengthKnown=function(E){E&&this._fullRequestFlag&&(this._totalLength=E,this._fullRequestFlag=!1)},I.prototype._onLoaderChunkArrival=function(E,b,R){if(!this._onDataArrival)throw new _.a("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(E.byteLength);var O=this._speedSampler.lastSecondKBps;if(O!==0){var M=this._normalizeSpeed(O);this._speedNormalized!==M&&(this._speedNormalized=M,this._adjustStashSize(M))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=b),this._stashUsed+E.byteLength<=this._stashSize)(ye=new Uint8Array(this._stashBuffer,0,this._stashSize)).set(new Uint8Array(E),this._stashUsed),this._stashUsed+=E.byteLength;else if(ye=new Uint8Array(this._stashBuffer,0,this._bufferSize),this._stashUsed>0){var N=this._stashBuffer.slice(0,this._stashUsed);(Re=this._dispatchChunks(N,this._stashByteStart))<N.byteLength?Re>0&&(we=new Uint8Array(N,Re),ye.set(we,0),this._stashUsed=we.byteLength,this._stashByteStart+=Re):(this._stashUsed=0,this._stashByteStart+=Re),this._stashUsed+E.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+E.byteLength),ye=new Uint8Array(this._stashBuffer,0,this._bufferSize)),ye.set(new Uint8Array(E),this._stashUsed),this._stashUsed+=E.byteLength}else(Re=this._dispatchChunks(E,b))<E.byteLength&&((ce=E.byteLength-Re)>this._bufferSize&&(this._expandBuffer(ce),ye=new Uint8Array(this._stashBuffer,0,this._bufferSize)),ye.set(new Uint8Array(E,Re),0),this._stashUsed+=ce,this._stashByteStart=b+Re);else if(this._stashUsed===0){var ce;(Re=this._dispatchChunks(E,b))<E.byteLength&&((ce=E.byteLength-Re)>this._bufferSize&&this._expandBuffer(ce),(ye=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(E,Re),0),this._stashUsed+=ce,this._stashByteStart=b+Re)}else{var ye,Re;if(this._stashUsed+E.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+E.byteLength),(ye=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(E),this._stashUsed),this._stashUsed+=E.byteLength,(Re=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart))<this._stashUsed&&Re>0){var we=new Uint8Array(this._stashBuffer,Re);ye.set(we,0)}this._stashUsed-=Re,this._stashByteStart+=Re}}},I.prototype._flushStashBuffer=function(E){if(this._stashUsed>0){var b=this._stashBuffer.slice(0,this._stashUsed),R=this._dispatchChunks(b,this._stashByteStart),O=b.byteLength-R;if(R<b.byteLength){if(!E){if(R>0){var M=new Uint8Array(this._stashBuffer,0,this._bufferSize),N=new Uint8Array(b,R);M.set(N,0),this._stashUsed=N.byteLength,this._stashByteStart+=R}return 0}a.a.w(this.TAG,O+" bytes unconsumed data remain when flush buffer, dropped")}return this._stashUsed=0,this._stashByteStart=0,O}return 0},I.prototype._onLoaderComplete=function(E,b){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},I.prototype._onLoaderError=function(E,b){switch(a.a.e(this.TAG,"Loader error, code = "+b.code+", msg = "+b.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,E=f.b.UNRECOVERABLE_EARLY_EOF),E){case f.b.EARLY_EOF:if(!this._config.isLive&&this._totalLength){var R=this._currentRange.to+1;return void(R<this._totalLength&&(a.a.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(R,!1)))}E=f.b.UNRECOVERABLE_EARLY_EOF;break;case f.b.UNRECOVERABLE_EARLY_EOF:case f.b.CONNECTING_TIMEOUT:case f.b.HTTP_STATUS_CODE_INVALID:case f.b.EXCEPTION:}if(!this._onError)throw new _.d("IOException: "+b.msg);this._onError(E,b)},I}();i.a=Y},function(n,i,r){var o=function(){function a(){}return a.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(u,f){return u.__proto__=f,u},Object.assign=Object.assign||function(u){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(u),h=1;h<arguments.length;h++){var _=arguments[h];if(_!=null)for(var m in _)_.hasOwnProperty(m)&&(f[m]=_[m])}return f},typeof self.Promise!="function"&&r(15).polyfill()},a}();o.install(),i.a=o},function(n,i,r){function o(h){var _={};function m(T){if(_[T])return _[T].exports;var P=_[T]={i:T,l:!1,exports:{}};return h[T].call(P.exports,P,P.exports,m),P.l=!0,P.exports}m.m=h,m.c=_,m.i=function(T){return T},m.d=function(T,P,D){m.o(T,P)||Object.defineProperty(T,P,{configurable:!1,enumerable:!0,get:D})},m.r=function(T){Object.defineProperty(T,"__esModule",{value:!0})},m.n=function(T){var P=T&&T.__esModule?function(){return T.default}:function(){return T};return m.d(P,"a",P),P},m.o=function(T,P){return Object.prototype.hasOwnProperty.call(T,P)},m.p="/",m.oe=function(T){throw console.error(T),T};var w=m(m.s=ENTRY_MODULE);return w.default||w}function a(h){return(h+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function u(h,_,m){var w={};w[m]=[];var T=_.toString(),P=T.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!P)return w;for(var D,ne=P[1],J=new RegExp("(\\\\n|\\W)"+a(ne)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");D=J.exec(T);)D[3]!=="dll-reference"&&w[m].push(D[3]);for(J=new RegExp("\\("+a(ne)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");D=J.exec(T);)h[D[2]]||(w[m].push(D[1]),h[D[2]]=r(D[1]).m),w[D[2]]=w[D[2]]||[],w[D[2]].push(D[4]);for(var Z,ee=Object.keys(w),C=0;C<ee.length;C++)for(var Y=0;Y<w[ee[C]].length;Y++)Z=w[ee[C]][Y],isNaN(1*Z)||(w[ee[C]][Y]=1*w[ee[C]][Y]);return w}function f(h){return Object.keys(h).reduce(function(_,m){return _||h[m].length>0},!1)}n.exports=function(h,_){_=_||{};var m={main:r.m},w=_.all?{main:Object.keys(m.main)}:function(J,Z){for(var ee={main:[Z]},C={main:[]},Y={main:{}};f(ee);)for(var I=Object.keys(ee),E=0;E<I.length;E++){var b=I[E],R=ee[b].pop();if(Y[b]=Y[b]||{},!Y[b][R]&&J[b][R]){Y[b][R]=!0,C[b]=C[b]||[],C[b].push(R);for(var O=u(J,J[b][R],b),M=Object.keys(O),N=0;N<M.length;N++)ee[M[N]]=ee[M[N]]||[],ee[M[N]]=ee[M[N]].concat(O[M[N]])}}return C}(m,h),T="";Object.keys(w).filter(function(J){return J!=="main"}).forEach(function(J){for(var Z=0;w[J][Z];)Z++;w[J].push(Z),m[J][Z]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",T=T+"var "+J+" = ("+o.toString().replace("ENTRY_MODULE",JSON.stringify(Z))+")({"+w[J].map(function(ee){return JSON.stringify(ee)+": "+m[J][ee].toString()}).join(",")+`});
`}),T=T+"new (("+o.toString().replace("ENTRY_MODULE",JSON.stringify(h))+")({"+w.main.map(function(J){return JSON.stringify(J)+": "+m.main[J].toString()}).join(",")+"}))(self);";var P=new window.Blob([T],{type:"text/javascript"});if(_.bare)return P;var D=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(P),ne=new window.Worker(D);return ne.objectURL=D,ne}},function(n,i,r){n.exports=r(19).default},function(n,i,r){(function(o,a){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var u;u=function(){function f(B){return typeof B=="function"}var h=Array.isArray?Array.isArray:function(B){return Object.prototype.toString.call(B)==="[object Array]"},_=0,m=void 0,w=void 0,T=function(B,z){C[_]=B,C[_+1]=z,(_+=2)===2&&(w?w(Y):O())},P=typeof window<"u"?window:void 0,D=P||{},ne=D.MutationObserver||D.WebKitMutationObserver,J=typeof self>"u"&&o!==void 0&&{}.toString.call(o)==="[object process]",Z=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function ee(){var B=setTimeout;return function(){return B(Y,1)}}var C=new Array(1e3);function Y(){for(var B=0;B<_;B+=2)(0,C[B])(C[B+1]),C[B]=void 0,C[B+1]=void 0;_=0}var I,E,b,R,O=void 0;function M(B,z){var re=this,me=new this.constructor(ye);me[ce]===void 0&&Xe(me);var se=re._state;if(se){var S=arguments[se-1];T(function(){return Ee(se,me,S,re._result)})}else U(re,me,B,z);return me}function N(B){if(B&&typeof B=="object"&&B.constructor===this)return B;var z=new this(ye);return we(z,B),z}J?O=function(){return o.nextTick(Y)}:ne?(E=0,b=new ne(Y),R=document.createTextNode(""),b.observe(R,{characterData:!0}),O=function(){R.data=E=++E%2}):Z?((I=new MessageChannel).port1.onmessage=Y,O=function(){return I.port2.postMessage(0)}):O=P===void 0?function(){try{var B=Function("return this")().require("vertx");return(m=B.runOnLoop||B.runOnContext)!==void 0?function(){m(Y)}:ee()}catch{return ee()}}():ee();var ce=Math.random().toString(36).substring(2);function ye(){}function Re(B,z,re){z.constructor===B.constructor&&re===M&&z.constructor.resolve===N?function(me,se){se._state===1?v(me,se._result):se._state===2?L(me,se._result):U(se,void 0,function(S){return we(me,S)},function(S){return L(me,S)})}(B,z):re===void 0?v(B,z):f(re)?function(me,se,S){T(function(k){var G=!1,q=function(Q,le,_e,oe){try{Q.call(le,_e,oe)}catch(ue){return ue}}(S,se,function(Q){G||(G=!0,se!==Q?we(k,Q):v(k,Q))},function(Q){G||(G=!0,L(k,Q))},k._label);!G&&q&&(G=!0,L(k,q))},me)}(B,z,re):v(B,z)}function we(B,z){if(B===z)L(B,new TypeError("You cannot resolve a promise with itself"));else if(se=typeof(me=z),me===null||se!=="object"&&se!=="function")v(B,z);else{var re=void 0;try{re=z.then}catch(S){return void L(B,S)}Re(B,z,re)}var me,se}function x(B){B._onerror&&B._onerror(B._result),he(B)}function v(B,z){B._state===void 0&&(B._result=z,B._state=1,B._subscribers.length!==0&&T(he,B))}function L(B,z){B._state===void 0&&(B._state=2,B._result=z,T(x,B))}function U(B,z,re,me){var se=B._subscribers,S=se.length;B._onerror=null,se[S]=z,se[S+1]=re,se[S+2]=me,S===0&&B._state&&T(he,B)}function he(B){var z=B._subscribers,re=B._state;if(z.length!==0){for(var me=void 0,se=void 0,S=B._result,k=0;k<z.length;k+=3)me=z[k],se=z[k+re],me?Ee(re,me,se,S):se(S);B._subscribers.length=0}}function Ee(B,z,re,me){var se=f(re),S=void 0,k=void 0,G=!0;if(se){try{S=re(me)}catch(q){G=!1,k=q}if(z===S)return void L(z,new TypeError("A promises callback cannot return that same promise."))}else S=me;z._state!==void 0||(se&&G?we(z,S):G===!1?L(z,k):B===1?v(z,S):B===2&&L(z,S))}var Be=0;function Xe(B){B[ce]=Be++,B._state=void 0,B._result=void 0,B._subscribers=[]}var $=function(){function B(z,re){this._instanceConstructor=z,this.promise=new z(ye),this.promise[ce]||Xe(this.promise),h(re)?(this.length=re.length,this._remaining=re.length,this._result=new Array(this.length),this.length===0?v(this.promise,this._result):(this.length=this.length||0,this._enumerate(re),this._remaining===0&&v(this.promise,this._result))):L(this.promise,new Error("Array Methods must be provided an Array"))}return B.prototype._enumerate=function(z){for(var re=0;this._state===void 0&&re<z.length;re++)this._eachEntry(z[re],re)},B.prototype._eachEntry=function(z,re){var me=this._instanceConstructor,se=me.resolve;if(se===N){var S=void 0,k=void 0,G=!1;try{S=z.then}catch(Q){G=!0,k=Q}if(S===M&&z._state!==void 0)this._settledAt(z._state,re,z._result);else if(typeof S!="function")this._remaining--,this._result[re]=z;else if(me===te){var q=new me(ye);G?L(q,k):Re(q,z,S),this._willSettleAt(q,re)}else this._willSettleAt(new me(function(Q){return Q(z)}),re)}else this._willSettleAt(se(z),re)},B.prototype._settledAt=function(z,re,me){var se=this.promise;se._state===void 0&&(this._remaining--,z===2?L(se,me):this._result[re]=me),this._remaining===0&&v(se,this._result)},B.prototype._willSettleAt=function(z,re){var me=this;U(z,void 0,function(se){return me._settledAt(1,re,se)},function(se){return me._settledAt(2,re,se)})},B}(),te=function(){function B(z){this[ce]=Be++,this._result=this._state=void 0,this._subscribers=[],ye!==z&&(typeof z!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof B?function(re,me){try{me(function(se){we(re,se)},function(se){L(re,se)})}catch(se){L(re,se)}}(this,z):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return B.prototype.catch=function(z){return this.then(null,z)},B.prototype.finally=function(z){var re=this.constructor;return f(z)?this.then(function(me){return re.resolve(z()).then(function(){return me})},function(me){return re.resolve(z()).then(function(){throw me})}):this.then(z,z)},B}();return te.prototype.then=M,te.all=function(B){return new $(this,B).promise},te.race=function(B){var z=this;return h(B)?new z(function(re,me){for(var se=B.length,S=0;S<se;S++)z.resolve(B[S]).then(re,me)}):new z(function(re,me){return me(new TypeError("You must pass an array to race."))})},te.resolve=N,te.reject=function(B){var z=new this(ye);return L(z,B),z},te._setScheduler=function(B){w=B},te._setAsap=function(B){T=B},te._asap=T,te.polyfill=function(){var B=void 0;if(a!==void 0)B=a;else if(typeof self<"u")B=self;else try{B=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var z=B.Promise;if(z){var re=null;try{re=Object.prototype.toString.call(z.resolve())}catch{}if(re==="[object Promise]"&&!z.cast)return}B.Promise=te},te.Promise=te,te},n.exports=u()}).call(this,r(16),r(17))},function(n,i){var r,o,a=n.exports={};function u(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}function h(Z){if(r===setTimeout)return setTimeout(Z,0);if((r===u||!r)&&setTimeout)return r=setTimeout,setTimeout(Z,0);try{return r(Z,0)}catch{try{return r.call(null,Z,0)}catch{return r.call(this,Z,0)}}}(function(){try{r=typeof setTimeout=="function"?setTimeout:u}catch{r=u}try{o=typeof clearTimeout=="function"?clearTimeout:f}catch{o=f}})();var _,m=[],w=!1,T=-1;function P(){w&&_&&(w=!1,_.length?m=_.concat(m):T=-1,m.length&&D())}function D(){if(!w){var Z=h(P);w=!0;for(var ee=m.length;ee;){for(_=m,m=[];++T<ee;)_&&_[T].run();T=-1,ee=m.length}_=null,w=!1,function(C){if(o===clearTimeout)return clearTimeout(C);if((o===f||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(C);try{o(C)}catch{try{return o.call(null,C)}catch{return o.call(this,C)}}}(Z)}}function ne(Z,ee){this.fun=Z,this.array=ee}function J(){}a.nextTick=function(Z){var ee=new Array(arguments.length-1);if(arguments.length>1)for(var C=1;C<arguments.length;C++)ee[C-1]=arguments[C];m.push(new ne(Z,ee)),m.length!==1||w||h(D)},ne.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=J,a.addListener=J,a.once=J,a.off=J,a.removeListener=J,a.removeAllListeners=J,a.emit=J,a.prependListener=J,a.prependOnceListener=J,a.listeners=function(Z){return[]},a.binding=function(Z){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(Z){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(n,i){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch{typeof window=="object"&&(r=window)}n.exports=r},function(n,i,r){r.r(i);var o=r(9),a=r(12),u=r(10),f=r(1);i.default=function(h){var _=null,m=function(M,N){h.postMessage({msg:"logcat_callback",data:{type:M,logcat:N}})}.bind(this);function w(M,N){var ce={msg:f.a.INIT_SEGMENT,data:{type:M,data:N}};h.postMessage(ce,[N.data])}function T(M,N){var ce={msg:f.a.MEDIA_SEGMENT,data:{type:M,data:N}};h.postMessage(ce,[N.data])}function P(){var M={msg:f.a.LOADING_COMPLETE};h.postMessage(M)}function D(){var M={msg:f.a.RECOVERED_EARLY_EOF};h.postMessage(M)}function ne(M){var N={msg:f.a.MEDIA_INFO,data:M};h.postMessage(N)}function J(M){var N={msg:f.a.METADATA_ARRIVED,data:M};h.postMessage(N)}function Z(M){var N={msg:f.a.SCRIPTDATA_ARRIVED,data:M};h.postMessage(N)}function ee(M){var N={msg:f.a.TIMED_ID3_METADATA_ARRIVED,data:M};h.postMessage(N)}function C(M){var N={msg:f.a.SCTE35_METADATA_ARRIVED,data:M};h.postMessage(N)}function Y(M){var N={msg:f.a.PES_PRIVATE_DATA_DESCRIPTOR,data:M};h.postMessage(N)}function I(M){var N={msg:f.a.PES_PRIVATE_DATA_ARRIVED,data:M};h.postMessage(N)}function E(M){var N={msg:f.a.STATISTICS_INFO,data:M};h.postMessage(N)}function b(M,N){h.postMessage({msg:f.a.IO_ERROR,data:{type:M,info:N}})}function R(M,N){h.postMessage({msg:f.a.DEMUX_ERROR,data:{type:M,info:N}})}function O(M){h.postMessage({msg:f.a.RECOMMEND_SEEKPOINT,data:M})}a.a.install(),h.addEventListener("message",function(M){switch(M.data.cmd){case"init":(_=new u.a(M.data.param[0],M.data.param[1])).on(f.a.IO_ERROR,b.bind(this)),_.on(f.a.DEMUX_ERROR,R.bind(this)),_.on(f.a.INIT_SEGMENT,w.bind(this)),_.on(f.a.MEDIA_SEGMENT,T.bind(this)),_.on(f.a.LOADING_COMPLETE,P.bind(this)),_.on(f.a.RECOVERED_EARLY_EOF,D.bind(this)),_.on(f.a.MEDIA_INFO,ne.bind(this)),_.on(f.a.METADATA_ARRIVED,J.bind(this)),_.on(f.a.SCRIPTDATA_ARRIVED,Z.bind(this)),_.on(f.a.TIMED_ID3_METADATA_ARRIVED,ee.bind(this)),_.on(f.a.SCTE35_METADATA_ARRIVED,C.bind(this)),_.on(f.a.PES_PRIVATE_DATA_DESCRIPTOR,Y.bind(this)),_.on(f.a.PES_PRIVATE_DATA_ARRIVED,I.bind(this)),_.on(f.a.STATISTICS_INFO,E.bind(this)),_.on(f.a.RECOMMEND_SEEKPOINT,O.bind(this));break;case"destroy":_&&(_.destroy(),_=null),h.postMessage({msg:"destroyed"});break;case"start":_.start();break;case"stop":_.stop();break;case"seek":_.seek(M.data.param);break;case"pause":_.pause();break;case"resume":_.resume();break;case"logging_config":var N=M.data.param;o.a.applyConfig(N),N.enableCallback===!0?o.a.addLogListener(m):o.a.removeLogListener(m)}})}},function(n,i,r){r.r(i);var o=r(12),a=r(11),u={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,liveBufferLatencyChasing:!1,liveBufferLatencyMaxLatency:1.5,liveBufferLatencyMinRemain:.5,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function f(){return Object.assign({},u)}var h=function(){function x(){}return x.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},x.supportMSEH265Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="hvc1.1.6.L93.B0"')},x.supportNetworkStreamIO=function(){var v=new a.a({},f()),L=v.loaderType;return v.destroy(),L=="fetch-stream-loader"||L=="xhr-moz-chunked-loader"},x.getNetworkLoaderTypeName=function(){var v=new a.a({},f()),L=v.loaderType;return v.destroy(),L},x.supportNativeMediaPlayback=function(v){x.videoElement==null&&(x.videoElement=window.document.createElement("video"));var L=x.videoElement.canPlayType(v);return L==="probably"||L=="maybe"},x.getFeatureList=function(){var v={msePlayback:!1,mseLivePlayback:!1,mseH265Playback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeMP4H265Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return v.msePlayback=x.supportMSEH264Playback(),v.networkStreamIO=x.supportNetworkStreamIO(),v.networkLoaderName=x.getNetworkLoaderTypeName(),v.mseLivePlayback=v.msePlayback&&v.networkStreamIO,v.mseH265Playback=x.supportMSEH265Playback(),v.nativeMP4H264Playback=x.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),v.nativeMP4H265Playback=x.supportNativeMediaPlayback('video/mp4; codecs="hvc1.1.6.L93.B0"'),v.nativeWebmVP8Playback=x.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),v.nativeWebmVP9Playback=x.supportNativeMediaPlayback('video/webm; codecs="vp9"'),v},x}(),_=r(2),m=r(6),w=r.n(m),T=r(0),P=r(4),D={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",TIMED_ID3_METADATA_ARRIVED:"timed_id3_metadata_arrived",SCTE35_METADATA_ARRIVED:"scte35_metadata_arrived",PES_PRIVATE_DATA_DESCRIPTOR:"pes_private_data_descriptor",PES_PRIVATE_DATA_ARRIVED:"pes_private_data_arrived",STATISTICS_INFO:"statistics_info"},ne=r(13),J=r.n(ne),Z=r(9),ee=r(10),C=r(1),Y=r(8),I=function(){function x(v,L){if(this.TAG="Transmuxer",this._emitter=new w.a,L.enableWorker&&typeof Worker<"u")try{this._worker=J()(18),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[v,L]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},Z.a.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:Z.a.getConfig()})}catch{T.a.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new ee.a(v,L)}else this._controller=new ee.a(v,L);if(this._controller){var U=this._controller;U.on(C.a.IO_ERROR,this._onIOError.bind(this)),U.on(C.a.DEMUX_ERROR,this._onDemuxError.bind(this)),U.on(C.a.INIT_SEGMENT,this._onInitSegment.bind(this)),U.on(C.a.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),U.on(C.a.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),U.on(C.a.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),U.on(C.a.MEDIA_INFO,this._onMediaInfo.bind(this)),U.on(C.a.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),U.on(C.a.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),U.on(C.a.TIMED_ID3_METADATA_ARRIVED,this._onTimedID3MetadataArrived.bind(this)),U.on(C.a.SCTE35_METADATA_ARRIVED,this._onSCTE35MetadataArrived.bind(this)),U.on(C.a.PES_PRIVATE_DATA_DESCRIPTOR,this._onPESPrivateDataDescriptor.bind(this)),U.on(C.a.PES_PRIVATE_DATA_ARRIVED,this._onPESPrivateDataArrived.bind(this)),U.on(C.a.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),U.on(C.a.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return x.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),Z.a.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},x.prototype.on=function(v,L){this._emitter.addListener(v,L)},x.prototype.off=function(v,L){this._emitter.removeListener(v,L)},x.prototype.hasWorker=function(){return this._worker!=null},x.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},x.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},x.prototype.seek=function(v){this._worker?this._worker.postMessage({cmd:"seek",param:v}):this._controller.seek(v)},x.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},x.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},x.prototype._onInitSegment=function(v,L){var U=this;Promise.resolve().then(function(){U._emitter.emit(C.a.INIT_SEGMENT,v,L)})},x.prototype._onMediaSegment=function(v,L){var U=this;Promise.resolve().then(function(){U._emitter.emit(C.a.MEDIA_SEGMENT,v,L)})},x.prototype._onLoadingComplete=function(){var v=this;Promise.resolve().then(function(){v._emitter.emit(C.a.LOADING_COMPLETE)})},x.prototype._onRecoveredEarlyEof=function(){var v=this;Promise.resolve().then(function(){v._emitter.emit(C.a.RECOVERED_EARLY_EOF)})},x.prototype._onMediaInfo=function(v){var L=this;Promise.resolve().then(function(){L._emitter.emit(C.a.MEDIA_INFO,v)})},x.prototype._onMetaDataArrived=function(v){var L=this;Promise.resolve().then(function(){L._emitter.emit(C.a.METADATA_ARRIVED,v)})},x.prototype._onScriptDataArrived=function(v){var L=this;Promise.resolve().then(function(){L._emitter.emit(C.a.SCRIPTDATA_ARRIVED,v)})},x.prototype._onTimedID3MetadataArrived=function(v){var L=this;Promise.resolve().then(function(){L._emitter.emit(C.a.TIMED_ID3_METADATA_ARRIVED,v)})},x.prototype._onSCTE35MetadataArrived=function(v){var L=this;Promise.resolve().then(function(){L._emitter.emit(C.a.SCTE35_METADATA_ARRIVED,v)})},x.prototype._onPESPrivateDataDescriptor=function(v){var L=this;Promise.resolve().then(function(){L._emitter.emit(C.a.PES_PRIVATE_DATA_DESCRIPTOR,v)})},x.prototype._onPESPrivateDataArrived=function(v){var L=this;Promise.resolve().then(function(){L._emitter.emit(C.a.PES_PRIVATE_DATA_ARRIVED,v)})},x.prototype._onStatisticsInfo=function(v){var L=this;Promise.resolve().then(function(){L._emitter.emit(C.a.STATISTICS_INFO,v)})},x.prototype._onIOError=function(v,L){var U=this;Promise.resolve().then(function(){U._emitter.emit(C.a.IO_ERROR,v,L)})},x.prototype._onDemuxError=function(v,L){var U=this;Promise.resolve().then(function(){U._emitter.emit(C.a.DEMUX_ERROR,v,L)})},x.prototype._onRecommendSeekpoint=function(v){var L=this;Promise.resolve().then(function(){L._emitter.emit(C.a.RECOMMEND_SEEKPOINT,v)})},x.prototype._onLoggingConfigChanged=function(v){this._worker&&this._worker.postMessage({cmd:"logging_config",param:v})},x.prototype._onWorkerMessage=function(v){var L=v.data,U=L.data;if(L.msg==="destroyed"||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(L.msg){case C.a.INIT_SEGMENT:case C.a.MEDIA_SEGMENT:this._emitter.emit(L.msg,U.type,U.data);break;case C.a.LOADING_COMPLETE:case C.a.RECOVERED_EARLY_EOF:this._emitter.emit(L.msg);break;case C.a.MEDIA_INFO:Object.setPrototypeOf(U,Y.a.prototype),this._emitter.emit(L.msg,U);break;case C.a.METADATA_ARRIVED:case C.a.SCRIPTDATA_ARRIVED:case C.a.TIMED_ID3_METADATA_ARRIVED:case C.a.SCTE35_METADATA_ARRIVED:case C.a.PES_PRIVATE_DATA_DESCRIPTOR:case C.a.PES_PRIVATE_DATA_ARRIVED:case C.a.STATISTICS_INFO:this._emitter.emit(L.msg,U);break;case C.a.IO_ERROR:case C.a.DEMUX_ERROR:this._emitter.emit(L.msg,U.type,U.info);break;case C.a.RECOMMEND_SEEKPOINT:this._emitter.emit(L.msg,U);break;case"logcat_callback":T.a.emitter.emit("log",U.type,U.logcat)}},x}(),E={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"},b=r(7),R=r(3),O=function(){function x(v){this.TAG="MSEController",this._config=v,this._emitter=new w.a,this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new b.a}return x.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},x.prototype.on=function(v,L){this._emitter.addListener(v,L)},x.prototype.off=function(v,L){this._emitter.removeListener(v,L)},x.prototype.attachMediaElement=function(v){if(this._mediaSource)throw new R.a("MediaSource has been attached to an HTMLMediaElement!");var L=this._mediaSource=new window.MediaSource;L.addEventListener("sourceopen",this.e.onSourceOpen),L.addEventListener("sourceended",this.e.onSourceEnded),L.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=v,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),v.src=this._mediaSourceObjectURL},x.prototype.detachMediaElement=function(){if(this._mediaSource){var v=this._mediaSource;for(var L in this._sourceBuffers){var U=this._pendingSegments[L];U.splice(0,U.length),this._pendingSegments[L]=null,this._pendingRemoveRanges[L]=null,this._lastInitSegments[L]=null;var he=this._sourceBuffers[L];if(he){if(v.readyState!=="closed"){try{v.removeSourceBuffer(he)}catch(Ee){T.a.e(this.TAG,Ee.message)}he.removeEventListener("error",this.e.onSourceBufferError),he.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[L]=null,this._sourceBuffers[L]=null}}if(v.readyState==="open")try{v.endOfStream()}catch(Ee){T.a.e(this.TAG,Ee.message)}v.removeEventListener("sourceopen",this.e.onSourceOpen),v.removeEventListener("sourceended",this.e.onSourceEnded),v.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},x.prototype.appendInitSegment=function(v,L){if(!this._mediaSource||this._mediaSource.readyState!=="open")return this._pendingSourceBufferInit.push(v),void this._pendingSegments[v.type].push(v);var U=v,he=""+U.container;U.codec&&U.codec.length>0&&(he+=";codecs="+U.codec);var Ee=!1;if(T.a.v(this.TAG,"Received Initialization Segment, mimeType: "+he),this._lastInitSegments[U.type]=U,he!==this._mimeTypes[U.type]){if(this._mimeTypes[U.type])T.a.v(this.TAG,"Notice: "+U.type+" mimeType changed, origin: "+this._mimeTypes[U.type]+", target: "+he);else{Ee=!0;try{var Be=this._sourceBuffers[U.type]=this._mediaSource.addSourceBuffer(he);Be.addEventListener("error",this.e.onSourceBufferError),Be.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(Xe){return T.a.e(this.TAG,Xe.message),void this._emitter.emit(E.ERROR,{code:Xe.code,msg:Xe.message})}}this._mimeTypes[U.type]=he}L||this._pendingSegments[U.type].push(U),Ee||this._sourceBuffers[U.type]&&!this._sourceBuffers[U.type].updating&&this._doAppendSegments(),P.a.safari&&U.container==="audio/mpeg"&&U.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=U.mediaDuration/1e3,this._updateMediaSourceDuration())},x.prototype.appendMediaSegment=function(v){var L=v;this._pendingSegments[L.type].push(L),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var U=this._sourceBuffers[L.type];!U||U.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()},x.prototype.seek=function(v){for(var L in this._sourceBuffers)if(this._sourceBuffers[L]){var U=this._sourceBuffers[L];if(this._mediaSource.readyState==="open")try{U.abort()}catch(te){T.a.e(this.TAG,te.message)}this._idrList.clear();var he=this._pendingSegments[L];if(he.splice(0,he.length),this._mediaSource.readyState!=="closed"){for(var Ee=0;Ee<U.buffered.length;Ee++){var Be=U.buffered.start(Ee),Xe=U.buffered.end(Ee);this._pendingRemoveRanges[L].push({start:Be,end:Xe})}if(U.updating||this._doRemoveRanges(),P.a.safari){var $=this._lastInitSegments[L];$&&(this._pendingSegments[L].push($),U.updating||this._doAppendSegments())}}}},x.prototype.endOfStream=function(){var v=this._mediaSource,L=this._sourceBuffers;v&&v.readyState==="open"?L.video&&L.video.updating||L.audio&&L.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,v.endOfStream()):v&&v.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0)},x.prototype.getNearestKeyframe=function(v){return this._idrList.getLastSyncPointBeforeDts(v)},x.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var v=this._mediaElement.currentTime;for(var L in this._sourceBuffers){var U=this._sourceBuffers[L];if(U){var he=U.buffered;if(he.length>=1&&v-he.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},x.prototype._doCleanupSourceBuffer=function(){var v=this._mediaElement.currentTime;for(var L in this._sourceBuffers){var U=this._sourceBuffers[L];if(U){for(var he=U.buffered,Ee=!1,Be=0;Be<he.length;Be++){var Xe=he.start(Be),$=he.end(Be);if(Xe<=v&&v<$+3){if(v-Xe>=this._config.autoCleanupMaxBackwardDuration){Ee=!0;var te=v-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[L].push({start:Xe,end:te})}}else $<v&&(Ee=!0,this._pendingRemoveRanges[L].push({start:Xe,end:$}))}Ee&&!U.updating&&this._doRemoveRanges()}}},x.prototype._updateMediaSourceDuration=function(){var v=this._sourceBuffers;if(this._mediaElement.readyState!==0&&this._mediaSource.readyState==="open"&&!(v.video&&v.video.updating||v.audio&&v.audio.updating)){var L=this._mediaSource.duration,U=this._pendingMediaDuration;U>0&&(isNaN(L)||U>L)&&(T.a.v(this.TAG,"Update MediaSource duration from "+L+" to "+U),this._mediaSource.duration=U),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},x.prototype._doRemoveRanges=function(){for(var v in this._pendingRemoveRanges)if(this._sourceBuffers[v]&&!this._sourceBuffers[v].updating)for(var L=this._sourceBuffers[v],U=this._pendingRemoveRanges[v];U.length&&!L.updating;){var he=U.shift();L.remove(he.start,he.end)}},x.prototype._doAppendSegments=function(){var v=this._pendingSegments;for(var L in v)if(this._sourceBuffers[L]&&!this._sourceBuffers[L].updating&&v[L].length>0){var U=v[L].shift();if(U.timestampOffset){var he=this._sourceBuffers[L].timestampOffset,Ee=U.timestampOffset/1e3;Math.abs(he-Ee)>.1&&(T.a.v(this.TAG,"Update MPEG audio timestampOffset from "+he+" to "+Ee),this._sourceBuffers[L].timestampOffset=Ee),delete U.timestampOffset}if(!U.data||U.data.byteLength===0)continue;try{this._sourceBuffers[L].appendBuffer(U.data),this._isBufferFull=!1,L==="video"&&U.hasOwnProperty("info")&&this._idrList.appendArray(U.info.syncPoints)}catch(Be){this._pendingSegments[L].unshift(U),Be.code===22?(this._isBufferFull||this._emitter.emit(E.BUFFER_FULL),this._isBufferFull=!0):(T.a.e(this.TAG,Be.message),this._emitter.emit(E.ERROR,{code:Be.code,msg:Be.message}))}}},x.prototype._onSourceOpen=function(){if(T.a.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var v=this._pendingSourceBufferInit;v.length;){var L=v.shift();this.appendInitSegment(L,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(E.SOURCE_OPEN)},x.prototype._onSourceEnded=function(){T.a.v(this.TAG,"MediaSource onSourceEnded")},x.prototype._onSourceClose=function(){T.a.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},x.prototype._hasPendingSegments=function(){var v=this._pendingSegments;return v.video.length>0||v.audio.length>0},x.prototype._hasPendingRemoveRanges=function(){var v=this._pendingRemoveRanges;return v.video.length>0||v.audio.length>0},x.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(E.UPDATE_END)},x.prototype._onSourceBufferError=function(v){T.a.e(this.TAG,"SourceBuffer Error: "+v)},x}(),M=r(5),N={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},ce={NETWORK_EXCEPTION:_.b.EXCEPTION,NETWORK_STATUS_CODE_INVALID:_.b.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:_.b.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:_.b.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:M.a.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:M.a.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:M.a.CODEC_UNSUPPORTED},ye=function(){function x(v,L){this.TAG="MSEPlayer",this._type="MSEPlayer",this._emitter=new w.a,this._config=f(),typeof L=="object"&&Object.assign(this._config,L);var U=v.type.toLowerCase();if(U!=="mse"&&U!=="mpegts"&&U!=="m2ts"&&U!=="flv")throw new R.b("MSEPlayer requires an mpegts/m2ts/flv MediaDataSource input!");v.isLive===!0&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=v,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var he=P.a.chrome&&(P.a.version.major<50||P.a.version.major===50&&P.a.version.build<2661);this._alwaysSeekKeyframe=!!(he||P.a.msedge||P.a.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return x.prototype.destroy=function(){this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},x.prototype.on=function(v,L){var U=this;v===D.MEDIA_INFO?this._mediaInfo!=null&&Promise.resolve().then(function(){U._emitter.emit(D.MEDIA_INFO,U.mediaInfo)}):v===D.STATISTICS_INFO&&this._statisticsInfo!=null&&Promise.resolve().then(function(){U._emitter.emit(D.STATISTICS_INFO,U.statisticsInfo)}),this._emitter.addListener(v,L)},x.prototype.off=function(v,L){this._emitter.removeListener(v,L)},x.prototype.attachMediaElement=function(v){var L=this;if(this._mediaElement=v,v.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),v.addEventListener("seeking",this.e.onvSeeking),v.addEventListener("canplay",this.e.onvCanPlay),v.addEventListener("stalled",this.e.onvStalled),v.addEventListener("progress",this.e.onvProgress),this._msectl=new O(this._config),this._msectl.on(E.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(E.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(E.SOURCE_OPEN,function(){L._mseSourceOpened=!0,L._hasPendingLoad&&(L._hasPendingLoad=!1,L.load())}),this._msectl.on(E.ERROR,function(U){L._emitter.emit(D.ERROR,N.MEDIA_ERROR,ce.MEDIA_MSE_ERROR,U)}),this._msectl.attachMediaElement(v),this._pendingSeekTime!=null)try{v.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},x.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},x.prototype.load=function(){var v=this;if(!this._mediaElement)throw new R.a("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new R.a("MSEPlayer.load() has been called, please call unload() first!");this._hasPendingLoad||(this._config.deferLoadAfterSourceOpen&&this._mseSourceOpened===!1?this._hasPendingLoad=!0:(this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new I(this._mediaDataSource,this._config),this._transmuxer.on(C.a.INIT_SEGMENT,function(L,U){v._msectl.appendInitSegment(U)}),this._transmuxer.on(C.a.MEDIA_SEGMENT,function(L,U){if(v._msectl.appendMediaSegment(U),v._config.lazyLoad&&!v._config.isLive){var he=v._mediaElement.currentTime;U.info.endDts>=1e3*(he+v._config.lazyLoadMaxDuration)&&v._progressChecker==null&&(T.a.v(v.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),v._suspendTransmuxer())}}),this._transmuxer.on(C.a.LOADING_COMPLETE,function(){v._msectl.endOfStream(),v._emitter.emit(D.LOADING_COMPLETE)}),this._transmuxer.on(C.a.RECOVERED_EARLY_EOF,function(){v._emitter.emit(D.RECOVERED_EARLY_EOF)}),this._transmuxer.on(C.a.IO_ERROR,function(L,U){v._emitter.emit(D.ERROR,N.NETWORK_ERROR,L,U)}),this._transmuxer.on(C.a.DEMUX_ERROR,function(L,U){v._emitter.emit(D.ERROR,N.MEDIA_ERROR,L,{code:-1,msg:U})}),this._transmuxer.on(C.a.MEDIA_INFO,function(L){v._mediaInfo=L,v._emitter.emit(D.MEDIA_INFO,Object.assign({},L))}),this._transmuxer.on(C.a.METADATA_ARRIVED,function(L){v._emitter.emit(D.METADATA_ARRIVED,L)}),this._transmuxer.on(C.a.SCRIPTDATA_ARRIVED,function(L){v._emitter.emit(D.SCRIPTDATA_ARRIVED,L)}),this._transmuxer.on(C.a.TIMED_ID3_METADATA_ARRIVED,function(L){v._emitter.emit(D.TIMED_ID3_METADATA_ARRIVED,L)}),this._transmuxer.on(C.a.SCTE35_METADATA_ARRIVED,function(L){v._emitter.emit(D.SCTE35_METADATA_ARRIVED,L)}),this._transmuxer.on(C.a.PES_PRIVATE_DATA_DESCRIPTOR,function(L){v._emitter.emit(D.PES_PRIVATE_DATA_DESCRIPTOR,L)}),this._transmuxer.on(C.a.PES_PRIVATE_DATA_ARRIVED,function(L){v._emitter.emit(D.PES_PRIVATE_DATA_ARRIVED,L)}),this._transmuxer.on(C.a.STATISTICS_INFO,function(L){v._statisticsInfo=v._fillStatisticsInfo(L),v._emitter.emit(D.STATISTICS_INFO,Object.assign({},v._statisticsInfo))}),this._transmuxer.on(C.a.RECOMMEND_SEEKPOINT,function(L){v._mediaElement&&!v._config.accurateSeek&&(v._requestSetTime=!0,v._mediaElement.currentTime=L/1e3)}),this._transmuxer.open()))},x.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},x.prototype.play=function(){return this._mediaElement.play()},x.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(x.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(v){this._mediaElement.volume=v},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(v){this._mediaElement.muted=v},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(v){this._mediaElement?this._internalSeek(v):this._pendingSeekTime=v},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"statisticsInfo",{get:function(){return this._statisticsInfo==null&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),x.prototype._fillStatisticsInfo=function(v){if(v.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return v;var L=!0,U=0,he=0;if(this._mediaElement.getVideoPlaybackQuality){var Ee=this._mediaElement.getVideoPlaybackQuality();U=Ee.totalVideoFrames,he=Ee.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(U=this._mediaElement.webkitDecodedFrameCount,he=this._mediaElement.webkitDroppedFrameCount):L=!1;return L&&(v.decodedFrames=U,v.droppedFrames=he),v},x.prototype._onmseUpdateEnd=function(){var v=this._mediaElement.buffered,L=this._mediaElement.currentTime;if(this._config.isLive&&this._config.liveBufferLatencyChasing&&v.length>0&&!this._mediaElement.paused){var U=v.end(v.length-1);if(U>this._config.liveBufferLatencyMaxLatency&&U-L>this._config.liveBufferLatencyMaxLatency){var he=U-this._config.liveBufferLatencyMinRemain;this.currentTime=he}}if(this._config.lazyLoad&&!this._config.isLive){for(var Ee=0,Be=0;Be<v.length;Be++){var Xe=v.start(Be),$=v.end(Be);if(Xe<=L&&L<$){Ee=$;break}}Ee>=L+this._config.lazyLoadMaxDuration&&this._progressChecker==null&&(T.a.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},x.prototype._onmseBufferFull=function(){T.a.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._progressChecker==null&&this._suspendTransmuxer()},x.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),this._progressChecker==null&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},x.prototype._checkProgressAndResume=function(){for(var v=this._mediaElement.currentTime,L=this._mediaElement.buffered,U=!1,he=0;he<L.length;he++){var Ee=L.start(he),Be=L.end(he);if(v>=Ee&&v<Be){v>=Be-this._config.lazyLoadRecoverDuration&&(U=!0);break}}U&&(window.clearInterval(this._progressChecker),this._progressChecker=null,U&&(T.a.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},x.prototype._isTimepointBuffered=function(v){for(var L=this._mediaElement.buffered,U=0;U<L.length;U++){var he=L.start(U),Ee=L.end(U);if(v>=he&&v<Ee)return!0}return!1},x.prototype._internalSeek=function(v){var L=this._isTimepointBuffered(v),U=!1,he=0;if(v<1&&this._mediaElement.buffered.length>0){var Ee=this._mediaElement.buffered.start(0);(Ee<1&&v<Ee||P.a.safari)&&(U=!0,he=P.a.safari?.1:Ee)}if(U)this._requestSetTime=!0,this._mediaElement.currentTime=he;else if(L){if(this._alwaysSeekKeyframe){var Be=this._msectl.getNearestKeyframe(Math.floor(1e3*v));this._requestSetTime=!0,this._mediaElement.currentTime=Be!=null?Be.dts/1e3:v}else this._requestSetTime=!0,this._mediaElement.currentTime=v;this._progressChecker!=null&&this._checkProgressAndResume()}else this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(v),this._transmuxer.seek(Math.floor(1e3*v)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=v)},x.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var v=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(v)||(this._progressChecker!=null&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(v),this._transmuxer.seek(Math.floor(1e3*v)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=v))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},x.prototype._checkAndResumeStuckPlayback=function(v){var L=this._mediaElement;if(v||!this._receivedCanPlay||L.readyState<2){var U=L.buffered;U.length>0&&L.currentTime<U.start(0)&&(T.a.w(this.TAG,"Playback seems stuck at "+L.currentTime+", seek to "+U.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=U.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},x.prototype._onvLoadedMetadata=function(v){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},x.prototype._onvSeeking=function(v){var L=this._mediaElement.currentTime,U=this._mediaElement.buffered;if(this._requestSetTime)this._requestSetTime=!1;else{if(L<1&&U.length>0){var he=U.start(0);if(he<1&&L<he||P.a.safari)return this._requestSetTime=!0,void(this._mediaElement.currentTime=P.a.safari?.1:he)}if(this._isTimepointBuffered(L)){if(this._alwaysSeekKeyframe){var Ee=this._msectl.getNearestKeyframe(Math.floor(1e3*L));Ee!=null&&(this._requestSetTime=!0,this._mediaElement.currentTime=Ee.dts/1e3)}this._progressChecker!=null&&this._checkProgressAndResume()}else this._seekpointRecord={seekPoint:L,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}},x.prototype._onvCanPlay=function(v){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},x.prototype._onvStalled=function(v){this._checkAndResumeStuckPlayback(!0)},x.prototype._onvProgress=function(v){this._checkAndResumeStuckPlayback()},x}(),Re=function(){function x(v,L){this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new w.a,this._config=f(),typeof L=="object"&&Object.assign(this._config,L);var U=v.type.toLowerCase();if(U==="mse"||U==="mpegts"||U==="m2ts"||U==="flv")throw new R.b("NativePlayer does't support mse/mpegts/m2ts/flv MediaDataSource input!");if(v.hasOwnProperty("segments"))throw new R.b("NativePlayer("+v.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=v,this._mediaElement=null}return x.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},x.prototype.on=function(v,L){var U=this;v===D.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){U._emitter.emit(D.MEDIA_INFO,U.mediaInfo)}):v===D.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){U._emitter.emit(D.STATISTICS_INFO,U.statisticsInfo)}),this._emitter.addListener(v,L)},x.prototype.off=function(v,L){this._emitter.removeListener(v,L)},x.prototype.attachMediaElement=function(v){if(this._mediaElement=v,v.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{v.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},x.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},x.prototype.load=function(){if(!this._mediaElement)throw new R.a("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},x.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},x.prototype.play=function(){return this._mediaElement.play()},x.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(x.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(v){this._mediaElement.volume=v},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(v){this._mediaElement.muted=v},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(v){this._mediaElement?this._mediaElement.currentTime=v:this._pendingSeekTime=v},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"mediaInfo",{get:function(){var v={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(v.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(v.width=this._mediaElement.videoWidth,v.height=this._mediaElement.videoHeight)),v},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"statisticsInfo",{get:function(){var v={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return v;var L=!0,U=0,he=0;if(this._mediaElement.getVideoPlaybackQuality){var Ee=this._mediaElement.getVideoPlaybackQuality();U=Ee.totalVideoFrames,he=Ee.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(U=this._mediaElement.webkitDecodedFrameCount,he=this._mediaElement.webkitDroppedFrameCount):L=!1;return L&&(v.decodedFrames=U,v.droppedFrames=he),v},enumerable:!1,configurable:!0}),x.prototype._onvLoadedMetadata=function(v){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(D.MEDIA_INFO,this.mediaInfo)},x.prototype._reportStatisticsInfo=function(){this._emitter.emit(D.STATISTICS_INFO,this.statisticsInfo)},x}();o.a.install();var we={createPlayer:function(x,v){var L=x;if(L==null||typeof L!="object")throw new R.b("MediaDataSource must be an javascript object!");if(!L.hasOwnProperty("type"))throw new R.b("MediaDataSource must has type field to indicate video file type!");switch(L.type){case"mse":case"mpegts":case"m2ts":case"flv":return new ye(L,v);default:return new Re(L,v)}},isSupported:function(){return h.supportMSEH264Playback()},getFeatureList:function(){return h.getFeatureList()}};we.BaseLoader=_.a,we.LoaderStatus=_.c,we.LoaderErrors=_.b,we.Events=D,we.ErrorTypes=N,we.ErrorDetails=ce,we.MSEPlayer=ye,we.NativePlayer=Re,we.LoggingControl=Z.a,Object.defineProperty(we,"version",{enumerable:!0,get:function(){return"1.7.0"}}),i.default=we}])})})(cl);const Vi=kd(cl.exports),wh={class:"span"},Th=["src"],Ch=xe("span",{class:"label1"},"\u662F\u5426\u4E3A\u76F4\u64AD\u6D41",-1),Lh={class:"div_select"},Oh=["value"],kh={id:"sdir",class:"select2"},Ph=["value"],Dh=gn({__name:"VideoPlayer",setup(e){const t=it(""),n=it(""),i=it(!1),r=it(""),o=fi(),a=it(!1),u=it("");var f;const h=it([{url:"mv2.mp4"}]),_=it([{url:""}]),m=()=>{a.value=!1,I()},w=()=>{a.value=!0,I()},T=()=>{var M=document.getElementById("sdir").selectedIndex;document.getElementById("sdir").selectedIndex+=1,u.value!=""?t.value=u.value+"/"+h.value[M+1].url:t.value=h.value[M+1].url,r.value=D+t.value,I()},P=()=>{u.value!=""?t.value=u.value+"/"+document.getElementById("sdir").value:t.value=document.getElementById("sdir").value},D="http://139.9.32.27/src/video/",ne=()=>{i.value?J():(n.value+=`
\u5F53\u524D\u64AD\u653E\u89C6\u9891\u4E3A\uFF1A`+t.value,r.value=D+t.value,console.log("src:"+r.value))},J=()=>{if(Vi.isSupported()){let M=document.getElementById("myVideo"),N=Vi.createPlayer({isLive:!0,type:"flv",url:"http://139.9.32.27/live?port=1935&app=live&stream=video"});N.attachMediaElement(M),N.load(),N.play()}},Z=()=>{typeof WebSocket>"u"?alert("\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301socket"):(f=new WebSocket("ws://139.9.32.27:9555/ws/"+o.$state.roomId+"/"+o.$state.username),f.onopen=ee,f.onerror=C,f.onmessage=Y,f.onclose=E)},ee=()=>{console.log("socket\u8FDE\u63A5\u6210\u529F"),n.value=n.value+"\u8FDE\u63A5\u623F\u95F4\u6210\u529F"},C=()=>{console.log("\u8FDE\u63A5\u9519\u8BEF")},Y=M=>{console.log("getMessage:\u6536\u5230\u6D88\u606F");var N=JSON.parse(M.data);n.value=N.tips,N.isLive?J():t.value===N.url&&N.url!=""||(N.url!==""?r.value=D+N.url:(console.log("getMessage:\u53D1\u9001"),I()))},I=()=>{n.value=n.value+`
\u623F\u95F4\u5DF2\u540C\u6B65`;let M=document.getElementById("myVideo"),N={url:t.value,time:M.currentTime,isLive:i.value,tips:n.value,isPause:a.value};f.send(JSON.stringify(N))},E=()=>{console.log("socket\u5DF2\u7ECF\u5173\u95ED"),n.value=n.value+`
\u8FDE\u63A5\u65AD\u5F00\u4E86`},b=()=>{u.value=document.getElementById("ldir").value,R(u.value)},R=M=>{M!=""?wn.get("/sdir/"+M).then(N=>{console.log(N.data),h.value=N.data}).catch(N=>{console.log(N)}):wn.get("/sdir").then(N=>{console.log(N.data),h.value=N.data}).catch(N=>{console.log(N)})},O=()=>{wn.get("/ldir").then(N=>{console.log(N.data),N.data.forEach(ce=>_.value.push(ce))}).catch(N=>{console.log(N)});var M=document.getElementById("ldir").selectedIndex;u.value=_.value[M].url,R(u.value)};return as(()=>{Z(),O()}),(M,N)=>(Ut(),Qt(_t,null,[xe("div",null,[xe("span",wh,"\u5F53\u524D\u96C6\u6570\u4E3A"+Hn(t.value),1)]),xe("div",null,[xe("video",{autoplay:"",controls:"",src:r.value,onPause:w,onPlay:m,onEnded:T,style:{"margin-top":"5%"},height:"300",id:"myVideo"},null,40,Th)]),xe("div",null,[xe("div",null,[ni(xe("input",{type:"checkbox",class:"checkbox1","onUpdate:modelValue":N[0]||(N[0]=ce=>i.value=ce)},null,512),[[Gc,i.value]]),Ch,xe("button",{class:"button_load",onClick:ne},"\u52A0\u8F7D\u89C6\u9891")]),xe("div",Lh,[xe("select",{id:"ldir",class:"select1",onChange:b},[(Ut(!0),Qt(_t,null,Ns(_.value,ce=>(Ut(),Qt("option",{value:ce.url},Hn(ce.url),9,Oh))),256))],32),xe("select",kh,[(Ut(!0),Qt(_t,null,Ns(h.value,ce=>(Ut(),Qt("option",{value:ce.url},Hn(ce.url),9,Ph))),256))]),xe("button",{class:"button_change",onClick:P},"\u9009\u96C6")]),xe("div",null,[xe("button",{class:"button_send",onClick:I},"\u4E3A\u623F\u95F4\u63A8\u9001\u540C\u6B65")]),xe("div",null,[ni(xe("textarea",{disabled:"","onUpdate:modelValue":N[1]||(N[1]=ce=>n.value=ce),class:"tips1"},`\r
      `,512),[[Ui,n.value]])])])],64))}}),Ih={class:"span"},Bh=["src"],xh=gn({__name:"Client",setup(e){const t=fi();let n;const i="http://139.9.32.27/src/video/",r="http://139.9.32.27/live?port=1935&app=live&stream=video",o=it(""),a=it("");it(!1);const u=it(""),f=()=>{if(Vi.isSupported()){var P=document.getElementById("myVideo"),D=Vi.createPlayer({isLive:!0,type:"flv",url:r});D.attachMediaElement(P),D.load(),D.play()}},h=()=>{typeof WebSocket>"u"?alert("\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301socket"):(n=new WebSocket("ws://139.9.32.27:9555/ws/"+t.$state.roomId+"/"+t.$state.username),n.onopen=_,n.onerror=m,n.onmessage=w,n.onclose=T)},_=()=>{console.log("socket\u8FDE\u63A5\u6210\u529F"),a.value=a.value+"\u8FDE\u63A5\u623F\u95F4\u6210\u529F"},m=()=>{console.log("\u8FDE\u63A5\u9519\u8BEF")},w=P=>{let D=JSON.parse(P.data);if(a.value=D.tips,D.isLive)f();else if(o.value===D.url){var ne=document.getElementById("myVideo");ne.currentTime!=D.time&&(document.getElementById("myVideo").currentTime=D.time,document.getElementById("myVideo").play()),console.log(D.isPause),D.isPause?(document.getElementById("myVideo").pause(),console.log("isPause\u6682\u505C")):(document.getElementById("myVideo").play(),console.log("isPause\u64AD\u653E"))}else D.url!=""&&(o.value=D.url,u.value=i+D.url,console.log("src:"+u.value),document.getElementById("myVideo").currentTime=D.time,document.getElementById("myVideo").play())},T=()=>{console.log("socket\u5DF2\u7ECF\u5173\u95ED"),a.value=a.value+`
\u8FDE\u63A5\u65AD\u5F00\u4E86`};return as(()=>{h()}),(P,D)=>(Ut(),Qt(_t,null,[xe("div",null,[xe("span",Ih,"\u5F53\u524D\u96C6\u6570\u4E3A"+Hn(o.value.value),1)]),xe("div",null,[xe("video",{autoplay:"",src:u.value,style:{"margin-top":"5%"},height:"300",id:"myVideo"},null,8,Bh)]),xe("div",null,[ni(xe("textarea",{disabled:"","onUpdate:modelValue":D[0]||(D[0]=ne=>a.value=ne),class:"tips"},`\r
    `,512),[[Ui,a.value]])])],64))}}),dl=e=>(vu("data-v-c45710b9"),e=e(),bu(),e),Mh={class:"div1"},Uh=dl(()=>xe("span",{class:"a1"},"\u8BF7\u8F93\u5165\u4E00\u4E2A\u597D\u542C\u7684\u540D\u5B57",-1)),Nh={class:"div2"},Fh=dl(()=>xe("span",{class:"a1"},"\u8BF7\u8F93\u5165\u623F\u95F4\u53F7",-1)),jh=gn({__name:"MainView",setup(e){const t=fi(),n=Eh(),i=it(""),r=it(0),o=()=>{i.value!=""?(t.$state.username=i.value,t.$state.roomId=r.value,n.push("/player")):alert("\u8BF7\u8F93\u5165\u7528\u6237\u540D")},a=()=>{i?(t.$state.username=i.value,t.$state.roomId=r.value,n.push("/client")):alert("\u8BF7\u8F93\u5165\u7528\u6237\u540D")};return(u,f)=>(Ut(),Qt(_t,null,[xe("div",Mh,[Uh,ni(xe("input",{class:"input1","onUpdate:modelValue":f[0]||(f[0]=h=>i.value=h)},null,512),[[Ui,i.value]])]),xe("div",Nh,[Fh,ni(xe("input",{class:"input2","onUpdate:modelValue":f[1]||(f[1]=h=>r.value=h)},null,512),[[Ui,r.value]])]),xe("div",{class:"div3"},[xe("button",{class:"button1",onClick:o},"\u521B\u5EFA\u623F\u95F4"),xe("button",{class:"button2",onClick:a},"\u52A0\u5165\u623F\u95F4")])],64))}}),Vh=ul(jh,[["__scopeId","data-v-c45710b9"]]),fl=vh({history:Mf("/"),routes:[{path:"/global",name:"global",component:Rh,children:[{path:"/player",name:"player",component:Dh},{path:"/client",name:"client",component:xh}]},{path:"/main",name:"main",component:Vh},{path:"/",redirect:"/main"}]});let bi=null;fl.beforeEach((e,t,n)=>{if(bi===null&&(bi=fi()),(e.path==="/"||e.path==="/main")&&n(),bi.roomId==0&&bi.username=="")return n({name:"main"});n()});wn.defaults.baseURL="/api";wn.defaults.withCredentials=!0;const lr=Kc(Sh);lr.use(Jc());lr.use(fl);lr.use(ki,wn);lr.mount("#app")});export default Gh();
